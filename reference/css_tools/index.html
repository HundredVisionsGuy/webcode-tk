
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../html_tools/">
      
      
        <link rel="next" href="../cascade_tools/">
      
      
        
      
      
      <link rel="icon" href="../../docs/docs_assets/images/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>css_tools.py - webcode-tk docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="dark" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#css_toolspy" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="webcode-tk docs" class="md-header__button md-logo" aria-label="webcode-tk docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M360.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m64.6 136.1c-12.5 12.5-12.5 32.8 0 45.3l73.4 73.4-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3l-96-96c-12.5-12.5-32.8-12.5-45.3 0zm-274.7 0c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l73.3-73.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            webcode-tk docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              css_tools.py
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="webcode-tk docs" class="md-nav__button md-logo" aria-label="webcode-tk docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M360.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m64.6 136.1c-12.5 12.5-12.5 32.8 0 45.3l73.4 73.4-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3l-96-96c-12.5-12.5-32.8-12.5-45.3 0zm-274.7 0c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l73.3-73.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg>

    </a>
    webcode-tk docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    webcode-tk Docs
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tutorials
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../html_tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    html_tools.py
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    css_tools.py
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    css_tools.py
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools" class="md-nav__link">
    <span class="md-ellipsis">
      
        css_tools
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Declaration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Declaration
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Declaration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Declaration.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Declaration.get_declaration" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_declaration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Declaration.set_declaration" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_declaration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Declaration.validate_declaration" class="md-nav__link">
    <span class="md-ellipsis">
      
        validate_declaration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Declaration.validate_property" class="md-nav__link">
    <span class="md-ellipsis">
      
        validate_property
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Declaration.validate_value" class="md-nav__link">
    <span class="md-ellipsis">
      
        validate_value
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.DeclarationBlock" class="md-nav__link">
    <span class="md-ellipsis">
      
        DeclarationBlock
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DeclarationBlock">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.DeclarationBlock.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.DeclarationBlock.__set_declarations" class="md-nav__link">
    <span class="md-ellipsis">
      
        __set_declarations
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.NestedAtRule" class="md-nav__link">
    <span class="md-ellipsis">
      
        NestedAtRule
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="NestedAtRule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.NestedAtRule.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.NestedAtRule.check_repeat_selectors" class="md-nav__link">
    <span class="md-ellipsis">
      
        check_repeat_selectors
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.NestedAtRule.set_rulesets" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_rulesets
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Ruleset" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ruleset
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ruleset">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Ruleset.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Ruleset.initialize" class="md-nav__link">
    <span class="md-ellipsis">
      
        initialize
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Ruleset.validate" class="md-nav__link">
    <span class="md-ellipsis">
      
        validate
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Stylesheet" class="md-nav__link">
    <span class="md-ellipsis">
      
        Stylesheet
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Stylesheet">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Stylesheet.__clean_text" class="md-nav__link">
    <span class="md-ellipsis">
      
        __clean_text
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Stylesheet.__extract_comments" class="md-nav__link">
    <span class="md-ellipsis">
      
        __extract_comments
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Stylesheet.__extract_nested_at_rules" class="md-nav__link">
    <span class="md-ellipsis">
      
        __extract_nested_at_rules
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Stylesheet.__extract_rulesets" class="md-nav__link">
    <span class="md-ellipsis">
      
        __extract_rulesets
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Stylesheet.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Stylesheet.__minify" class="md-nav__link">
    <span class="md-ellipsis">
      
        __minify
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Stylesheet.__replace_variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        __replace_variables
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Stylesheet.__set_selectors" class="md-nav__link">
    <span class="md-ellipsis">
      
        __set_selectors
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Stylesheet.get_color_ruleset" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_color_ruleset
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Stylesheet.sort_selectors" class="md-nav__link">
    <span class="md-ellipsis">
      
        sort_selectors
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.adjust_overrides" class="md-nav__link">
    <span class="md-ellipsis">
      
        adjust_overrides
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.border_checks_out" class="md-nav__link">
    <span class="md-ellipsis">
      
        border_checks_out
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.check_for_inherited_colors" class="md-nav__link">
    <span class="md-ellipsis">
      
        check_for_inherited_colors
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.condense_the_rules" class="md-nav__link">
    <span class="md-ellipsis">
      
        condense_the_rules
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.file_applies_property_by_selector" class="md-nav__link">
    <span class="md-ellipsis">
      
        file_applies_property_by_selector
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.fonts_applied_report" class="md-nav__link">
    <span class="md-ellipsis">
      
        fonts_applied_report
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_all_color_rules" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_all_color_rules
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_all_font_rules" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_all_font_rules
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_all_link_rules" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_all_link_rules
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_all_link_selectors" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_all_link_selectors
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_all_project_stylesheets" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_all_project_stylesheets
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_all_styles_in_order" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_all_styles_in_order
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_all_stylesheets_by_file" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_all_stylesheets_by_file
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_background_color" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_background_color
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_class_score" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_class_score
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_color_codes_of_type" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_color_codes_of_type
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_color_data" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_color_data
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_color_rules_from_stylesheet" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_color_rules_from_stylesheet
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_colors_from_gradient" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_colors_from_gradient
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_comment_positions" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_comment_positions
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_declaration_value_by_property" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_declaration_value_by_property
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_families" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_families
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_font_families" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_font_families
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_global_color_details" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_global_color_details
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_global_color_report" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_global_color_report
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_global_colors" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_global_colors
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_header_color_details" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_header_color_details
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_header_selectors" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_header_selectors
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_heading_color_report" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_heading_color_report
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_id_score" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_id_score
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_link_color_data" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_link_color_data
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_number_required_selectors" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_number_required_selectors
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_project_color_contrast" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_project_color_contrast
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_project_color_contrast_report" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_project_color_contrast_report
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_project_global_colors" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_project_global_colors
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_properties_applied_report" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_properties_applied_report
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_selector_type" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_selector_type
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_shorthand" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_shorthand
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_specificity" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_specificity
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_styles_by_html_files" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_styles_by_html_files
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_type_score" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_type_score
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_unique_font_rules" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_unique_font_rules
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_variables
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.has_link_selector" class="md-nav__link">
    <span class="md-ellipsis">
      
        has_link_selector
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.has_required_property" class="md-nav__link">
    <span class="md-ellipsis">
      
        has_required_property
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.has_vendor_prefix" class="md-nav__link">
    <span class="md-ellipsis">
      
        has_vendor_prefix
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.is_gradient" class="md-nav__link">
    <span class="md-ellipsis">
      
        is_gradient
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.is_link_selector" class="md-nav__link">
    <span class="md-ellipsis">
      
        is_link_selector
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.is_required_selector" class="md-nav__link">
    <span class="md-ellipsis">
      
        is_required_selector
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.is_selector_at_end_of_descendant" class="md-nav__link">
    <span class="md-ellipsis">
      
        is_selector_at_end_of_descendant
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.minify_code" class="md-nav__link">
    <span class="md-ellipsis">
      
        minify_code
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.no_style_attributes_allowed_report" class="md-nav__link">
    <span class="md-ellipsis">
      
        no_style_attributes_allowed_report
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.passes_global_color_contrast" class="md-nav__link">
    <span class="md-ellipsis">
      
        passes_global_color_contrast
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.process_gradient" class="md-nav__link">
    <span class="md-ellipsis">
      
        process_gradient
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.remove_alpha" class="md-nav__link">
    <span class="md-ellipsis">
      
        remove_alpha
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.restore_braces" class="md-nav__link">
    <span class="md-ellipsis">
      
        restore_braces
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.separate_code" class="md-nav__link">
    <span class="md-ellipsis">
      
        separate_code
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.sort_color_codes" class="md-nav__link">
    <span class="md-ellipsis">
      
        sort_color_codes
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.styles_applied_report" class="md-nav__link">
    <span class="md-ellipsis">
      
        styles_applied_report
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../cascade_tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    cascade_tools.py
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../color_keywords/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    color_keywords.py
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../color_tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    color_tools.py
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../animation_tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    animation_tools.py
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../ux_tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ux_tools.py
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    utils.py
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../validator_tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    validator_tools.py
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../explanation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Explanation
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools" class="md-nav__link">
    <span class="md-ellipsis">
      
        css_tools
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Declaration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Declaration
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Declaration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Declaration.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Declaration.get_declaration" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_declaration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Declaration.set_declaration" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_declaration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Declaration.validate_declaration" class="md-nav__link">
    <span class="md-ellipsis">
      
        validate_declaration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Declaration.validate_property" class="md-nav__link">
    <span class="md-ellipsis">
      
        validate_property
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Declaration.validate_value" class="md-nav__link">
    <span class="md-ellipsis">
      
        validate_value
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.DeclarationBlock" class="md-nav__link">
    <span class="md-ellipsis">
      
        DeclarationBlock
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DeclarationBlock">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.DeclarationBlock.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.DeclarationBlock.__set_declarations" class="md-nav__link">
    <span class="md-ellipsis">
      
        __set_declarations
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.NestedAtRule" class="md-nav__link">
    <span class="md-ellipsis">
      
        NestedAtRule
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="NestedAtRule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.NestedAtRule.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.NestedAtRule.check_repeat_selectors" class="md-nav__link">
    <span class="md-ellipsis">
      
        check_repeat_selectors
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.NestedAtRule.set_rulesets" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_rulesets
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Ruleset" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ruleset
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ruleset">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Ruleset.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Ruleset.initialize" class="md-nav__link">
    <span class="md-ellipsis">
      
        initialize
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Ruleset.validate" class="md-nav__link">
    <span class="md-ellipsis">
      
        validate
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Stylesheet" class="md-nav__link">
    <span class="md-ellipsis">
      
        Stylesheet
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Stylesheet">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Stylesheet.__clean_text" class="md-nav__link">
    <span class="md-ellipsis">
      
        __clean_text
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Stylesheet.__extract_comments" class="md-nav__link">
    <span class="md-ellipsis">
      
        __extract_comments
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Stylesheet.__extract_nested_at_rules" class="md-nav__link">
    <span class="md-ellipsis">
      
        __extract_nested_at_rules
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Stylesheet.__extract_rulesets" class="md-nav__link">
    <span class="md-ellipsis">
      
        __extract_rulesets
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Stylesheet.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Stylesheet.__minify" class="md-nav__link">
    <span class="md-ellipsis">
      
        __minify
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Stylesheet.__replace_variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        __replace_variables
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Stylesheet.__set_selectors" class="md-nav__link">
    <span class="md-ellipsis">
      
        __set_selectors
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Stylesheet.get_color_ruleset" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_color_ruleset
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.Stylesheet.sort_selectors" class="md-nav__link">
    <span class="md-ellipsis">
      
        sort_selectors
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.adjust_overrides" class="md-nav__link">
    <span class="md-ellipsis">
      
        adjust_overrides
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.border_checks_out" class="md-nav__link">
    <span class="md-ellipsis">
      
        border_checks_out
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.check_for_inherited_colors" class="md-nav__link">
    <span class="md-ellipsis">
      
        check_for_inherited_colors
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.condense_the_rules" class="md-nav__link">
    <span class="md-ellipsis">
      
        condense_the_rules
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.file_applies_property_by_selector" class="md-nav__link">
    <span class="md-ellipsis">
      
        file_applies_property_by_selector
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.fonts_applied_report" class="md-nav__link">
    <span class="md-ellipsis">
      
        fonts_applied_report
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_all_color_rules" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_all_color_rules
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_all_font_rules" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_all_font_rules
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_all_link_rules" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_all_link_rules
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_all_link_selectors" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_all_link_selectors
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_all_project_stylesheets" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_all_project_stylesheets
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_all_styles_in_order" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_all_styles_in_order
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_all_stylesheets_by_file" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_all_stylesheets_by_file
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_background_color" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_background_color
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_class_score" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_class_score
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_color_codes_of_type" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_color_codes_of_type
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_color_data" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_color_data
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_color_rules_from_stylesheet" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_color_rules_from_stylesheet
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_colors_from_gradient" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_colors_from_gradient
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_comment_positions" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_comment_positions
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_declaration_value_by_property" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_declaration_value_by_property
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_families" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_families
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_font_families" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_font_families
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_global_color_details" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_global_color_details
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_global_color_report" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_global_color_report
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_global_colors" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_global_colors
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_header_color_details" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_header_color_details
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_header_selectors" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_header_selectors
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_heading_color_report" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_heading_color_report
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_id_score" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_id_score
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_link_color_data" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_link_color_data
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_number_required_selectors" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_number_required_selectors
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_project_color_contrast" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_project_color_contrast
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_project_color_contrast_report" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_project_color_contrast_report
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_project_global_colors" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_project_global_colors
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_properties_applied_report" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_properties_applied_report
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_selector_type" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_selector_type
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_shorthand" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_shorthand
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_specificity" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_specificity
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_styles_by_html_files" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_styles_by_html_files
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_type_score" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_type_score
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_unique_font_rules" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_unique_font_rules
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.get_variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_variables
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.has_link_selector" class="md-nav__link">
    <span class="md-ellipsis">
      
        has_link_selector
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.has_required_property" class="md-nav__link">
    <span class="md-ellipsis">
      
        has_required_property
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.has_vendor_prefix" class="md-nav__link">
    <span class="md-ellipsis">
      
        has_vendor_prefix
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.is_gradient" class="md-nav__link">
    <span class="md-ellipsis">
      
        is_gradient
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.is_link_selector" class="md-nav__link">
    <span class="md-ellipsis">
      
        is_link_selector
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.is_required_selector" class="md-nav__link">
    <span class="md-ellipsis">
      
        is_required_selector
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.is_selector_at_end_of_descendant" class="md-nav__link">
    <span class="md-ellipsis">
      
        is_selector_at_end_of_descendant
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.minify_code" class="md-nav__link">
    <span class="md-ellipsis">
      
        minify_code
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.no_style_attributes_allowed_report" class="md-nav__link">
    <span class="md-ellipsis">
      
        no_style_attributes_allowed_report
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.passes_global_color_contrast" class="md-nav__link">
    <span class="md-ellipsis">
      
        passes_global_color_contrast
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.process_gradient" class="md-nav__link">
    <span class="md-ellipsis">
      
        process_gradient
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.remove_alpha" class="md-nav__link">
    <span class="md-ellipsis">
      
        remove_alpha
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.restore_braces" class="md-nav__link">
    <span class="md-ellipsis">
      
        restore_braces
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.separate_code" class="md-nav__link">
    <span class="md-ellipsis">
      
        separate_code
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.sort_color_codes" class="md-nav__link">
    <span class="md-ellipsis">
      
        sort_color_codes
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webcode_tk.css_tools.styles_applied_report" class="md-nav__link">
    <span class="md-ellipsis">
      
        styles_applied_report
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="css_toolspy">css_tools.py</h1>


<div class="doc doc-object doc-module">



<a id="webcode_tk.css_tools"></a>
    <div class="doc doc-contents first">

        <p>CSS
This module is a set of tools to analyze CSS syntax as well as properties
and values.</p>










<div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="webcode_tk.css_tools.Declaration" class="doc doc-heading">
            <code>Declaration</code>


</h2>


    <div class="doc doc-contents ">



        <p>A property and value pair.</p>
<p>A declaration is a pairing of a property with a specific value.
Examples include: <code>font-family: Helvetica;</code> which changes the
font to Helvetica. Another example could be <code>min-height: 100px</code>
which sets the height of the element to be at the very least
100 pixels.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="webcode_tk.css_tools.Declaration.text">text</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the text of the declaration in the form of
<code>property: value;</code></p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="webcode_tk.css_tools.Declaration.property">property</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the thing you want to change (like <code>color</code>
or <code>border-width</code>.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="webcode_tk.css_tools.Declaration.value">value</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>what you want to change it to (like <code>aquamarine</code>
or <code>5px</code></p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Declaration</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A property and value pair.</span>

<span class="sd">    A declaration is a pairing of a property with a specific value.</span>
<span class="sd">    Examples include: `font-family: Helvetica;` which changes the</span>
<span class="sd">    font to Helvetica. Another example could be `min-height: 100px`</span>
<span class="sd">    which sets the height of the element to be at the very least</span>
<span class="sd">    100 pixels.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        text (str): the text of the declaration in the form of</span>
<span class="sd">            `property: value;`</span>
<span class="sd">        property (str): the thing you want to change (like `color`</span>
<span class="sd">            or `border-width`.</span>
<span class="sd">        value (str): what you want to change it to (like `aquamarine`</span>
<span class="sd">            or `5px`&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Inits a Declaration object.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__text</span> <span class="o">=</span> <span class="n">text</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">property</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">invalid_message</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_color</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="c1"># validate before trying to set the declaration.</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">validate_declaration</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">is_valid</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_declaration</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">is_color_property</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">is_valid</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">invalid_message</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_declaration</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets the property and value based on the text (CSS code).</span>

<span class="sd">        Note: this only gets run if the declaration was valid, and</span>
<span class="sd">        we already ran the validation. Had the code not been valid,</span>
<span class="sd">        it would have already thrown an exception, and we wouldn&#39;t</span>
<span class="sd">        be in this method.&quot;&quot;&quot;</span>
        <span class="n">elements</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">property</span> <span class="o">=</span> <span class="n">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">elements</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">validate_declaration</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Raises a ValueError if any part of the Declaration is</span>
<span class="sd">        invalid.&quot;&quot;&quot;</span>

        <span class="c1"># split text at colon (should have 2 items only: the property</span>
        <span class="c1"># on the left of the colon and the value on the right of the</span>
        <span class="c1"># colon)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="nb">property</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="k">if</span> <span class="s2">&quot;not enough values&quot;</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">):</span>
                <span class="c1"># There was no colon - there must be one</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;The code is missing a colon. All declarations &quot;</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;must have a colon between the property and &quot;</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;the value.&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">elif</span> <span class="s2">&quot;too many values&quot;</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">):</span>
                <span class="c1"># There were two or more colons - can only be one</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;You have too many colons. There should only be &quot;</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;one colon between the property and the value.&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">validate_property</span><span class="p">(</span><span class="nb">property</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">validate_value</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">validate_property</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">property</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;checks property to make sure it is a valid CSS property.</span>

<span class="sd">        A CSS property is valid if there are no spaces in between the</span>
<span class="sd">        text. In future versions, we could check against a list of</span>
<span class="sd">        valid properties, but that might take us down a rabbit hole</span>
<span class="sd">        of ever changing properties.</span>

<span class="sd">        Args:</span>
<span class="sd">            property (str): the property of the Declaration which might</span>
<span class="sd">                or might not be valid.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if the property is an invalid property</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># Make sure there are no spaces in between property</span>
        <span class="n">prop_list</span> <span class="o">=</span> <span class="nb">property</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">prop_list</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;You cannot have a space in the middle of a property.&quot;</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;Did you forget the dash `-`?&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">validate_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="nb">property</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Raises a ValueError if the value is invalid.</span>

<span class="sd">        Caveat: this is by no means a comprehensive validation, and</span>
<span class="sd">        so there is much room for improvement. For now, we&#39;re focusing</span>
<span class="sd">        on the basics, such as there can be no text after the semi-</span>
<span class="sd">        colon and there should be no units if the value is 0.</span>

<span class="sd">        In future versions, we could extend the validation to make</span>
<span class="sd">        sure the units match the property, which is why we added a</span>
<span class="sd">        default value for property.</span>

<span class="sd">        Args:</span>
<span class="sd">            value (str): the code after the colon (what specifically</span>
<span class="sd">                do you want the property set to)</span>
<span class="sd">            property (str): the property which defaults to None.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if the value is invalid.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">property</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">property</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="c1"># Make sure there&#39;s nothing after the semi-colon</span>
        <span class="c1"># but account for the empty string element after the split</span>
        <span class="c1"># as well as spaces (just in case)</span>
        <span class="n">val_list</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">val_list</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">val_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;There should be no text after the semi-colon.&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;;&quot;</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">value</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;You are missing a value. You must include a &quot;</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;value in between the colon : and the semi-&quot;</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;colon ;&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="c1"># Check for a value of 0 and make sure there are no units</span>
        <span class="n">zero_pattern</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;^\b0\w&quot;</span>
        <span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">zero_pattern</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Values of 0 do not need a unit. Example: 0px should &quot;</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;be just 0.&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="c1"># TODO: add some validation based on property type</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_declaration</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the declaration in the form of `property: value`</span>

<span class="sd">        Returns:</span>
<span class="sd">            declaration (str): a property and its value separated by</span>
<span class="sd">            a colon. Example: `&quot;color: rebeccapurple&quot;`&quot;&quot;&quot;</span>

        <span class="n">declaration</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">property</span> <span class="o">+</span> <span class="s2">&quot;: &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span>
        <span class="k">return</span> <span class="n">declaration</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">is_color_property</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;;&quot;</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_color</span> <span class="o">=</span> <span class="n">color_tools</span><span class="o">.</span><span class="n">is_color_value</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="webcode_tk.css_tools.Declaration.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">text</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Inits a Declaration object.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Inits a Declaration object.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">__text</span> <span class="o">=</span> <span class="n">text</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">property</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">invalid_message</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">is_color</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="c1"># validate before trying to set the declaration.</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">validate_declaration</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_valid</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_declaration</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_color_property</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_valid</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">invalid_message</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="webcode_tk.css_tools.Declaration.get_declaration" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_declaration</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns the declaration in the form of <code>property: value</code></p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>declaration</code></td>            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a property and its value separated by</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td></td>            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a colon. Example: <code>"color: rebeccapurple"</code></p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_declaration</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the declaration in the form of `property: value`</span>

<span class="sd">    Returns:</span>
<span class="sd">        declaration (str): a property and its value separated by</span>
<span class="sd">        a colon. Example: `&quot;color: rebeccapurple&quot;`&quot;&quot;&quot;</span>

    <span class="n">declaration</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">property</span> <span class="o">+</span> <span class="s2">&quot;: &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span>
    <span class="k">return</span> <span class="n">declaration</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="webcode_tk.css_tools.Declaration.set_declaration" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_declaration</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Sets the property and value based on the text (CSS code).</p>
<p>Note: this only gets run if the declaration was valid, and
we already ran the validation. Had the code not been valid,
it would have already thrown an exception, and we wouldn't
be in this method.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_declaration</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets the property and value based on the text (CSS code).</span>

<span class="sd">    Note: this only gets run if the declaration was valid, and</span>
<span class="sd">    we already ran the validation. Had the code not been valid,</span>
<span class="sd">    it would have already thrown an exception, and we wouldn&#39;t</span>
<span class="sd">    be in this method.&quot;&quot;&quot;</span>
    <span class="n">elements</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">property</span> <span class="o">=</span> <span class="n">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">elements</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="webcode_tk.css_tools.Declaration.validate_declaration" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">validate_declaration</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Raises a ValueError if any part of the Declaration is
invalid.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">validate_declaration</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raises a ValueError if any part of the Declaration is</span>
<span class="sd">    invalid.&quot;&quot;&quot;</span>

    <span class="c1"># split text at colon (should have 2 items only: the property</span>
    <span class="c1"># on the left of the colon and the value on the right of the</span>
    <span class="c1"># colon)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nb">property</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
        <span class="k">if</span> <span class="s2">&quot;not enough values&quot;</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">):</span>
            <span class="c1"># There was no colon - there must be one</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;The code is missing a colon. All declarations &quot;</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;must have a colon between the property and &quot;</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;the value.&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">elif</span> <span class="s2">&quot;too many values&quot;</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">):</span>
            <span class="c1"># There were two or more colons - can only be one</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;You have too many colons. There should only be &quot;</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;one colon between the property and the value.&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">validate_property</span><span class="p">(</span><span class="nb">property</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">validate_value</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="webcode_tk.css_tools.Declaration.validate_property" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">validate_property</span><span class="p">(</span><span class="nb">property</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>checks property to make sure it is a valid CSS property.</p>
<p>A CSS property is valid if there are no spaces in between the
text. In future versions, we could check against a list of
valid properties, but that might take us down a rabbit hole
of ever changing properties.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>property</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the property of the Declaration which might
or might not be valid.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if the property is an invalid property</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">validate_property</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">property</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;checks property to make sure it is a valid CSS property.</span>

<span class="sd">    A CSS property is valid if there are no spaces in between the</span>
<span class="sd">    text. In future versions, we could check against a list of</span>
<span class="sd">    valid properties, but that might take us down a rabbit hole</span>
<span class="sd">    of ever changing properties.</span>

<span class="sd">    Args:</span>
<span class="sd">        property (str): the property of the Declaration which might</span>
<span class="sd">            or might not be valid.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: if the property is an invalid property</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Make sure there are no spaces in between property</span>
    <span class="n">prop_list</span> <span class="o">=</span> <span class="nb">property</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">prop_list</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;You cannot have a space in the middle of a property.&quot;</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;Did you forget the dash `-`?&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="webcode_tk.css_tools.Declaration.validate_value" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">validate_value</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">property</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Raises a ValueError if the value is invalid.</p>
<p>Caveat: this is by no means a comprehensive validation, and
so there is much room for improvement. For now, we're focusing
on the basics, such as there can be no text after the semi-
colon and there should be no units if the value is 0.</p>
<p>In future versions, we could extend the validation to make
sure the units match the property, which is why we added a
default value for property.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the code after the colon (what specifically
do you want the property set to)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>property</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the property which defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if the value is invalid.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">validate_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="nb">property</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raises a ValueError if the value is invalid.</span>

<span class="sd">    Caveat: this is by no means a comprehensive validation, and</span>
<span class="sd">    so there is much room for improvement. For now, we&#39;re focusing</span>
<span class="sd">    on the basics, such as there can be no text after the semi-</span>
<span class="sd">    colon and there should be no units if the value is 0.</span>

<span class="sd">    In future versions, we could extend the validation to make</span>
<span class="sd">    sure the units match the property, which is why we added a</span>
<span class="sd">    default value for property.</span>

<span class="sd">    Args:</span>
<span class="sd">        value (str): the code after the colon (what specifically</span>
<span class="sd">            do you want the property set to)</span>
<span class="sd">        property (str): the property which defaults to None.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: if the value is invalid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">property</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">property</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="c1"># Make sure there&#39;s nothing after the semi-colon</span>
    <span class="c1"># but account for the empty string element after the split</span>
    <span class="c1"># as well as spaces (just in case)</span>
    <span class="n">val_list</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">val_list</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">val_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;There should be no text after the semi-colon.&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;;&quot;</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">value</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;You are missing a value. You must include a &quot;</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;value in between the colon : and the semi-&quot;</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;colon ;&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="c1"># Check for a value of 0 and make sure there are no units</span>
    <span class="n">zero_pattern</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;^\b0\w&quot;</span>
    <span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">zero_pattern</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Values of 0 do not need a unit. Example: 0px should &quot;</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;be just 0.&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="webcode_tk.css_tools.DeclarationBlock" class="doc doc-heading">
            <code>DeclarationBlock</code>


</h2>


    <div class="doc doc-contents ">



        <p>A set of properties and values that go with a selector</p>
<p>In CSS a declaration block is a block of code set off by curly
brackets <code>{}</code>. They come after a selector and contain one or more
declarations (pairs of properties and values such as
<code>width: 200px</code>).</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="webcode_tk.css_tools.DeclarationBlock.text">text</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>full text of the declaration block including
curly brackets.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="webcode_tk.css_tools.DeclarationBlock.declarations">declarations</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of Declaration objects (see the
Declaration class below).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">DeclarationBlock</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A set of properties and values that go with a selector</span>

<span class="sd">    In CSS a declaration block is a block of code set off by curly</span>
<span class="sd">    brackets `{}`. They come after a selector and contain one or more</span>
<span class="sd">    declarations (pairs of properties and values such as</span>
<span class="sd">    `width: 200px`).</span>

<span class="sd">    Attributes:</span>
<span class="sd">        text (str): full text of the declaration block including</span>
<span class="sd">            curly brackets.</span>
<span class="sd">        declarations: a list of Declaration objects (see the</span>
<span class="sd">            Declaration class below).&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Inits a declaration block&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">text</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">declarations</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__set_declarations</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__set_declarations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;converts text into a list of declarations.&quot;&quot;&quot;</span>
        <span class="n">declarations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span>

        <span class="c1"># remove selectors and braces if present</span>
        <span class="k">if</span> <span class="s2">&quot;{&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">:</span>
            <span class="n">declarations</span> <span class="o">=</span> <span class="n">declarations</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;{&quot;</span><span class="p">)</span>
            <span class="n">declarations</span> <span class="o">=</span> <span class="n">declarations</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">if</span> <span class="s2">&quot;}&quot;</span> <span class="ow">in</span> <span class="n">declarations</span><span class="p">:</span>
            <span class="n">declarations</span> <span class="o">=</span> <span class="n">declarations</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;}&quot;</span><span class="p">)</span>
            <span class="n">declarations</span> <span class="o">=</span> <span class="n">declarations</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="n">declarations</span> <span class="o">=</span> <span class="n">declarations</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">)</span>

        <span class="c1"># remove all spaces and line returns</span>
        <span class="c1"># capture positions of content we want to keep</span>
        <span class="n">keep</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">declarations</span><span class="p">)):</span>
            <span class="n">declarations</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">declarations</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="n">declarations</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">declarations</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">declarations</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                <span class="n">keep</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

        <span class="c1"># get only declarations with content</span>
        <span class="n">to_keep</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">pos</span> <span class="ow">in</span> <span class="n">keep</span><span class="p">:</span>
            <span class="n">to_keep</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">declarations</span><span class="p">[</span><span class="n">pos</span><span class="p">])</span>
        <span class="n">declarations</span> <span class="o">=</span> <span class="n">to_keep</span>

        <span class="c1"># set all Declaration objects</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">declarations</span><span class="p">)):</span>
            <span class="n">declarations</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">Declaration</span><span class="p">(</span><span class="n">declarations</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">declarations</span> <span class="o">=</span> <span class="n">declarations</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="webcode_tk.css_tools.DeclarationBlock.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">text</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Inits a declaration block</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Inits a declaration block&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">text</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">declarations</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">__set_declarations</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="webcode_tk.css_tools.DeclarationBlock.__set_declarations" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">__set_declarations</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>converts text into a list of declarations.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">__set_declarations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;converts text into a list of declarations.&quot;&quot;&quot;</span>
    <span class="n">declarations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span>

    <span class="c1"># remove selectors and braces if present</span>
    <span class="k">if</span> <span class="s2">&quot;{&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">:</span>
        <span class="n">declarations</span> <span class="o">=</span> <span class="n">declarations</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;{&quot;</span><span class="p">)</span>
        <span class="n">declarations</span> <span class="o">=</span> <span class="n">declarations</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">if</span> <span class="s2">&quot;}&quot;</span> <span class="ow">in</span> <span class="n">declarations</span><span class="p">:</span>
        <span class="n">declarations</span> <span class="o">=</span> <span class="n">declarations</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;}&quot;</span><span class="p">)</span>
        <span class="n">declarations</span> <span class="o">=</span> <span class="n">declarations</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">declarations</span> <span class="o">=</span> <span class="n">declarations</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">)</span>

    <span class="c1"># remove all spaces and line returns</span>
    <span class="c1"># capture positions of content we want to keep</span>
    <span class="n">keep</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">declarations</span><span class="p">)):</span>
        <span class="n">declarations</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">declarations</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">declarations</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">declarations</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">declarations</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
            <span class="n">keep</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

    <span class="c1"># get only declarations with content</span>
    <span class="n">to_keep</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">pos</span> <span class="ow">in</span> <span class="n">keep</span><span class="p">:</span>
        <span class="n">to_keep</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">declarations</span><span class="p">[</span><span class="n">pos</span><span class="p">])</span>
    <span class="n">declarations</span> <span class="o">=</span> <span class="n">to_keep</span>

    <span class="c1"># set all Declaration objects</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">declarations</span><span class="p">)):</span>
        <span class="n">declarations</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">Declaration</span><span class="p">(</span><span class="n">declarations</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">declarations</span> <span class="o">=</span> <span class="n">declarations</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="webcode_tk.css_tools.NestedAtRule" class="doc doc-heading">
            <code>NestedAtRule</code>


</h2>


    <div class="doc doc-contents ">



        <p>An at-rule rule that is nested, such as @media or @keyframes.</p>
<p>Nested at-rules include animation keyframes, styles for print
(@media print), and breakpoints (@media screen). Each nested
at-rule has an at-rule, which works like a selector, and a
ruleset for that at-rule. The ruleset may contain any number
of selectors and their declaration blocks.</p>
<p>You can almost think of them as stylesheets within a stylesheet
<em>"A dweam within a dweam"</em> -The Impressive Clergyman.
<em>"We have to go deeper"</em> -Dom Cobb.</p>
<p>Nested at-rules are defined in the global variable: nested_at_rules.
For more information on nested at-rules, you want to refer to MDN's
[nested]
(https://developer.mozilla.org/en-US/docs/Web/CSS/At-rule#nested)</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>at_rule</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the full at-rule such as '@media only and
(min-width: 520px)'.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>text</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the text of the code (without the at_rule).
Provide the text if you do not provide a list of rulesets.</p>
              </div>
            </td>
            <td>
                  <code>&#39;&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>rules</code>
            </td>
            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of Ruleset objects. This is optional and
defaults to None. Just be sure to add text if you don't
provide a list.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Attributes:
    at_rule (str): the full at-rule such as '@media only and
        (min-width: 520px)'.
    rulesets (list): a list of Ruleset objects.
    selectors (list): a list of all selectors from the rulesets
    has_repeat_selectors (bool): whether there are any repeated
        selectors in the NestedAtRule.
    repeated_selectors (list): a list of any selectors that are
        repeated.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NestedAtRule</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An at-rule rule that is nested, such as @media or @keyframes.</span>

<span class="sd">    Nested at-rules include animation keyframes, styles for print</span>
<span class="sd">    (@media print), and breakpoints (@media screen). Each nested</span>
<span class="sd">    at-rule has an at-rule, which works like a selector, and a</span>
<span class="sd">    ruleset for that at-rule. The ruleset may contain any number</span>
<span class="sd">    of selectors and their declaration blocks.</span>

<span class="sd">    You can almost think of them as stylesheets within a stylesheet</span>
<span class="sd">    *&quot;A dweam within a dweam&quot;* -The Impressive Clergyman.</span>
<span class="sd">    *&quot;We have to go deeper&quot;* -Dom Cobb.</span>

<span class="sd">    Nested at-rules are defined in the global variable: nested_at_rules.</span>
<span class="sd">    For more information on nested at-rules, you want to refer to MDN&#39;s</span>
<span class="sd">    [nested]</span>
<span class="sd">    (https://developer.mozilla.org/en-US/docs/Web/CSS/At-rule#nested)</span>

<span class="sd">    Args:</span>
<span class="sd">        at_rule (str): the full at-rule such as &#39;@media only and</span>
<span class="sd">            (min-width: 520px)&#39;.</span>
<span class="sd">        text (str): the text of the code (without the at_rule).</span>
<span class="sd">            Provide the text if you do not provide a list of rulesets.</span>
<span class="sd">        rules (list): a list of Ruleset objects. This is optional and</span>
<span class="sd">            defaults to None. Just be sure to add text if you don&#39;t</span>
<span class="sd">            provide a list.</span>
<span class="sd">    Attributes:</span>
<span class="sd">        at_rule (str): the full at-rule such as &#39;@media only and</span>
<span class="sd">            (min-width: 520px)&#39;.</span>
<span class="sd">        rulesets (list): a list of Ruleset objects.</span>
<span class="sd">        selectors (list): a list of all selectors from the rulesets</span>
<span class="sd">        has_repeat_selectors (bool): whether there are any repeated</span>
<span class="sd">            selectors in the NestedAtRule.</span>
<span class="sd">        repeated_selectors (list): a list of any selectors that are</span>
<span class="sd">            repeated.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">at_rule</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">rules</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Inits a Nested @rule object.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: an error is raised if neither at_rule nor text is</span>
<span class="sd">                provided for the constructor or both are provided but they</span>
<span class="sd">                do not match.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">at_rule</span> <span class="o">=</span> <span class="n">at_rule</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">rules</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rulesets</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rulesets</span> <span class="o">=</span> <span class="n">rules</span><span class="p">[:]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selectors</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">has_repeat_selectors</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">repeated_selectors</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># If rulesets were NOT passed in, we need to get them from the text</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">rules</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_rulesets</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># if both rules and text were passed in make sure they</span>
            <span class="c1"># match and raise a ValueError if not</span>
            <span class="k">if</span> <span class="n">rules</span> <span class="ow">and</span> <span class="n">text</span><span class="p">:</span>
                <span class="n">code_split</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;}&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">code_split</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">rules</span><span class="p">):</span>
                    <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;You passed both a ruleset and text, but &quot;</span>
                    <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;The text does not match the rules&quot;</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="c1"># let&#39;s get our selectors</span>
            <span class="k">for</span> <span class="n">rule</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rulesets</span><span class="p">:</span>
                <span class="n">selector</span> <span class="o">=</span> <span class="n">rule</span><span class="o">.</span><span class="n">selector</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">selectors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_repeat_selectors</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">check_repeat_selectors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Checks to see if there are any repeated selectors&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">selector</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectors</span><span class="p">:</span>
            <span class="n">count</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectors</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">count</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">has_repeat_selectors</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">repeated_selectors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_rulesets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Converts string of text into a list of ruleset objects&quot;&quot;&quot;</span>
        <span class="c1"># first, make sure text was not an empty string</span>
        <span class="k">if</span> <span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__text</span> <span class="o">=</span> <span class="n">minify_code</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;A NestedAtRule must be provided either rulesets&quot;</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot; or text, but you provided no useable code.&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__text</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;}&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">ruleset</span> <span class="o">=</span> <span class="n">Ruleset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__text</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">selectors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ruleset</span><span class="o">.</span><span class="n">selector</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rulesets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ruleset</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">code_split</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;}&quot;</span><span class="p">)</span>
            <span class="n">rulesets</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">code_split</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">part</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
                    <span class="n">ruleset</span> <span class="o">=</span> <span class="n">Ruleset</span><span class="p">(</span><span class="n">part</span> <span class="o">+</span> <span class="s2">&quot;}&quot;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">ruleset</span><span class="p">:</span>
                        <span class="n">selector</span> <span class="o">=</span> <span class="n">ruleset</span><span class="o">.</span><span class="n">selector</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">selectors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span>
                    <span class="n">rulesets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ruleset</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">rulesets</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">rulesets</span> <span class="o">=</span> <span class="n">rulesets</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="webcode_tk.css_tools.NestedAtRule.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">at_rule</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">rules</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Inits a Nested @rule object.</p>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an error is raised if neither at_rule nor text is
provided for the constructor or both are provided but they
do not match.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">at_rule</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">rules</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Inits a Nested @rule object.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: an error is raised if neither at_rule nor text is</span>
<span class="sd">            provided for the constructor or both are provided but they</span>
<span class="sd">            do not match.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">at_rule</span> <span class="o">=</span> <span class="n">at_rule</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">rules</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rulesets</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rulesets</span> <span class="o">=</span> <span class="n">rules</span><span class="p">[:]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">selectors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">has_repeat_selectors</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">repeated_selectors</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># If rulesets were NOT passed in, we need to get them from the text</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">rules</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_rulesets</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># if both rules and text were passed in make sure they</span>
        <span class="c1"># match and raise a ValueError if not</span>
        <span class="k">if</span> <span class="n">rules</span> <span class="ow">and</span> <span class="n">text</span><span class="p">:</span>
            <span class="n">code_split</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;}&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">code_split</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">rules</span><span class="p">):</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;You passed both a ruleset and text, but &quot;</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;The text does not match the rules&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="c1"># let&#39;s get our selectors</span>
        <span class="k">for</span> <span class="n">rule</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rulesets</span><span class="p">:</span>
            <span class="n">selector</span> <span class="o">=</span> <span class="n">rule</span><span class="o">.</span><span class="n">selector</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">selectors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">check_repeat_selectors</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="webcode_tk.css_tools.NestedAtRule.check_repeat_selectors" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">check_repeat_selectors</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Checks to see if there are any repeated selectors</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">check_repeat_selectors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Checks to see if there are any repeated selectors&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">selector</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectors</span><span class="p">:</span>
        <span class="n">count</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectors</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">count</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">has_repeat_selectors</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">repeated_selectors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="webcode_tk.css_tools.NestedAtRule.set_rulesets" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_rulesets</span><span class="p">(</span><span class="n">text</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Converts string of text into a list of ruleset objects</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_rulesets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Converts string of text into a list of ruleset objects&quot;&quot;&quot;</span>
    <span class="c1"># first, make sure text was not an empty string</span>
    <span class="k">if</span> <span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__text</span> <span class="o">=</span> <span class="n">minify_code</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;A NestedAtRule must be provided either rulesets&quot;</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot; or text, but you provided no useable code.&quot;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__text</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;}&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">ruleset</span> <span class="o">=</span> <span class="n">Ruleset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__text</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selectors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ruleset</span><span class="o">.</span><span class="n">selector</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rulesets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ruleset</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">code_split</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;}&quot;</span><span class="p">)</span>
        <span class="n">rulesets</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">code_split</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">part</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
                <span class="n">ruleset</span> <span class="o">=</span> <span class="n">Ruleset</span><span class="p">(</span><span class="n">part</span> <span class="o">+</span> <span class="s2">&quot;}&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">ruleset</span><span class="p">:</span>
                    <span class="n">selector</span> <span class="o">=</span> <span class="n">ruleset</span><span class="o">.</span><span class="n">selector</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">selectors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span>
                <span class="n">rulesets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ruleset</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">rulesets</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rulesets</span> <span class="o">=</span> <span class="n">rulesets</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="webcode_tk.css_tools.Ruleset" class="doc doc-heading">
            <code>Ruleset</code>


</h2>


    <div class="doc doc-contents ">



        <p>Creates a ruleset: a selector with a declaration block.</p>
<p>For more information about Rulesets, please read MDN's article on
[Rulesets]
(https://developer.mozilla.org/en-US/docs/Web/CSS/Syntax#css_rulesets)</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>text</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the CSS code in text form.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="webcode_tk.css_tools.Ruleset.__text">__text</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the CSS code.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="webcode_tk.css_tools.Ruleset.selector">selector</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the selector of the Ruleset</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="webcode_tk.css_tools.Ruleset.declaration_block">declaration_block</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="DeclarationBlock (webcode_tk.css_tools.DeclarationBlock)" href="#webcode_tk.css_tools.DeclarationBlock">DeclarationBlock</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a DeclarationBlock
object.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="webcode_tk.css_tools.Ruleset.is_valid">is_valid</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether the Ruleset is valid or not.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Ruleset</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a ruleset: a selector with a declaration block.</span>

<span class="sd">    For more information about Rulesets, please read MDN&#39;s article on</span>
<span class="sd">    [Rulesets]</span>
<span class="sd">    (https://developer.mozilla.org/en-US/docs/Web/CSS/Syntax#css_rulesets)</span>

<span class="sd">    Args:</span>
<span class="sd">        text (str): the CSS code in text form.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        __text (str): the CSS code.</span>
<span class="sd">        selector (str): the selector of the Ruleset</span>
<span class="sd">        declaration_block (DeclarationBlock): a DeclarationBlock</span>
<span class="sd">            object.</span>
<span class="sd">        is_valid (bool): whether the Ruleset is valid or not.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Inits a DeclarationBlock object using CSS code&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__text</span> <span class="o">=</span> <span class="n">text</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selector</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">declaration_block</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_valid</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">validate</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">initialize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;converts the text into a DeclarationBlock.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_valid</span><span class="p">:</span>
            <span class="n">contents</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;{&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">selector</span> <span class="o">=</span> <span class="n">contents</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="n">block</span> <span class="o">=</span> <span class="n">contents</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">declaration_block</span> <span class="o">=</span> <span class="n">DeclarationBlock</span><span class="p">(</span><span class="n">block</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Determines whether the code is valid or not&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">open_brace_pos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__text</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;{&quot;</span><span class="p">)</span>
            <span class="n">close_brace_pos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__text</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;}&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">open_brace_pos</span> <span class="o">&gt;</span> <span class="n">close_brace_pos</span><span class="p">:</span>
                <span class="c1"># { needs to come before }</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">is_valid</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">is_valid</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">if</span> <span class="s2">&quot;{&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__text</span> <span class="ow">or</span> <span class="s2">&quot;}&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__text</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">is_valid</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="webcode_tk.css_tools.Ruleset.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">text</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Inits a DeclarationBlock object using CSS code</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Inits a DeclarationBlock object using CSS code&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">__text</span> <span class="o">=</span> <span class="n">text</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">selector</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">declaration_block</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">is_valid</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">validate</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="webcode_tk.css_tools.Ruleset.initialize" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">initialize</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>converts the text into a DeclarationBlock.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">initialize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;converts the text into a DeclarationBlock.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_valid</span><span class="p">:</span>
        <span class="n">contents</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;{&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selector</span> <span class="o">=</span> <span class="n">contents</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">block</span> <span class="o">=</span> <span class="n">contents</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">declaration_block</span> <span class="o">=</span> <span class="n">DeclarationBlock</span><span class="p">(</span><span class="n">block</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="webcode_tk.css_tools.Ruleset.validate" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">validate</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Determines whether the code is valid or not</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Determines whether the code is valid or not&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">open_brace_pos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__text</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;{&quot;</span><span class="p">)</span>
        <span class="n">close_brace_pos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__text</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;}&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">open_brace_pos</span> <span class="o">&gt;</span> <span class="n">close_brace_pos</span><span class="p">:</span>
            <span class="c1"># { needs to come before }</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">is_valid</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_valid</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">if</span> <span class="s2">&quot;{&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__text</span> <span class="ow">or</span> <span class="s2">&quot;}&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__text</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_valid</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="webcode_tk.css_tools.Stylesheet" class="doc doc-heading">
            <code>Stylesheet</code>


</h2>


    <div class="doc doc-contents ">



        <p>A Stylesheet object with details about the sheet and its
components.</p>
<p>The stylesheet object has the full code, a list of comments from the
stylesheet, a list of nested @rules, rulesets pertaining to colors,
a list of all selectors, and information about repeated selectors.</p>
<p>About repeated selectors, front-end developers should always employ
the DRY principle: Don't Repeat Yourself. In other words, if you
use a selector once in your stylesheet, the only other place you
would logically put the same selector would be in a nested at-rule
(in particular, an @media or @print breakpoint)</p>
<p>For this reason, both the Stylesheet object and the NesteAtRule
objects have attributes that show whether there are repeated
selectors or not as well as which selectors get repeated.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="webcode_tk.css_tools.Stylesheet.href">href</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the filename (not path), which may end with .css or .html
(if stylesheet object comes from a style tag).</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="webcode_tk.css_tools.Stylesheet.text">text</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the actual code itself of the entire file or style tag.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="webcode_tk.css_tools.Stylesheet.type">type</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether it's a file or local if it's from an style tag.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="webcode_tk.css_tools.Stylesheet.nested_at_rules">nested_at_rules</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of all nested at-rules.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="webcode_tk.css_tools.Stylesheet.rulesets">rulesets</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of all rulesets.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="webcode_tk.css_tools.Stylesheet.comments">comments</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of all comments in string format.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="webcode_tk.css_tools.Stylesheet.color_rulesets">color_rulesets</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of all rulesets that target color or
background colors.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="webcode_tk.css_tools.Stylesheet.selectors">selectors</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of all selectors.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="webcode_tk.css_tools.Stylesheet.has_repeat_selectors">has_repeat_selectors</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether there are any repeated
selectors anywhere in the stylesheet (including in the
NestedAtRule.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="webcode_tk.css_tools.Stylesheet.repeated_selectors">repeated_selectors</span></code></td>
            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of any selectors that are
repeated. They might be repeated in the main stylesheet
or they might be repeated in one of the nested @rules.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Stylesheet</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A Stylesheet object with details about the sheet and its</span>
<span class="sd">    components.</span>

<span class="sd">    The stylesheet object has the full code, a list of comments from the</span>
<span class="sd">    stylesheet, a list of nested @rules, rulesets pertaining to colors,</span>
<span class="sd">    a list of all selectors, and information about repeated selectors.</span>

<span class="sd">    About repeated selectors, front-end developers should always employ</span>
<span class="sd">    the DRY principle: Don&#39;t Repeat Yourself. In other words, if you</span>
<span class="sd">    use a selector once in your stylesheet, the only other place you</span>
<span class="sd">    would logically put the same selector would be in a nested at-rule</span>
<span class="sd">    (in particular, an @media or @print breakpoint)</span>

<span class="sd">    For this reason, both the Stylesheet object and the NesteAtRule</span>
<span class="sd">    objects have attributes that show whether there are repeated</span>
<span class="sd">    selectors or not as well as which selectors get repeated.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        href: the filename (not path), which may end with .css or .html</span>
<span class="sd">            (if stylesheet object comes from a style tag).</span>
<span class="sd">        text: the actual code itself of the entire file or style tag.</span>
<span class="sd">        type: whether it&#39;s a file or local if it&#39;s from an style tag.</span>
<span class="sd">        nested_at_rules: a list of all nested at-rules.</span>
<span class="sd">        rulesets: a list of all rulesets.</span>
<span class="sd">        comments: a list of all comments in string format.</span>
<span class="sd">        color_rulesets: a list of all rulesets that target color or</span>
<span class="sd">            background colors.</span>
<span class="sd">        selectors: a list of all selectors.</span>
<span class="sd">        has_repeat_selectors (bool): whether there are any repeated</span>
<span class="sd">            selectors anywhere in the stylesheet (including in the</span>
<span class="sd">            NestedAtRule.</span>
<span class="sd">        repeated_selectors (list): a list of any selectors that are</span>
<span class="sd">            repeated. They might be repeated in the main stylesheet</span>
<span class="sd">            or they might be repeated in one of the nested @rules.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">href</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">stylesheet_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;file&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Inits Stylesheet with href, text (CSS code), and type.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">stylesheet_type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">href</span> <span class="o">=</span> <span class="n">href</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">text</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__clean_text</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nested_at_rules</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rulesets</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">comments</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">color_rulesets</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selectors</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">has_repeat_selectors</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">repeated_selectors</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__minify</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__replace_variables</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__remove_external_imports</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__extract_comments</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__extract_nested_at_rules</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__extract_rulesets</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__set_selectors</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__clean_text</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;cleans up CSS like removing extra line returns</span>

<span class="sd">        This is here because if a student has more than 2 blank lines, it</span>
<span class="sd">        could trigger an attribute error (at least it did in the past)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">text_to_clean</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span>
        <span class="n">split_text</span> <span class="o">=</span> <span class="n">text_to_clean</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">cleaned_text</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">consecutive_blanks</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">split_text</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span><span class="p">:</span>
                <span class="n">consecutive_blanks</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">consecutive_blanks</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">consecutive_blanks</span> <span class="o">=</span> <span class="mi">1</span>
                <span class="k">continue</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span> <span class="ow">and</span> <span class="n">cleaned_text</span><span class="p">:</span>
                    <span class="n">cleaned_text</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="n">cleaned_text</span> <span class="o">+=</span> <span class="n">line</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="n">cleaned_text</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">:</span>
            <span class="n">cleaned_text</span> <span class="o">=</span> <span class="n">cleaned_text</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">cleaned_text</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__minify</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Removes all whitespace, line returns, and tabs from text.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">minify_code</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__replace_variables</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Looks for and replaces any variables set in stylesheet with</span>
<span class="sd">        the variable&#39;s values.&quot;&quot;&quot;</span>
        <span class="c1"># get a list of all variables and their values</span>
        <span class="n">variable_list</span> <span class="o">=</span> <span class="n">get_variables</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>

        <span class="c1"># Loop through the variable list and do a find</span>
        <span class="c1"># and replace on all occurrances of the variable</span>
        <span class="n">new_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span>
        <span class="k">for</span> <span class="n">variable</span> <span class="ow">in</span> <span class="n">variable_list</span><span class="p">:</span>
            <span class="n">var</span> <span class="o">=</span> <span class="n">variable</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;variable&quot;</span><span class="p">)</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">variable</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
            <span class="n">var</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;var\(&quot;</span> <span class="o">+</span> <span class="n">var</span> <span class="o">+</span> <span class="sa">r</span><span class="s2">&quot;\)&quot;</span>
            <span class="n">new_text</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">new_text</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">new_text</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__extract_comments</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets all comments from the code and stores in a list.&quot;&quot;&quot;</span>
        <span class="c1"># split all CSS text at opening comment</span>
        <span class="n">text_comment_split</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/*&quot;</span><span class="p">)</span>
        <span class="n">comments</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">code_without_comments</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

        <span class="c1"># loop through the list of code</span>
        <span class="c1"># in each iteration extract the comment</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">text_comment_split</span><span class="p">:</span>
            <span class="k">if</span> <span class="s2">&quot;*/&quot;</span> <span class="ow">in</span> <span class="n">i</span><span class="p">:</span>
                <span class="n">comment</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;*/&quot;</span><span class="p">)</span>
                <span class="n">comments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;/*&quot;</span> <span class="o">+</span> <span class="n">comment</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;*/&quot;</span><span class="p">)</span>
                <span class="n">code_without_comments</span> <span class="o">+=</span> <span class="n">comment</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># no comments, just get code</span>
                <span class="n">code_without_comments</span> <span class="o">+=</span> <span class="n">i</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">comments</span> <span class="o">=</span> <span class="n">comments</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">code_without_comments</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__extract_nested_at_rules</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pulls out any nested at-rule and stores them in a list.</span>

<span class="sd">        Algorithm: get # of @ signs&quot;&quot;&quot;</span>
        <span class="n">at_rules</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">non_at_rules_css</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">css_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span>

        <span class="c1"># no @ sign, no at_rules - we&#39;re done</span>
        <span class="n">num_at_rules</span> <span class="o">=</span> <span class="n">css_code</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">num_at_rules</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="c1"># add a marker symbols !! to indicate @ sign after split</span>
        <span class="n">css_code</span> <span class="o">=</span> <span class="n">css_code</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">,</span> <span class="s2">&quot;@!!&quot;</span><span class="p">)</span>

        <span class="c1"># everything between @ sign and }} is a nested at rule</span>
        <span class="n">css_split_at_at</span> <span class="o">=</span> <span class="n">css_code</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)</span>

        <span class="c1"># Loop through code, each string beginning with ! is an at-rule</span>
        <span class="k">for</span> <span class="n">code</span> <span class="ow">in</span> <span class="n">css_split_at_at</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">code</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;!!&quot;</span><span class="p">:</span>
                <span class="n">code</span> <span class="o">=</span> <span class="n">code</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;!!&quot;</span><span class="p">,</span> <span class="s2">&quot;@&quot;</span><span class="p">)</span>

                <span class="c1"># get a slice up to }} (end of @rule)</span>
                <span class="n">code_split</span> <span class="o">=</span> <span class="n">code</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;}}&quot;</span><span class="p">)</span>

                <span class="c1"># first element is the @rule</span>
                <span class="n">at_rule</span> <span class="o">=</span> <span class="n">code_split</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;}}&quot;</span>

                <span class="c1"># create a nested at-rule object</span>
                <span class="n">pos</span> <span class="o">=</span> <span class="n">at_rule</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;{&quot;</span><span class="p">)</span>
                <span class="n">rule</span> <span class="o">=</span> <span class="n">at_rule</span><span class="p">[:</span><span class="n">pos</span><span class="p">]</span>
                <span class="n">ruleset_string</span> <span class="o">=</span> <span class="n">at_rule</span><span class="p">[</span><span class="n">pos</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">nested</span> <span class="o">=</span> <span class="n">NestedAtRule</span><span class="p">(</span><span class="n">rule</span><span class="p">,</span> <span class="n">ruleset_string</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">nested</span><span class="o">.</span><span class="n">has_repeat_selectors</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">has_repeat_selectors</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="n">at_rules</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nested</span><span class="p">)</span>

                <span class="c1"># second element is any other CSS code</span>
                <span class="n">non_at_rule</span> <span class="o">=</span> <span class="n">code_split</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">non_at_rule</span><span class="p">:</span>
                    <span class="n">non_at_rules_css</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">non_at_rule</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">non_at_rules_css</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">non_at_rules_css</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nested_at_rules</span> <span class="o">=</span> <span class="n">at_rules</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__extract_rulesets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Separates all code into individual rulesets.&quot;&quot;&quot;</span>
        <span class="c1"># split rulesets by closing of rulesets: }</span>
        <span class="n">ruleset_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;}&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ruleset</span> <span class="ow">in</span> <span class="n">ruleset_list</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">ruleset</span><span class="p">:</span>
                <span class="n">ruleset</span> <span class="o">=</span> <span class="n">Ruleset</span><span class="p">(</span><span class="n">ruleset</span> <span class="o">+</span> <span class="s2">&quot;}&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">rulesets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ruleset</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">get_color_ruleset</span><span class="p">(</span><span class="n">ruleset</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__remove_external_imports</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span>
        <span class="c1"># look for external link by protocol (http or https)</span>
        <span class="n">external_import_re</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;@import url\([&#39;</span><span class="se">\&quot;</span><span class="s2">]https://|&quot;</span>
        <span class="n">external_import_re</span> <span class="o">+=</span> <span class="sa">r</span><span class="s2">&quot;@import url\([&#39;</span><span class="se">\&quot;</span><span class="s2">]http://&quot;</span>

        <span class="c1"># remove external imports if there&#39;s a protocol</span>
        <span class="c1"># text = text.lower()</span>
        <span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">external_import_re</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
            <span class="c1"># but only if it&#39;s in an @import url function</span>
            <span class="n">split_text</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">external_import_re</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>

            <span class="c1"># we now have 1 or more code segments without the</span>
            <span class="c1"># beginnings of an @import url( segment</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">split_text</span><span class="p">)):</span>
                <span class="n">segment</span> <span class="o">=</span> <span class="n">split_text</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="c1"># get everything after the first );</span>
                <span class="n">paren_pos</span> <span class="o">=</span> <span class="n">segment</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="n">segment</span> <span class="o">=</span> <span class="n">segment</span><span class="p">[</span><span class="n">paren_pos</span><span class="p">:]</span>
                <span class="k">if</span> <span class="s2">&quot;;&quot;</span> <span class="ow">in</span> <span class="n">segment</span><span class="p">[:</span><span class="mi">2</span><span class="p">]:</span>
                    <span class="n">pos</span> <span class="o">=</span> <span class="n">segment</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">)</span>
                    <span class="n">segment</span> <span class="o">=</span> <span class="n">segment</span><span class="p">[</span><span class="n">pos</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]</span>
                <span class="n">split_text</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">segment</span>
            <span class="c1"># put text back in string form</span>
            <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">split_text</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">text</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_color_ruleset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ruleset</span><span class="p">:</span> <span class="s2">&quot;Ruleset&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns a list of all rules targetting color or background color.</span>

<span class="sd">        Args:</span>
<span class="sd">            ruleset(Ruleset): a Ruleset object complete with selector</span>
<span class="sd">                and declaration block.</span>

<span class="sd">        Returns:</span>
<span class="sd">            color_rulesets: a list of all selectors that target color</span>
<span class="sd">                in some way, but just with the color-based declarations.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">color_rulesets</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">ruleset</span><span class="o">.</span><span class="n">declaration_block</span> <span class="ow">and</span> <span class="p">(</span>
            <span class="s2">&quot;color:&quot;</span> <span class="ow">in</span> <span class="n">ruleset</span><span class="o">.</span><span class="n">declaration_block</span><span class="o">.</span><span class="n">text</span>
            <span class="ow">or</span> <span class="s2">&quot;background&quot;</span> <span class="ow">in</span> <span class="n">ruleset</span><span class="o">.</span><span class="n">declaration_block</span><span class="o">.</span><span class="n">text</span>
        <span class="p">):</span>
            <span class="n">selector</span> <span class="o">=</span> <span class="n">ruleset</span><span class="o">.</span><span class="n">selector</span>
            <span class="k">for</span> <span class="n">declaration</span> <span class="ow">in</span> <span class="n">ruleset</span><span class="o">.</span><span class="n">declaration_block</span><span class="o">.</span><span class="n">declarations</span><span class="p">:</span>
                <span class="n">color_counts</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="s2">&quot;color&quot;</span> <span class="ow">in</span> <span class="n">declaration</span><span class="o">.</span><span class="n">property</span>
                    <span class="ow">or</span> <span class="s2">&quot;background&quot;</span> <span class="ow">in</span> <span class="n">declaration</span><span class="o">.</span><span class="n">property</span>
                    <span class="ow">and</span> <span class="n">declaration</span><span class="o">.</span><span class="n">property</span>
                    <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span>
                        <span class="s2">&quot;border-color&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;outline-color&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;text-declaration-color&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;text-emphasis-color&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;text-shadow&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;caret-color&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;column-rule-color&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;print-color-adjust&quot;</span><span class="p">,</span>
                    <span class="p">]</span>
                <span class="p">)</span>
                <span class="k">if</span> <span class="n">color_counts</span><span class="p">:</span>
                    <span class="nb">property</span> <span class="o">=</span> <span class="n">declaration</span><span class="o">.</span><span class="n">property</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="n">declaration</span><span class="o">.</span><span class="n">value</span>

                    <span class="c1"># Check for a gradient bg color</span>
                    <span class="n">is_bg_gradient</span> <span class="o">=</span> <span class="n">color_tools</span><span class="o">.</span><span class="n">is_gradient</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">is_bg_gradient</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">()</span>
                    <span class="c1"># skip if has vendor prefix</span>
                    <span class="k">if</span> <span class="n">has_vendor_prefix</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
                        <span class="k">continue</span>
                    <span class="c1"># skip if not valid color value</span>
                    <span class="n">is_valid_color</span> <span class="o">=</span> <span class="n">color_tools</span><span class="o">.</span><span class="n">is_color_value</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">is_valid_color</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">is_bg_gradient</span><span class="p">:</span>
                        <span class="k">continue</span>
                    <span class="c1"># make sure the value is a color (not other)</span>
                    <span class="n">rule</span> <span class="o">=</span> <span class="p">{</span><span class="n">selector</span><span class="p">:</span> <span class="p">{</span><span class="nb">property</span><span class="p">:</span> <span class="n">value</span><span class="p">}}</span>
                    <span class="n">color_rulesets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rule</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">color_rulesets</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">color_rulesets</span> <span class="o">+=</span> <span class="n">color_rulesets</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__set_selectors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds all selectors from stylesheet to selectors attribute.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">rule</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rulesets</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">rule</span><span class="o">.</span><span class="n">selector</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectors</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">has_repeat_selectors</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">repeated_selectors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rule</span><span class="o">.</span><span class="n">selector</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">selectors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rule</span><span class="o">.</span><span class="n">selector</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">sort_selectors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Puts all selectors in alphabetical order.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selectors</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="webcode_tk.css_tools.Stylesheet.__clean_text" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">__clean_text</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>cleans up CSS like removing extra line returns</p>
<p>This is here because if a student has more than 2 blank lines, it
could trigger an attribute error (at least it did in the past)</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">__clean_text</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;cleans up CSS like removing extra line returns</span>

<span class="sd">    This is here because if a student has more than 2 blank lines, it</span>
<span class="sd">    could trigger an attribute error (at least it did in the past)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">text_to_clean</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span>
    <span class="n">split_text</span> <span class="o">=</span> <span class="n">text_to_clean</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">cleaned_text</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">consecutive_blanks</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">split_text</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span><span class="p">:</span>
            <span class="n">consecutive_blanks</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">consecutive_blanks</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">consecutive_blanks</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">continue</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span> <span class="ow">and</span> <span class="n">cleaned_text</span><span class="p">:</span>
                <span class="n">cleaned_text</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="n">cleaned_text</span> <span class="o">+=</span> <span class="n">line</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
    <span class="k">if</span> <span class="n">cleaned_text</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">:</span>
        <span class="n">cleaned_text</span> <span class="o">=</span> <span class="n">cleaned_text</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">cleaned_text</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="webcode_tk.css_tools.Stylesheet.__extract_comments" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">__extract_comments</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Gets all comments from the code and stores in a list.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">__extract_comments</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets all comments from the code and stores in a list.&quot;&quot;&quot;</span>
    <span class="c1"># split all CSS text at opening comment</span>
    <span class="n">text_comment_split</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/*&quot;</span><span class="p">)</span>
    <span class="n">comments</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">code_without_comments</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="c1"># loop through the list of code</span>
    <span class="c1"># in each iteration extract the comment</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">text_comment_split</span><span class="p">:</span>
        <span class="k">if</span> <span class="s2">&quot;*/&quot;</span> <span class="ow">in</span> <span class="n">i</span><span class="p">:</span>
            <span class="n">comment</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;*/&quot;</span><span class="p">)</span>
            <span class="n">comments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;/*&quot;</span> <span class="o">+</span> <span class="n">comment</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;*/&quot;</span><span class="p">)</span>
            <span class="n">code_without_comments</span> <span class="o">+=</span> <span class="n">comment</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># no comments, just get code</span>
            <span class="n">code_without_comments</span> <span class="o">+=</span> <span class="n">i</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">comments</span> <span class="o">=</span> <span class="n">comments</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">code_without_comments</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="webcode_tk.css_tools.Stylesheet.__extract_nested_at_rules" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">__extract_nested_at_rules</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Pulls out any nested at-rule and stores them in a list.</p>
<p>Algorithm: get # of @ signs</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">__extract_nested_at_rules</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pulls out any nested at-rule and stores them in a list.</span>

<span class="sd">    Algorithm: get # of @ signs&quot;&quot;&quot;</span>
    <span class="n">at_rules</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">non_at_rules_css</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">css_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span>

    <span class="c1"># no @ sign, no at_rules - we&#39;re done</span>
    <span class="n">num_at_rules</span> <span class="o">=</span> <span class="n">css_code</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">num_at_rules</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="c1"># add a marker symbols !! to indicate @ sign after split</span>
    <span class="n">css_code</span> <span class="o">=</span> <span class="n">css_code</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">,</span> <span class="s2">&quot;@!!&quot;</span><span class="p">)</span>

    <span class="c1"># everything between @ sign and }} is a nested at rule</span>
    <span class="n">css_split_at_at</span> <span class="o">=</span> <span class="n">css_code</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)</span>

    <span class="c1"># Loop through code, each string beginning with ! is an at-rule</span>
    <span class="k">for</span> <span class="n">code</span> <span class="ow">in</span> <span class="n">css_split_at_at</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">code</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;!!&quot;</span><span class="p">:</span>
            <span class="n">code</span> <span class="o">=</span> <span class="n">code</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;!!&quot;</span><span class="p">,</span> <span class="s2">&quot;@&quot;</span><span class="p">)</span>

            <span class="c1"># get a slice up to }} (end of @rule)</span>
            <span class="n">code_split</span> <span class="o">=</span> <span class="n">code</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;}}&quot;</span><span class="p">)</span>

            <span class="c1"># first element is the @rule</span>
            <span class="n">at_rule</span> <span class="o">=</span> <span class="n">code_split</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;}}&quot;</span>

            <span class="c1"># create a nested at-rule object</span>
            <span class="n">pos</span> <span class="o">=</span> <span class="n">at_rule</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;{&quot;</span><span class="p">)</span>
            <span class="n">rule</span> <span class="o">=</span> <span class="n">at_rule</span><span class="p">[:</span><span class="n">pos</span><span class="p">]</span>
            <span class="n">ruleset_string</span> <span class="o">=</span> <span class="n">at_rule</span><span class="p">[</span><span class="n">pos</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">nested</span> <span class="o">=</span> <span class="n">NestedAtRule</span><span class="p">(</span><span class="n">rule</span><span class="p">,</span> <span class="n">ruleset_string</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">nested</span><span class="o">.</span><span class="n">has_repeat_selectors</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">has_repeat_selectors</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">at_rules</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nested</span><span class="p">)</span>

            <span class="c1"># second element is any other CSS code</span>
            <span class="n">non_at_rule</span> <span class="o">=</span> <span class="n">code_split</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">non_at_rule</span><span class="p">:</span>
                <span class="n">non_at_rules_css</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">non_at_rule</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">non_at_rules_css</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">non_at_rules_css</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">nested_at_rules</span> <span class="o">=</span> <span class="n">at_rules</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="webcode_tk.css_tools.Stylesheet.__extract_rulesets" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">__extract_rulesets</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Separates all code into individual rulesets.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">__extract_rulesets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Separates all code into individual rulesets.&quot;&quot;&quot;</span>
    <span class="c1"># split rulesets by closing of rulesets: }</span>
    <span class="n">ruleset_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;}&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">ruleset</span> <span class="ow">in</span> <span class="n">ruleset_list</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">ruleset</span><span class="p">:</span>
            <span class="n">ruleset</span> <span class="o">=</span> <span class="n">Ruleset</span><span class="p">(</span><span class="n">ruleset</span> <span class="o">+</span> <span class="s2">&quot;}&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rulesets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ruleset</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_color_ruleset</span><span class="p">(</span><span class="n">ruleset</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="webcode_tk.css_tools.Stylesheet.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">href</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">stylesheet_type</span><span class="o">=</span><span class="s1">&#39;file&#39;</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Inits Stylesheet with href, text (CSS code), and type.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">href</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">stylesheet_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;file&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Inits Stylesheet with href, text (CSS code), and type.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">stylesheet_type</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">href</span> <span class="o">=</span> <span class="n">href</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">text</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">__clean_text</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">nested_at_rules</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">rulesets</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">comments</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">color_rulesets</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">selectors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">has_repeat_selectors</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">repeated_selectors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">__minify</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">__replace_variables</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">__remove_external_imports</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">__extract_comments</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">__extract_nested_at_rules</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">__extract_rulesets</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">__set_selectors</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="webcode_tk.css_tools.Stylesheet.__minify" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">__minify</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Removes all whitespace, line returns, and tabs from text.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">__minify</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Removes all whitespace, line returns, and tabs from text.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">minify_code</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="webcode_tk.css_tools.Stylesheet.__replace_variables" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">__replace_variables</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Looks for and replaces any variables set in stylesheet with
the variable's values.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">__replace_variables</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Looks for and replaces any variables set in stylesheet with</span>
<span class="sd">    the variable&#39;s values.&quot;&quot;&quot;</span>
    <span class="c1"># get a list of all variables and their values</span>
    <span class="n">variable_list</span> <span class="o">=</span> <span class="n">get_variables</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>

    <span class="c1"># Loop through the variable list and do a find</span>
    <span class="c1"># and replace on all occurrances of the variable</span>
    <span class="n">new_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span>
    <span class="k">for</span> <span class="n">variable</span> <span class="ow">in</span> <span class="n">variable_list</span><span class="p">:</span>
        <span class="n">var</span> <span class="o">=</span> <span class="n">variable</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;variable&quot;</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">variable</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
        <span class="n">var</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;var\(&quot;</span> <span class="o">+</span> <span class="n">var</span> <span class="o">+</span> <span class="sa">r</span><span class="s2">&quot;\)&quot;</span>
        <span class="n">new_text</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">new_text</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">new_text</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="webcode_tk.css_tools.Stylesheet.__set_selectors" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">__set_selectors</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Adds all selectors from stylesheet to selectors attribute.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">__set_selectors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds all selectors from stylesheet to selectors attribute.&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">rule</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rulesets</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">rule</span><span class="o">.</span><span class="n">selector</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectors</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">has_repeat_selectors</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">repeated_selectors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rule</span><span class="o">.</span><span class="n">selector</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selectors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rule</span><span class="o">.</span><span class="n">selector</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="webcode_tk.css_tools.Stylesheet.get_color_ruleset" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_color_ruleset</span><span class="p">(</span><span class="n">ruleset</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Returns a list of all rules targetting color or background color.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>ruleset</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Ruleset (webcode_tk.css_tools.Ruleset)" href="#webcode_tk.css_tools.Ruleset">Ruleset</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a Ruleset object complete with selector
and declaration block.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>color_rulesets</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of all selectors that target color
in some way, but just with the color-based declarations.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_color_ruleset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ruleset</span><span class="p">:</span> <span class="s2">&quot;Ruleset&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a list of all rules targetting color or background color.</span>

<span class="sd">    Args:</span>
<span class="sd">        ruleset(Ruleset): a Ruleset object complete with selector</span>
<span class="sd">            and declaration block.</span>

<span class="sd">    Returns:</span>
<span class="sd">        color_rulesets: a list of all selectors that target color</span>
<span class="sd">            in some way, but just with the color-based declarations.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">color_rulesets</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">ruleset</span><span class="o">.</span><span class="n">declaration_block</span> <span class="ow">and</span> <span class="p">(</span>
        <span class="s2">&quot;color:&quot;</span> <span class="ow">in</span> <span class="n">ruleset</span><span class="o">.</span><span class="n">declaration_block</span><span class="o">.</span><span class="n">text</span>
        <span class="ow">or</span> <span class="s2">&quot;background&quot;</span> <span class="ow">in</span> <span class="n">ruleset</span><span class="o">.</span><span class="n">declaration_block</span><span class="o">.</span><span class="n">text</span>
    <span class="p">):</span>
        <span class="n">selector</span> <span class="o">=</span> <span class="n">ruleset</span><span class="o">.</span><span class="n">selector</span>
        <span class="k">for</span> <span class="n">declaration</span> <span class="ow">in</span> <span class="n">ruleset</span><span class="o">.</span><span class="n">declaration_block</span><span class="o">.</span><span class="n">declarations</span><span class="p">:</span>
            <span class="n">color_counts</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;color&quot;</span> <span class="ow">in</span> <span class="n">declaration</span><span class="o">.</span><span class="n">property</span>
                <span class="ow">or</span> <span class="s2">&quot;background&quot;</span> <span class="ow">in</span> <span class="n">declaration</span><span class="o">.</span><span class="n">property</span>
                <span class="ow">and</span> <span class="n">declaration</span><span class="o">.</span><span class="n">property</span>
                <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span>
                    <span class="s2">&quot;border-color&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;outline-color&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;text-declaration-color&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;text-emphasis-color&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;text-shadow&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;caret-color&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;column-rule-color&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;print-color-adjust&quot;</span><span class="p">,</span>
                <span class="p">]</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">color_counts</span><span class="p">:</span>
                <span class="nb">property</span> <span class="o">=</span> <span class="n">declaration</span><span class="o">.</span><span class="n">property</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">declaration</span><span class="o">.</span><span class="n">value</span>

                <span class="c1"># Check for a gradient bg color</span>
                <span class="n">is_bg_gradient</span> <span class="o">=</span> <span class="n">color_tools</span><span class="o">.</span><span class="n">is_gradient</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">is_bg_gradient</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">()</span>
                <span class="c1"># skip if has vendor prefix</span>
                <span class="k">if</span> <span class="n">has_vendor_prefix</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
                    <span class="k">continue</span>
                <span class="c1"># skip if not valid color value</span>
                <span class="n">is_valid_color</span> <span class="o">=</span> <span class="n">color_tools</span><span class="o">.</span><span class="n">is_color_value</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">is_valid_color</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">is_bg_gradient</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="c1"># make sure the value is a color (not other)</span>
                <span class="n">rule</span> <span class="o">=</span> <span class="p">{</span><span class="n">selector</span><span class="p">:</span> <span class="p">{</span><span class="nb">property</span><span class="p">:</span> <span class="n">value</span><span class="p">}}</span>
                <span class="n">color_rulesets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rule</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">color_rulesets</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">color_rulesets</span> <span class="o">+=</span> <span class="n">color_rulesets</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="webcode_tk.css_tools.Stylesheet.sort_selectors" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">sort_selectors</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Puts all selectors in alphabetical order.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">sort_selectors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Puts all selectors in alphabetical order.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">selectors</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.adjust_overrides" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">adjust_overrides</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">rules</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Returns a dictionary with a single global ruleset.</p>
<p>Gets the final computed value of all rulesets in a file. It loops
through the rulesets, and whenever there is an override (due to a
repeat selector), it replaces whichever value is in the repeated
selector.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>file_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>path to the file in question, to be used as a
key in the adjusted rule</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>rules</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a dictionary where the key is the filename and the value
is a list of rules.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>adjusted_rule</code></td>            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a dictionary where the key is the same, but
there is only one ruleset (the computed ruleset).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">adjust_overrides</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">rules</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a dictionary with a single global ruleset.</span>

<span class="sd">    Gets the final computed value of all rulesets in a file. It loops</span>
<span class="sd">    through the rulesets, and whenever there is an override (due to a</span>
<span class="sd">    repeat selector), it replaces whichever value is in the repeated</span>
<span class="sd">    selector.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: path to the file in question, to be used as a</span>
<span class="sd">            key in the adjusted rule</span>
<span class="sd">        rules: a dictionary where the key is the filename and the value</span>
<span class="sd">            is a list of rules.</span>

<span class="sd">    Returns:</span>
<span class="sd">        adjusted_rule: a dictionary where the key is the same, but</span>
<span class="sd">            there is only one ruleset (the computed ruleset).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">adjusted_rule</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">old_rules</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">rules</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">file_path</span><span class="p">))</span>
    <span class="n">pre_selector</span><span class="p">,</span> <span class="n">pre_bg_color</span><span class="p">,</span> <span class="n">pre_color</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">rule</span> <span class="ow">in</span> <span class="n">old_rules</span><span class="p">:</span>
        <span class="n">selector</span> <span class="o">=</span> <span class="n">rule</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;selector&quot;</span><span class="p">)</span>
        <span class="n">bg_color</span> <span class="o">=</span> <span class="n">rule</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;background-color&quot;</span><span class="p">)</span>
        <span class="n">color</span> <span class="o">=</span> <span class="n">rule</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;color&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">pre_selector</span><span class="p">:</span>
            <span class="c1"># we have looped at least once.</span>
            <span class="c1"># check to see if we have the same selector or not</span>
            <span class="k">if</span> <span class="n">selector</span> <span class="o">==</span> <span class="n">pre_selector</span><span class="p">:</span>
                <span class="c1"># same selector, it&#39;s time to check our stats</span>
                <span class="c1"># for an override</span>
                <span class="k">if</span> <span class="n">bg_color</span> <span class="ow">and</span> <span class="n">bg_color</span> <span class="o">!=</span> <span class="n">pre_bg_color</span><span class="p">:</span>
                    <span class="n">adjusted_rule</span><span class="p">[</span><span class="n">file_path</span><span class="p">][</span><span class="s2">&quot;background-color&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bg_color</span>
                <span class="k">if</span> <span class="n">color</span> <span class="ow">and</span> <span class="n">color</span> <span class="o">!=</span> <span class="n">pre_color</span><span class="p">:</span>
                    <span class="n">adjusted_rule</span><span class="p">[</span><span class="n">file_path</span><span class="p">][</span><span class="s2">&quot;color&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">color</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># this is the first time we are looping</span>
            <span class="n">adjusted_rule</span><span class="p">[</span><span class="n">file_path</span><span class="p">]</span> <span class="o">=</span> <span class="n">rule</span>
            <span class="n">pre_selector</span> <span class="o">=</span> <span class="n">selector</span>
            <span class="n">pre_bg_color</span> <span class="o">=</span> <span class="n">bg_color</span>
            <span class="n">pre_color</span> <span class="o">=</span> <span class="n">color</span>
    <span class="k">return</span> <span class="n">adjusted_rule</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.border_checks_out" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">border_checks_out</span><span class="p">(</span><span class="n">declaration</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>returns whether the border would display or not.</p>
<p>In order for the border shorthand to display, the border style must be
a valid border style.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>declaration</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Declaration (webcode_tk.css_tools.Declaration)" href="#webcode_tk.css_tools.Declaration">Declaration</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the declaration with a border shorthand property.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>checks_out</code></td>            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether the border would be visible or not</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2923</span>
<span class="normal">2924</span>
<span class="normal">2925</span>
<span class="normal">2926</span>
<span class="normal">2927</span>
<span class="normal">2928</span>
<span class="normal">2929</span>
<span class="normal">2930</span>
<span class="normal">2931</span>
<span class="normal">2932</span>
<span class="normal">2933</span>
<span class="normal">2934</span>
<span class="normal">2935</span>
<span class="normal">2936</span>
<span class="normal">2937</span>
<span class="normal">2938</span>
<span class="normal">2939</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">border_checks_out</span><span class="p">(</span><span class="n">declaration</span><span class="p">:</span> <span class="n">Declaration</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;returns whether the border would display or not.</span>

<span class="sd">    In order for the border shorthand to display, the border style must be</span>
<span class="sd">    a valid border style.</span>

<span class="sd">    Args:</span>
<span class="sd">        declaration: the declaration with a border shorthand property.</span>

<span class="sd">    Returns:</span>
<span class="sd">        checks_out: whether the border would be visible or not&quot;&quot;&quot;</span>
    <span class="n">checks_out</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">values</span> <span class="o">=</span> <span class="n">declaration</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">visible_border_styles</span><span class="p">:</span>
            <span class="n">checks_out</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="n">checks_out</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.check_for_inherited_colors" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">check_for_inherited_colors</span><span class="p">(</span><span class="n">rules</span><span class="p">,</span> <span class="n">condensed</span><span class="p">,</span> <span class="n">source_file</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Double-check and fix any necessary overrides.</p>
<p>This is a tough one. The goal is to look for advanced selectors
(descendant, class, id, pseudo, attribute), and if they did NOT
specify color or bg color, then replace it with the nearest
ancestor</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>rules</code>
            </td>
            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of all color rules.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>condensed</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the already condensed set of color rules</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>source_file</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the file we are looking at.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">check_for_inherited_colors</span><span class="p">(</span>
    <span class="n">rules</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">condensed</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">source_file</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Double-check and fix any necessary overrides.</span>

<span class="sd">    This is a tough one. The goal is to look for advanced selectors</span>
<span class="sd">    (descendant, class, id, pseudo, attribute), and if they did NOT</span>
<span class="sd">    specify color or bg color, then replace it with the nearest</span>
<span class="sd">    ancestor</span>

<span class="sd">    Args:</span>
<span class="sd">        rules: a list of all color rules.</span>
<span class="sd">        condensed: the already condensed set of color rules</span>
<span class="sd">        source_file: the file we are looking at.&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">rule</span> <span class="ow">in</span> <span class="n">rules</span><span class="p">:</span>
        <span class="n">file</span><span class="p">,</span> <span class="n">sel</span><span class="p">,</span> <span class="n">prop</span><span class="p">,</span> <span class="n">val</span> <span class="o">=</span> <span class="n">rule</span>
        <span class="k">if</span> <span class="n">file</span> <span class="o">!=</span> <span class="n">source_file</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="s2">&quot;.&quot;</span> <span class="ow">in</span> <span class="n">sel</span> <span class="ow">or</span> <span class="s2">&quot;:&quot;</span> <span class="ow">in</span> <span class="n">sel</span> <span class="ow">or</span> <span class="s2">&quot;#&quot;</span> <span class="ow">in</span> <span class="n">sel</span> <span class="ow">or</span> <span class="s2">&quot;[&quot;</span> <span class="ow">in</span> <span class="n">sel</span><span class="p">:</span>
            <span class="c1"># if either color or bg color is missing, look behind</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">condensed</span><span class="p">[</span><span class="n">sel</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;color&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">condensed</span><span class="p">[</span><span class="n">sel</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="s2">&quot;background-color&quot;</span>
            <span class="p">):</span>
                <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="s2">&quot;.:#[&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">sel</span><span class="p">:</span>
                        <span class="n">split_selector</span> <span class="o">=</span> <span class="n">sel</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">char</span><span class="p">)</span>
                        <span class="n">behind</span> <span class="o">=</span> <span class="n">split_selector</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                        <span class="k">if</span> <span class="n">condensed</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">behind</span><span class="p">):</span>
                            <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">rules</span><span class="p">:</span>
                                <span class="n">filename</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                                <span class="k">if</span> <span class="n">filename</span> <span class="o">!=</span> <span class="n">source_file</span><span class="p">:</span>
                                    <span class="k">continue</span>
                                <span class="n">rule_selector</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                                <span class="k">if</span> <span class="n">behind</span> <span class="o">==</span> <span class="n">rule_selector</span><span class="p">:</span>
                                    <span class="c1"># we found an ancestor</span>
                                    <span class="n">ancestor_data</span> <span class="o">=</span> <span class="n">condensed</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">behind</span><span class="p">)</span>
                                    <span class="n">current_condensed</span> <span class="o">=</span> <span class="n">condensed</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">sel</span><span class="p">)</span>
                                    <span class="k">if</span> <span class="ow">not</span> <span class="n">current_condensed</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;color&quot;</span><span class="p">):</span>
                                        <span class="n">color</span> <span class="o">=</span> <span class="n">ancestor_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;color&quot;</span><span class="p">)</span>
                                        <span class="n">current_condensed</span><span class="p">[</span><span class="s2">&quot;color&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">color</span>
                                    <span class="k">if</span> <span class="ow">not</span> <span class="n">current_condensed</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                                        <span class="s2">&quot;background-color&quot;</span>
                                    <span class="p">):</span>
                                        <span class="n">bg</span> <span class="o">=</span> <span class="n">ancestor_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                                            <span class="s2">&quot;background-color&quot;</span>
                                        <span class="p">)</span>
                                        <span class="n">cur_bg</span> <span class="o">=</span> <span class="n">current_condensed</span>
                                        <span class="n">cur_bg</span><span class="p">[</span><span class="s2">&quot;background-color&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bg</span>
                                    <span class="k">break</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.condense_the_rules" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">condense_the_rules</span><span class="p">(</span><span class="n">rules</span><span class="p">,</span> <span class="n">source_file</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>takes a list of color rules and returns only the unique color rulesets</p>
<p>Brings together both background and foreground color for each selector
(when present)</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>rules</code>
            </td>
            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list of tuples that contain filename, selector, property,
and value</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>source_file</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the HTML document the contains the rules</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:
    condensed: a dictionary with file and all selectors that target
        colors with what was set for background-color and color</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">condense_the_rules</span><span class="p">(</span><span class="n">rules</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">source_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;takes a list of color rules and returns only the unique color rulesets</span>

<span class="sd">    Brings together both background and foreground color for each selector</span>
<span class="sd">    (when present)</span>

<span class="sd">    Args:</span>
<span class="sd">        rules: list of tuples that contain filename, selector, property,</span>
<span class="sd">            and value</span>
<span class="sd">        source_file: the HTML document the contains the rules</span>
<span class="sd">    Returns:</span>
<span class="sd">        condensed: a dictionary with file and all selectors that target</span>
<span class="sd">            colors with what was set for background-color and color</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">condensed</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">source_file</span><span class="p">}</span>
    <span class="k">for</span> <span class="n">rule</span> <span class="ow">in</span> <span class="n">rules</span><span class="p">:</span>
        <span class="n">file</span><span class="p">,</span> <span class="n">sel</span><span class="p">,</span> <span class="n">prop</span><span class="p">,</span> <span class="n">val</span> <span class="o">=</span> <span class="n">rule</span>
        <span class="k">if</span> <span class="n">file</span> <span class="o">!=</span> <span class="n">source_file</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">condensed</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;file&quot;</span><span class="p">):</span>
            <span class="n">condensed</span><span class="p">[</span><span class="s2">&quot;file&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">file</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">condensed</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">sel</span><span class="p">):</span>
            <span class="c1"># we don&#39;t yet have the selector in place</span>
            <span class="n">condensed</span><span class="p">[</span><span class="n">sel</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="c1"># set the color or background color here</span>
        <span class="k">if</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">&quot;color&quot;</span><span class="p">:</span>
            <span class="n">condensed</span><span class="p">[</span><span class="n">sel</span><span class="p">][</span><span class="s2">&quot;color&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span>
        <span class="k">if</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">&quot;background-color&quot;</span><span class="p">:</span>
            <span class="n">condensed</span><span class="p">[</span><span class="n">sel</span><span class="p">][</span><span class="s2">&quot;background-color&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span>
    <span class="n">check_for_inherited_colors</span><span class="p">(</span><span class="n">rules</span><span class="p">,</span> <span class="n">condensed</span><span class="p">,</span> <span class="n">source_file</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">condensed</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.file_applies_property_by_selector" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">file_applies_property_by_selector</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">selector</span><span class="p">,</span> <span class="nb">property</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>determines whether a specific property is applied to selector or not.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>file_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>path to html doc in question.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>selector</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>CSS selector (or element) that the property is applied.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>property</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the CSS property we are looking for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>applies_property</code></td>            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether that selector applies the property or not.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">file_applies_property_by_selector</span><span class="p">(</span>
    <span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">selector</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">property</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;determines whether a specific property is applied to selector or not.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: path to html doc in question.</span>
<span class="sd">        selector: CSS selector (or element) that the property is applied.</span>
<span class="sd">        property: the CSS property we are looking for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        applies_property: whether that selector applies the property or not.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">applies_property</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">style_sheets</span> <span class="o">=</span> <span class="n">get_all_stylesheets_by_file</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>

    <span class="c1"># look for the selector get all declaration block</span>
    <span class="n">declarations</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">sheet</span> <span class="ow">in</span> <span class="n">style_sheets</span><span class="p">:</span>
        <span class="n">declaration_block</span> <span class="o">=</span> <span class="n">get_declaration_block_from_selector</span><span class="p">(</span>
            <span class="n">selector</span><span class="p">,</span> <span class="n">sheet</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">declaration_block</span><span class="p">:</span>
            <span class="n">declarations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">declaration_block</span><span class="p">)</span>
    <span class="n">combined_declaration_block</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">declarations</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">combined_declaration_block</span><span class="p">:</span>
        <span class="c1"># check for property in declaration_block</span>
        <span class="n">declarations</span> <span class="o">=</span> <span class="n">combined_declaration_block</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">declaration</span> <span class="ow">in</span> <span class="n">declarations</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">prop</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">declaration</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">property</span> <span class="ow">in</span> <span class="n">prop</span><span class="p">:</span>
                    <span class="n">applies_property</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">break</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Declaration is missing a colon!&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">applies_property</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.fonts_applied_report" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">fonts_applied_report</span><span class="p">(</span><span class="n">project_dir</span><span class="p">,</span> <span class="nb">min</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>returns a report of all files in a project folder that apply font
families.</p>
<p>You can set the minimum and maximum number of fonts applied per page.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>project_dir</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the relative path to the project folder we want to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>min</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the minimum number of fonts applied per file.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>max</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the maximum number of fonts applied per file.</p>
              </div>
            </td>
            <td>
                  <code>2</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:
    report: a list of font data results.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2373</span>
<span class="normal">2374</span>
<span class="normal">2375</span>
<span class="normal">2376</span>
<span class="normal">2377</span>
<span class="normal">2378</span>
<span class="normal">2379</span>
<span class="normal">2380</span>
<span class="normal">2381</span>
<span class="normal">2382</span>
<span class="normal">2383</span>
<span class="normal">2384</span>
<span class="normal">2385</span>
<span class="normal">2386</span>
<span class="normal">2387</span>
<span class="normal">2388</span>
<span class="normal">2389</span>
<span class="normal">2390</span>
<span class="normal">2391</span>
<span class="normal">2392</span>
<span class="normal">2393</span>
<span class="normal">2394</span>
<span class="normal">2395</span>
<span class="normal">2396</span>
<span class="normal">2397</span>
<span class="normal">2398</span>
<span class="normal">2399</span>
<span class="normal">2400</span>
<span class="normal">2401</span>
<span class="normal">2402</span>
<span class="normal">2403</span>
<span class="normal">2404</span>
<span class="normal">2405</span>
<span class="normal">2406</span>
<span class="normal">2407</span>
<span class="normal">2408</span>
<span class="normal">2409</span>
<span class="normal">2410</span>
<span class="normal">2411</span>
<span class="normal">2412</span>
<span class="normal">2413</span>
<span class="normal">2414</span>
<span class="normal">2415</span>
<span class="normal">2416</span>
<span class="normal">2417</span>
<span class="normal">2418</span>
<span class="normal">2419</span>
<span class="normal">2420</span>
<span class="normal">2421</span>
<span class="normal">2422</span>
<span class="normal">2423</span>
<span class="normal">2424</span>
<span class="normal">2425</span>
<span class="normal">2426</span>
<span class="normal">2427</span>
<span class="normal">2428</span>
<span class="normal">2429</span>
<span class="normal">2430</span>
<span class="normal">2431</span>
<span class="normal">2432</span>
<span class="normal">2433</span>
<span class="normal">2434</span>
<span class="normal">2435</span>
<span class="normal">2436</span>
<span class="normal">2437</span>
<span class="normal">2438</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">fonts_applied_report</span><span class="p">(</span><span class="n">project_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">min</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;returns a report of all files in a project folder that apply font</span>
<span class="sd">    families.</span>

<span class="sd">    You can set the minimum and maximum number of fonts applied per page.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_dir: the relative path to the project folder we want to check.</span>
<span class="sd">        min: the minimum number of fonts applied per file.</span>
<span class="sd">        max: the maximum number of fonts applied per file.</span>
<span class="sd">    Returns:</span>
<span class="sd">        report: a list of font data results.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">report</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">all_file_data</span> <span class="o">=</span> <span class="n">get_styles_by_html_files</span><span class="p">(</span><span class="n">project_dir</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">all_file_data</span><span class="p">:</span>
        <span class="n">font_families_applied</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">number_of_fonts</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="n">clerk</span><span class="o">.</span><span class="n">get_file_name</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;file&quot;</span><span class="p">))</span>
        <span class="n">stylesheets</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;stylesheets&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">sheet</span> <span class="ow">in</span> <span class="n">stylesheets</span><span class="p">:</span>
            <span class="n">font_details</span> <span class="o">=</span> <span class="n">get_font_families</span><span class="p">(</span><span class="n">sheet</span><span class="p">)</span>
            <span class="n">number_of_fonts</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">font_details</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">font_details</span><span class="p">:</span>
                <span class="n">results</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="n">selector</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;selector&quot;</span><span class="p">)</span>
                <span class="n">family</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;family&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="s2">&quot;,&quot;</span> <span class="ow">in</span> <span class="n">family</span><span class="p">:</span>
                    <span class="n">first_font</span> <span class="o">=</span> <span class="n">family</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">first_font</span> <span class="o">=</span> <span class="n">family</span>
                <span class="n">first_font</span> <span class="o">=</span> <span class="n">first_font</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
                <span class="n">first_font</span> <span class="o">=</span> <span class="n">first_font</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">first_font</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">font_families_applied</span><span class="p">:</span>
                    <span class="n">font_families_applied</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">first_font</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">first_font</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;times new roman&quot;</span><span class="p">:</span>
                    <span class="n">results</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;fail: </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">selector</span><span class="si">}</span><span class="s2"> element was set &quot;</span>
                    <span class="n">results</span> <span class="o">+=</span> <span class="s2">&quot;to the default font&quot;</span>
        <span class="n">num_fonts</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">font_families_applied</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">num_fonts</span> <span class="o">&gt;=</span> <span class="nb">min</span> <span class="ow">and</span> <span class="n">num_fonts</span> <span class="o">&lt;=</span> <span class="nb">max</span><span class="p">:</span>
            <span class="n">results</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;pass: </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2"> applied </span><span class="si">{</span><span class="n">num_fonts</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="k">if</span> <span class="n">num_fonts</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">current_font</span> <span class="o">=</span> <span class="n">font_families_applied</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">results</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;font: </span><span class="si">{</span><span class="n">current_font</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">results</span> <span class="o">+=</span> <span class="s2">&quot;fonts:&quot;</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_fonts</span><span class="p">):</span>
                    <span class="n">current_font</span> <span class="o">=</span> <span class="n">font_families_applied</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">current_font</span> <span class="o">==</span> <span class="n">font_families_applied</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
                        <span class="n">results</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;and </span><span class="si">{</span><span class="n">current_font</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="k">elif</span> <span class="n">num_fonts</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
                        <span class="n">results</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">current_font</span><span class="si">}</span><span class="s2">, &quot;</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">results</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">current_font</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="n">results</span> <span class="o">+=</span> <span class="s2">&quot;.&quot;</span>
        <span class="k">elif</span> <span class="n">num_fonts</span> <span class="o">&lt;</span> <span class="nb">min</span><span class="p">:</span>
            <span class="n">results</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;fail: </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2"> did not apply </span><span class="si">{</span><span class="nb">min</span><span class="si">}</span><span class="s2"> fonts, &quot;</span>
            <span class="n">results</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;instead, it applied </span><span class="si">{</span><span class="n">num_fonts</span><span class="si">}</span><span class="s2"> fonts.&quot;</span>
        <span class="k">elif</span> <span class="n">num_fonts</span> <span class="o">&gt;</span> <span class="nb">max</span><span class="p">:</span>
            <span class="n">results</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;fail: </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2"> applied too many fonts; &quot;</span>
            <span class="n">results</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; it applied </span><span class="si">{</span><span class="n">num_fonts</span><span class="si">}</span><span class="s2"> fonts.&quot;</span>
        <span class="k">if</span> <span class="n">results</span> <span class="ow">and</span> <span class="n">results</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">report</span><span class="p">:</span>
            <span class="n">report</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">report</span><span class="p">:</span>
        <span class="n">report</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;fail: no html files to apply font styling to&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">report</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_all_color_rules" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_all_color_rules</span><span class="p">(</span><span class="n">file</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>gets all color rulesets from html file</p>
<p>Gets all color rulesets applied to an HTML file, whether that be
through a style tag or linked stylesheet and condensing them.</p>
<p>Creates a list of tuples that include filename, selector, color,
and background color, and adjusts for overrides. In other words,
it should be each selector and the final color applied.</p>
<p>Caveats: It does not yet account for inheritance. That would require
traversing the DOM. It also does not yet account for @media rules. As
of now, it's ignoring any @media breakpoint rule.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>file</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an html file</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>all_color_rules</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a dictionary of all color rulesets applied to an</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>html document.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_all_color_rules</span><span class="p">(</span><span class="n">file</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;gets all color rulesets from html file</span>

<span class="sd">    Gets all color rulesets applied to an HTML file, whether that be</span>
<span class="sd">    through a style tag or linked stylesheet and condensing them.</span>

<span class="sd">    Creates a list of tuples that include filename, selector, color,</span>
<span class="sd">    and background color, and adjusts for overrides. In other words,</span>
<span class="sd">    it should be each selector and the final color applied.</span>

<span class="sd">    Caveats: It does not yet account for inheritance. That would require</span>
<span class="sd">    traversing the DOM. It also does not yet account for @media rules. As</span>
<span class="sd">    of now, it&#39;s ignoring any @media breakpoint rule.</span>

<span class="sd">    Args:</span>
<span class="sd">        file: an html file</span>

<span class="sd">    Returns:</span>
<span class="sd">        all_color_rules: a dictionary of all color rulesets applied to an</span>
<span class="sd">        html document.&quot;&quot;&quot;</span>
    <span class="n">all_color_rules</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">styles_by_file</span> <span class="o">=</span> <span class="n">get_all_stylesheets_by_file</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">style</span> <span class="ow">in</span> <span class="n">styles_by_file</span><span class="p">:</span>
        <span class="n">rules</span> <span class="o">=</span> <span class="n">get_color_rules_from_stylesheet</span><span class="p">(</span><span class="n">style</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">rules</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">rule</span> <span class="ow">in</span> <span class="n">rules</span><span class="p">:</span>
                <span class="n">all_color_rules</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">file</span><span class="p">,)</span> <span class="o">+</span> <span class="n">rule</span><span class="p">)</span>
    <span class="n">condensed_rules</span> <span class="o">=</span> <span class="n">condense_the_rules</span><span class="p">(</span><span class="n">all_color_rules</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">condensed_rules</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_all_font_rules" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_all_font_rules</span><span class="p">(</span><span class="n">sheet</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>returns a list of all rules targetting font properties.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>sheet</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Stylesheet (webcode_tk.css_tools.Stylesheet)" href="#webcode_tk.css_tools.Stylesheet">Stylesheet</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a stylesheet object.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>font_rules</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of all font rules.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_all_font_rules</span><span class="p">(</span><span class="n">sheet</span><span class="p">:</span> <span class="n">Stylesheet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;returns a list of all rules targetting font properties.</span>

<span class="sd">    Args:</span>
<span class="sd">        sheet: a stylesheet object.</span>

<span class="sd">    Returns:</span>
<span class="sd">        font_rules: a list of all font rules.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rules</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">rule</span> <span class="ow">in</span> <span class="n">sheet</span><span class="o">.</span><span class="n">rulesets</span><span class="p">:</span>
        <span class="k">if</span> <span class="s2">&quot;font&quot;</span> <span class="ow">in</span> <span class="n">rule</span><span class="o">.</span><span class="n">_Ruleset__text</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">declaration</span> <span class="ow">in</span> <span class="n">rule</span><span class="o">.</span><span class="n">declaration_block</span><span class="o">.</span><span class="n">declarations</span><span class="p">:</span>
                <span class="k">if</span> <span class="s2">&quot;font&quot;</span> <span class="ow">in</span> <span class="n">declaration</span><span class="o">.</span><span class="n">property</span><span class="p">:</span>
                    <span class="n">selector</span> <span class="o">=</span> <span class="n">rule</span><span class="o">.</span><span class="n">selector</span>
                    <span class="nb">property</span> <span class="o">=</span> <span class="n">declaration</span><span class="o">.</span><span class="n">property</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="n">declaration</span><span class="o">.</span><span class="n">value</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">rules</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">selector</span><span class="p">):</span>
                        <span class="n">rules</span><span class="p">[</span><span class="n">selector</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="n">rules</span><span class="p">[</span><span class="n">selector</span><span class="p">][</span><span class="s2">&quot;at_rule&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
                    <span class="n">rules</span><span class="p">[</span><span class="n">selector</span><span class="p">][</span><span class="s2">&quot;property&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">property</span>
                    <span class="n">rules</span><span class="p">[</span><span class="n">selector</span><span class="p">][</span><span class="s2">&quot;value&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
    <span class="n">font_rules</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">rules</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
    <span class="n">at_rules</span> <span class="o">=</span> <span class="n">get_all_at_rules</span><span class="p">(</span><span class="n">sheet</span><span class="p">)</span>
    <span class="n">font_rules</span> <span class="o">=</span> <span class="n">font_rules</span> <span class="o">+</span> <span class="n">at_rules</span>
    <span class="k">return</span> <span class="n">font_rules</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_all_link_rules" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_all_link_rules</span><span class="p">(</span><span class="n">sheet</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>returns all rules that target a hyperlink</p>
<p>returns all rules that target a link</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>sheet</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Stylesheet (webcode_tk.css_tools.Stylesheet)" href="#webcode_tk.css_tools.Stylesheet">Stylesheet</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the stylesheet object.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>rules</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of all rules that target a link</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">971</span>
<span class="normal">972</span>
<span class="normal">973</span>
<span class="normal">974</span>
<span class="normal">975</span>
<span class="normal">976</span>
<span class="normal">977</span>
<span class="normal">978</span>
<span class="normal">979</span>
<span class="normal">980</span>
<span class="normal">981</span>
<span class="normal">982</span>
<span class="normal">983</span>
<span class="normal">984</span>
<span class="normal">985</span>
<span class="normal">986</span>
<span class="normal">987</span>
<span class="normal">988</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_all_link_rules</span><span class="p">(</span><span class="n">sheet</span><span class="p">:</span> <span class="n">Stylesheet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;returns all rules that target a hyperlink</span>

<span class="sd">    returns all rules that target a link</span>

<span class="sd">    Args:</span>
<span class="sd">        sheet: the stylesheet object.</span>

<span class="sd">    Returns:</span>
<span class="sd">        rules: a list of all rules that target a link&quot;&quot;&quot;</span>
    <span class="n">rules</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">link_selectors</span> <span class="o">=</span> <span class="n">get_all_link_selectors</span><span class="p">(</span><span class="n">sheet</span><span class="p">)</span>
    <span class="n">all_rulesets</span> <span class="o">=</span> <span class="n">sheet</span><span class="o">.</span><span class="n">rulesets</span>
    <span class="k">for</span> <span class="n">rule</span> <span class="ow">in</span> <span class="n">all_rulesets</span><span class="p">:</span>
        <span class="n">current_selector</span> <span class="o">=</span> <span class="n">rule</span><span class="o">.</span><span class="n">selector</span>
        <span class="k">if</span> <span class="n">current_selector</span> <span class="ow">in</span> <span class="n">link_selectors</span><span class="p">:</span>
            <span class="n">rules</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rule</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">rules</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_all_link_selectors" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_all_link_selectors</span><span class="p">(</span><span class="n">sheet</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>returns all selectors that target a link</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>sheet</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Stylesheet (webcode_tk.css_tools.Stylesheet)" href="#webcode_tk.css_tools.Stylesheet">Stylesheet</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the stylesheet object.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>selectors</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of all selectors that target a link</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_all_link_selectors</span><span class="p">(</span><span class="n">sheet</span><span class="p">:</span> <span class="n">Stylesheet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;returns all selectors that target a link</span>

<span class="sd">    Args:</span>
<span class="sd">        sheet: the stylesheet object.</span>

<span class="sd">    Returns:</span>
<span class="sd">        selectors: a list of all selectors that target a link&quot;&quot;&quot;</span>
    <span class="n">selectors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">all_selectors</span> <span class="o">=</span> <span class="n">sheet</span><span class="o">.</span><span class="n">selectors</span>
    <span class="k">for</span> <span class="n">selector</span> <span class="ow">in</span> <span class="n">all_selectors</span><span class="p">:</span>
        <span class="n">selector_match</span> <span class="o">=</span> <span class="n">is_link_selector</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">selector_match</span><span class="p">:</span>
            <span class="n">selectors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">selector</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">selectors</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_all_project_stylesheets" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_all_project_stylesheets</span><span class="p">(</span><span class="n">project_dir</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>returns a list of all styles and stylesheets from a project folder.</p>
<p>This includes styles from style tags as well as linked stylesheets.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>project_dir</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the relative link to the folder with the web docs.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>all_files_styles</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of all stylesheets and style tag contents.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2299</span>
<span class="normal">2300</span>
<span class="normal">2301</span>
<span class="normal">2302</span>
<span class="normal">2303</span>
<span class="normal">2304</span>
<span class="normal">2305</span>
<span class="normal">2306</span>
<span class="normal">2307</span>
<span class="normal">2308</span>
<span class="normal">2309</span>
<span class="normal">2310</span>
<span class="normal">2311</span>
<span class="normal">2312</span>
<span class="normal">2313</span>
<span class="normal">2314</span>
<span class="normal">2315</span>
<span class="normal">2316</span>
<span class="normal">2317</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_all_project_stylesheets</span><span class="p">(</span><span class="n">project_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;returns a list of all styles and stylesheets from a project folder.</span>

<span class="sd">    This includes styles from style tags as well as linked stylesheets.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_dir: the relative link to the folder with the web docs.</span>

<span class="sd">    Returns:</span>
<span class="sd">        all_files_styles: a list of all stylesheets and style tag contents.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">directory</span> <span class="o">=</span> <span class="n">project_dir</span>
    <span class="n">html_files</span> <span class="o">=</span> <span class="n">clerk</span><span class="o">.</span><span class="n">get_all_files_of_type</span><span class="p">(</span><span class="n">directory</span><span class="p">,</span> <span class="s2">&quot;html&quot;</span><span class="p">)</span>
    <span class="n">all_files_styles</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">html_files</span><span class="p">:</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="n">clerk</span><span class="o">.</span><span class="n">get_file_name</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
        <span class="n">stylesheets</span> <span class="o">=</span> <span class="n">get_all_stylesheets_by_file</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
        <span class="n">all_files_styles</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">filename</span><span class="p">,</span> <span class="n">stylesheets</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">all_files_styles</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_all_styles_in_order" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_all_styles_in_order</span><span class="p">(</span><span class="n">project_path</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>returns a list of all files' stylesheets in order of appearance.</p>
<p>The goal is to allows user to identify the cascade order of selectors
and their values. This will allow one to determine if one ruleset
overrides another (same specificity)</p>
<p>Iterates through each html file in a project folder and extracts
any style tags and local stylesheets. Each styletag or stylesheet
is converted into a Stylesheet object and appended to a dictionary
of file names.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>project_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the path to the main project folder.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>styles_by_html_files</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of dictionary objects. Each dictionary
has two keys: file and stylesheets.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_all_styles_in_order</span><span class="p">(</span><span class="n">project_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;returns a list of all files&#39; stylesheets in order of appearance.</span>

<span class="sd">    The goal is to allows user to identify the cascade order of selectors</span>
<span class="sd">    and their values. This will allow one to determine if one ruleset</span>
<span class="sd">    overrides another (same specificity)</span>

<span class="sd">    Iterates through each html file in a project folder and extracts</span>
<span class="sd">    any style tags and local stylesheets. Each styletag or stylesheet</span>
<span class="sd">    is converted into a Stylesheet object and appended to a dictionary</span>
<span class="sd">    of file names.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_path: the path to the main project folder.</span>

<span class="sd">    Returns:</span>
<span class="sd">        styles_by_html_files: a list of dictionary objects. Each dictionary</span>
<span class="sd">            has two keys: file and stylesheets.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">styles_by_html_files</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">html_files</span> <span class="o">=</span> <span class="n">html_tools</span><span class="o">.</span><span class="n">get_all_html_files</span><span class="p">(</span><span class="n">project_path</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">html_files</span><span class="p">:</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="n">get_all_stylesheets_by_file</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
        <span class="n">styles_by_html_files</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">file</span><span class="p">,</span> <span class="s2">&quot;stylesheets&quot;</span><span class="p">:</span> <span class="n">file_data</span><span class="p">})</span>
    <span class="k">return</span> <span class="n">styles_by_html_files</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_all_stylesheets_by_file" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_all_stylesheets_by_file</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>returns a list of all Stylesheet objects from an HTML file in order of
appearance.</p>
<p>This will check an HTML file for any links to stylesheets or style tags,
and get each stylesheet in the order in which they were called (in case
there is a CSS override).</p>
<p>It will only accept links to local stylesheets and ignore any external
stylesheets called with an http or https.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>file_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the path to an HTML file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>all_styles</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of stylesheet objects in the order in which they
are called (as a link or style tag).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_all_stylesheets_by_file</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;returns a list of all Stylesheet objects from an HTML file in order of</span>
<span class="sd">    appearance.</span>

<span class="sd">    This will check an HTML file for any links to stylesheets or style tags,</span>
<span class="sd">    and get each stylesheet in the order in which they were called (in case</span>
<span class="sd">    there is a CSS override).</span>

<span class="sd">    It will only accept links to local stylesheets and ignore any external</span>
<span class="sd">    stylesheets called with an http or https.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: the path to an HTML file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        all_styles: a list of stylesheet objects in the order in which they</span>
<span class="sd">            are called (as a link or style tag).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">all_styles</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">head_tags</span> <span class="o">=</span> <span class="n">html_tools</span><span class="o">.</span><span class="n">get_elements</span><span class="p">(</span><span class="s2">&quot;head&quot;</span><span class="p">,</span> <span class="n">file_path</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">head_tags</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">item</span><span class="o">.</span><span class="n">contents</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">tag</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="n">tag</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;link&quot;</span><span class="p">:</span>
                <span class="n">href</span> <span class="o">=</span> <span class="n">tag</span><span class="o">.</span><span class="n">attrs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="s2">&quot;.css&quot;</span> <span class="ow">in</span> <span class="n">href</span><span class="p">:</span>
                    <span class="k">if</span> <span class="s2">&quot;http&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">href</span><span class="p">[:</span><span class="mi">5</span><span class="p">]:</span>
                        <span class="c1"># remove html filename with sheet href</span>
                        <span class="n">path_list</span> <span class="o">=</span> <span class="n">clerk</span><span class="o">.</span><span class="n">get_path_list</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
                        <span class="n">path_list</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
                        <span class="n">path_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">href</span><span class="p">)</span>
                        <span class="n">sheet_path</span> <span class="o">=</span> <span class="s2">&quot;/&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path_list</span><span class="p">)</span>
                        <span class="n">code</span> <span class="o">=</span> <span class="n">clerk</span><span class="o">.</span><span class="n">file_to_string</span><span class="p">(</span><span class="n">sheet_path</span><span class="p">)</span>
                        <span class="n">css_sheet</span> <span class="o">=</span> <span class="n">Stylesheet</span><span class="p">(</span><span class="n">sheet_path</span><span class="p">,</span> <span class="n">code</span><span class="p">)</span>
                        <span class="n">all_styles</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">css_sheet</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">tag</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;style&quot;</span><span class="p">:</span>
                <span class="c1"># first check for @import url</span>
                <span class="n">contents</span> <span class="o">=</span> <span class="n">tag</span><span class="o">.</span><span class="n">text</span>
                <span class="k">if</span> <span class="s2">&quot;@import url(&quot;</span> <span class="ow">in</span> <span class="n">contents</span><span class="p">:</span>
                    <span class="n">filename</span> <span class="o">=</span> <span class="n">contents</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;url(&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
                    <span class="n">filename</span> <span class="o">=</span> <span class="n">filename</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="n">filename</span> <span class="o">=</span> <span class="n">filename</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
                    <span class="n">filename</span> <span class="o">=</span> <span class="n">filename</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
                    <span class="n">path_list</span> <span class="o">=</span> <span class="n">clerk</span><span class="o">.</span><span class="n">get_path_list</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
                    <span class="n">path_list</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
                    <span class="n">path_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
                    <span class="n">sheet_path</span> <span class="o">=</span> <span class="s2">&quot;/&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path_list</span><span class="p">)</span>
                    <span class="n">code</span> <span class="o">=</span> <span class="n">clerk</span><span class="o">.</span><span class="n">file_to_string</span><span class="p">(</span><span class="n">sheet_path</span><span class="p">)</span>
                    <span class="n">css_sheet</span> <span class="o">=</span> <span class="n">Stylesheet</span><span class="p">(</span><span class="n">sheet_path</span><span class="p">,</span> <span class="n">code</span><span class="p">)</span>
                    <span class="n">all_styles</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">css_sheet</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">css_sheet</span> <span class="o">=</span> <span class="n">Stylesheet</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">tag</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s2">&quot;styletag&quot;</span><span class="p">)</span>
                    <span class="n">all_styles</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">css_sheet</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">all_styles</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_background_color" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_background_color</span><span class="p">(</span><span class="n">declaration</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Returns a color value from a declaration with a property of background</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>declaration</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Declaration (webcode_tk.css_tools.Declaration)" href="#webcode_tk.css_tools.Declaration">Declaration</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the declaration we want to test.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>color_value</code></td>            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>either a valid color value, None, or gradient - if it's a
gradient</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_background_color</span><span class="p">(</span><span class="n">declaration</span><span class="p">:</span> <span class="n">Declaration</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a color value from a declaration with a property of background</span>

<span class="sd">    Args:</span>
<span class="sd">        declaration: the declaration we want to test.</span>

<span class="sd">    Returns:</span>
<span class="sd">        color_value: either a valid color value, None, or gradient - if it&#39;s a</span>
<span class="sd">            gradient&quot;&quot;&quot;</span>
    <span class="n">color_value</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">is_rgb</span> <span class="o">=</span> <span class="n">color_tools</span><span class="o">.</span><span class="n">is_rgb</span><span class="p">(</span><span class="n">declaration</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">is_rgb</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">declaration</span><span class="o">.</span><span class="n">value</span>
    <span class="n">values</span> <span class="o">=</span> <span class="n">declaration</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
        <span class="n">color</span> <span class="o">=</span> <span class="n">color_tools</span><span class="o">.</span><span class="n">is_color_value</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">color</span><span class="p">:</span>
            <span class="n">color_value</span> <span class="o">=</span> <span class="n">val</span>
            <span class="k">break</span>
        <span class="n">is_keyword</span> <span class="o">=</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">color_tools</span><span class="o">.</span><span class="n">color_keywords</span><span class="o">.</span><span class="n">get_all_keywords</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">is_keyword</span><span class="p">:</span>
            <span class="n">color_value</span> <span class="o">=</span> <span class="n">val</span>
            <span class="k">break</span>
        <span class="n">gradient</span> <span class="o">=</span> <span class="n">is_gradient</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">gradient</span><span class="p">:</span>
            <span class="n">color_value</span> <span class="o">=</span> <span class="s2">&quot;gradient&quot;</span>
            <span class="k">break</span>
    <span class="k">return</span> <span class="n">color_value</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_class_score" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_class_score</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>receives a selector and returns the class score</p>
<p>The class score represents the combined number of class,
pseudo-class, and attribute selectors.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>selector</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the complete CSS selector</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>score</code></td>            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the number of class selectors, which includes attribute</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td></td>            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>and pseudoclass selectors (but NOT pseudo-elements).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_class_score</span><span class="p">(</span><span class="n">selector</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;receives a selector and returns the class score</span>

<span class="sd">    The class score represents the combined number of class,</span>
<span class="sd">    pseudo-class, and attribute selectors.</span>

<span class="sd">    Args:</span>
<span class="sd">        selector (str): the complete CSS selector</span>

<span class="sd">    Returns:</span>
<span class="sd">        score: the number of class selectors, which includes attribute</span>
<span class="sd">        and pseudoclass selectors (but NOT pseudo-elements).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">class_re</span> <span class="o">=</span> <span class="n">regex_patterns</span><span class="p">[</span><span class="s2">&quot;class_selector&quot;</span><span class="p">]</span>
    <span class="n">selectors</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">class_re</span><span class="p">,</span> <span class="n">selector</span><span class="p">)</span>
    <span class="n">pseudo_re</span> <span class="o">=</span> <span class="n">regex_patterns</span><span class="p">[</span><span class="s2">&quot;pseudoclass_selector&quot;</span><span class="p">]</span>
    <span class="n">pseudo_selectors</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">pseudo_re</span><span class="p">,</span> <span class="n">selector</span><span class="p">)</span>
    <span class="n">selectors</span> <span class="o">+=</span> <span class="n">pseudo_selectors</span>
    <span class="n">attribute_re</span> <span class="o">=</span> <span class="n">regex_patterns</span><span class="p">[</span><span class="s2">&quot;attribute_selectors&quot;</span><span class="p">]</span>
    <span class="n">attribute_selectorss</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">attribute_re</span><span class="p">,</span> <span class="n">selector</span><span class="p">)</span>
    <span class="n">selectors</span> <span class="o">+=</span> <span class="n">attribute_selectorss</span>
    <span class="n">score</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">selectors</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">score</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_color_codes_of_type" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_color_codes_of_type</span><span class="p">(</span><span class="n">color_type</span><span class="p">,</span> <span class="n">gradient</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>returns all color codes of a particular type from a gradient</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>color_type</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the type of color code it might be (hex, rgb, hsl,
or keyword)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>gradient</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the gradient code.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>colors</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>any color values that were found.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_color_codes_of_type</span><span class="p">(</span><span class="n">color_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">gradient</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;returns all color codes of a particular type from a gradient</span>

<span class="sd">    Args:</span>
<span class="sd">        color_type: the type of color code it might be (hex, rgb, hsl,</span>
<span class="sd">            or keyword)</span>
<span class="sd">        gradient: the gradient code.</span>

<span class="sd">    Returns:</span>
<span class="sd">        colors: any color values that were found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">colors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">color_type</span> <span class="o">==</span> <span class="s2">&quot;hsl&quot;</span><span class="p">:</span>
        <span class="n">colors</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">color_tools</span><span class="o">.</span><span class="n">hsl_all_forms_re</span><span class="p">,</span> <span class="n">gradient</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">color_type</span> <span class="o">==</span> <span class="s2">&quot;rgb&quot;</span><span class="p">:</span>
        <span class="n">colors</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">color_tools</span><span class="o">.</span><span class="n">rgb_all_forms_re</span><span class="p">,</span> <span class="n">gradient</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">color_type</span> <span class="o">==</span> <span class="s2">&quot;hex&quot;</span><span class="p">:</span>
        <span class="n">colors</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">color_tools</span><span class="o">.</span><span class="n">hex_re</span><span class="p">,</span> <span class="n">gradient</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">color_type</span> <span class="o">==</span> <span class="s2">&quot;keywords&quot;</span><span class="p">:</span>
        <span class="n">words</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[+a-z+A-Z]*&quot;</span><span class="p">,</span> <span class="n">gradient</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">words</span><span class="p">:</span>
            <span class="c1"># regex captures non-strings, so we don&#39;t process if empty</span>
            <span class="k">if</span> <span class="n">i</span><span class="p">:</span>
                <span class="n">i</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
                <span class="n">is_keyword</span> <span class="o">=</span> <span class="n">keyword</span><span class="o">.</span><span class="n">is_a_keyword</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">))</span>
                <span class="k">if</span> <span class="n">is_keyword</span><span class="p">:</span>
                    <span class="n">colors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">colors</span><span class="p">:</span>
        <span class="c1"># strip each color code (if hex regex)</span>
        <span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">colors</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">colors</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_color_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_color_data</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">color_details</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;aaa&#39;</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>returns the color contrast data on a color.</p>
<p>pulls out the selector, background color, text color, contrast
ratio, and whether it passes color contrast.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>file</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>just the name of the file (not path).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>color_details</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>tuple of full color &amp; bg color details.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>level</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the level of normal text (AAA or AA).</p>
              </div>
            </td>
            <td>
                  <code>&#39;aaa&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>color_data</code></td>            <td>
                  <code><span title="tuple">tuple</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a tuple with filename and results as a string</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2548</span>
<span class="normal">2549</span>
<span class="normal">2550</span>
<span class="normal">2551</span>
<span class="normal">2552</span>
<span class="normal">2553</span>
<span class="normal">2554</span>
<span class="normal">2555</span>
<span class="normal">2556</span>
<span class="normal">2557</span>
<span class="normal">2558</span>
<span class="normal">2559</span>
<span class="normal">2560</span>
<span class="normal">2561</span>
<span class="normal">2562</span>
<span class="normal">2563</span>
<span class="normal">2564</span>
<span class="normal">2565</span>
<span class="normal">2566</span>
<span class="normal">2567</span>
<span class="normal">2568</span>
<span class="normal">2569</span>
<span class="normal">2570</span>
<span class="normal">2571</span>
<span class="normal">2572</span>
<span class="normal">2573</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_color_data</span><span class="p">(</span><span class="n">file</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">color_details</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s2">&quot;aaa&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;returns the color contrast data on a color.</span>

<span class="sd">    pulls out the selector, background color, text color, contrast</span>
<span class="sd">    ratio, and whether it passes color contrast.</span>

<span class="sd">    Args:</span>
<span class="sd">        file: just the name of the file (not path).</span>
<span class="sd">        color_details: tuple of full color &amp; bg color details.</span>
<span class="sd">        level: the level of normal text (AAA or AA).</span>

<span class="sd">    Returns:</span>
<span class="sd">        color_data: a tuple with filename and results as a string&quot;&quot;&quot;</span>
    <span class="n">selector</span> <span class="o">=</span> <span class="n">color_details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;selector&quot;</span><span class="p">)</span>
    <span class="n">contrast_ratio</span> <span class="o">=</span> <span class="n">color_details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;contrast_ratio&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">level</span> <span class="o">==</span> <span class="s2">&quot;aaa&quot;</span><span class="p">:</span>
        <span class="n">passes</span> <span class="o">=</span> <span class="n">color_details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;passes_normal_aaa&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">passes</span> <span class="o">=</span> <span class="n">color_details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;passes_normal_aa&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">passes</span><span class="p">:</span>
        <span class="n">results</span> <span class="o">=</span> <span class="s2">&quot;passes global colors&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">results</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;the &lt;</span><span class="si">{</span><span class="n">selector</span><span class="si">}</span><span class="s2">&gt; element fails WCAG </span><span class="si">{</span><span class="n">level</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">results</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;contrast with a ratio of </span><span class="si">{</span><span class="n">contrast_ratio</span><span class="si">}</span><span class="s2">.&quot;</span>
    <span class="n">color_data</span> <span class="o">=</span> <span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">results</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">color_data</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_color_rules_from_stylesheet" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_color_rules_from_stylesheet</span><span class="p">(</span><span class="n">stylesheet</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Gets all color-based rules from a stylesheet.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>stylesheet</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Stylesheet (webcode_tk.css_tools.Stylesheet)" href="#webcode_tk.css_tools.Stylesheet">Stylesheet</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Stylesheet object.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>rules</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of color-based rules</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_color_rules_from_stylesheet</span><span class="p">(</span><span class="n">stylesheet</span><span class="p">:</span> <span class="n">Stylesheet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets all color-based rules from a stylesheet.</span>

<span class="sd">    Args:</span>
<span class="sd">        stylesheet: Stylesheet object.</span>

<span class="sd">    Returns:</span>
<span class="sd">        rules: a list of color-based rules&quot;&quot;&quot;</span>
    <span class="n">rules</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">ruleset</span> <span class="ow">in</span> <span class="n">stylesheet</span><span class="o">.</span><span class="n">rulesets</span><span class="p">:</span>
        <span class="n">declaration_block</span> <span class="o">=</span> <span class="n">ruleset</span><span class="o">.</span><span class="n">declaration_block</span>
        <span class="n">declarations</span> <span class="o">=</span> <span class="n">declaration_block</span><span class="o">.</span><span class="n">declarations</span>
        <span class="k">for</span> <span class="n">declaration</span> <span class="ow">in</span> <span class="n">declarations</span><span class="p">:</span>
            <span class="nb">property</span> <span class="o">=</span> <span class="n">declaration</span><span class="o">.</span><span class="n">property</span>
            <span class="k">if</span> <span class="nb">property</span> <span class="o">==</span> <span class="s2">&quot;color&quot;</span> <span class="ow">or</span> <span class="s2">&quot;background&quot;</span> <span class="ow">in</span> <span class="nb">property</span><span class="p">:</span>
                <span class="n">selector</span> <span class="o">=</span> <span class="n">ruleset</span><span class="o">.</span><span class="n">selector</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">declaration</span><span class="o">.</span><span class="n">value</span>
                <span class="k">if</span> <span class="s2">&quot;background&quot;</span> <span class="ow">in</span> <span class="nb">property</span><span class="p">:</span>
                    <span class="n">background_color</span> <span class="o">=</span> <span class="n">get_background_color</span><span class="p">(</span><span class="n">declaration</span><span class="p">)</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">background_color</span><span class="p">:</span>
                        <span class="k">continue</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">value</span> <span class="o">=</span> <span class="n">background_color</span>
                <span class="n">rules</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">selector</span><span class="p">,</span> <span class="nb">property</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">rules</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_colors_from_gradient" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_colors_from_gradient</span><span class="p">(</span><span class="n">gradient</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>extract all color codes from gradient</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>gradient</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the CSS color gradient value.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>colors</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of all colors found in the gradient.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_colors_from_gradient</span><span class="p">(</span><span class="n">gradient</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;extract all color codes from gradient</span>

<span class="sd">    Args:</span>
<span class="sd">        gradient: the CSS color gradient value.</span>

<span class="sd">    Returns:</span>
<span class="sd">        colors: a list of all colors found in the gradient.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">colors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="c1"># use regex to pull all possible color codes first</span>
    <span class="n">color_types</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;hsl&quot;</span><span class="p">,</span> <span class="s2">&quot;rgb&quot;</span><span class="p">,</span> <span class="s2">&quot;hex&quot;</span><span class="p">,</span> <span class="s2">&quot;keywords&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">color_type</span> <span class="ow">in</span> <span class="n">color_types</span><span class="p">:</span>
        <span class="n">items</span> <span class="o">=</span> <span class="n">get_color_codes_of_type</span><span class="p">(</span><span class="n">color_type</span><span class="p">,</span> <span class="n">gradient</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">items</span><span class="p">:</span>
            <span class="n">colors</span> <span class="o">+=</span> <span class="n">items</span>
    <span class="k">return</span> <span class="n">colors</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_comment_positions" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_comment_positions</span><span class="p">(</span><span class="n">code</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>looks for index positions of first opening and closing comment.</p>
<p>From this function, you can create a slice of a comment from the
code. You would do this if you want to extract the comments from
the code, or if you wanted to inspect what was in the comments, or
even identify if there are comments.</p>
<p>Note: this only works for the first comment in code. You would
want to loop through the code extracting each comment one at a
time using this function until it returns None.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>code</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the CSS code you want to extract comments from.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>list</code></td>            <td>
                  <code><span title="typing.Union">Union</span>[<span title="list">list</span>, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of the index positions for the beginning and end
of the first occuring comment in the code.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_comment_positions</span><span class="p">(</span><span class="n">code</span><span class="p">:</span> <span class="p">(</span><span class="nb">str</span><span class="p">))</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">list</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;looks for index positions of first opening and closing comment.</span>

<span class="sd">    From this function, you can create a slice of a comment from the</span>
<span class="sd">    code. You would do this if you want to extract the comments from</span>
<span class="sd">    the code, or if you wanted to inspect what was in the comments, or</span>
<span class="sd">    even identify if there are comments.</span>

<span class="sd">    Note: this only works for the first comment in code. You would</span>
<span class="sd">    want to loop through the code extracting each comment one at a</span>
<span class="sd">    time using this function until it returns None.</span>

<span class="sd">    Args:</span>
<span class="sd">        code (str): the CSS code you want to extract comments from.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: a list of the index positions for the beginning and end</span>
<span class="sd">            of the first occuring comment in the code.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">positions</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">positions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">code</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;/*&quot;</span><span class="p">))</span>
        <span class="n">positions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">code</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;*/&quot;</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">positions</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>
        <span class="k">return</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_declaration_value_by_property" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_declaration_value_by_property</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="nb">property</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>returns the value of a property from a declaration block</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>block</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="str">str</span>, <a class="autorefs autorefs-internal" title="DeclarationBlock (webcode_tk.css_tools.DeclarationBlock)" href="#webcode_tk.css_tools.DeclarationBlock">DeclarationBlock</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the declaration block in question (could be as a string
or as a DeclarationBlock)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>property</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the property we are looking for</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>value</code></td>            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the value of the property</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_declaration_value_by_property</span><span class="p">(</span>
    <span class="n">block</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">DeclarationBlock</span><span class="p">],</span> <span class="nb">property</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;returns the value of a property from a declaration block</span>

<span class="sd">    Args:</span>
<span class="sd">        block: the declaration block in question (could be as a string</span>
<span class="sd">            or as a DeclarationBlock)</span>
<span class="sd">        property: the property we are looking for</span>

<span class="sd">    Returns:</span>
<span class="sd">        value: the value of the property&quot;&quot;&quot;</span>
    <span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">block</span> <span class="o">=</span> <span class="n">block</span><span class="o">.</span><span class="n">text</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="n">declarations</span> <span class="o">=</span> <span class="n">block</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="n">declarations</span> <span class="o">=</span> <span class="n">block</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">declarations</span><span class="p">:</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># check for @media rules</span>
            <span class="k">if</span> <span class="s2">&quot;{&quot;</span> <span class="ow">in</span> <span class="n">item</span><span class="p">:</span>
                <span class="n">item_split</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;{&quot;</span><span class="p">)</span>
                <span class="n">item</span> <span class="o">=</span> <span class="n">item_split</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="n">prop</span><span class="p">,</span> <span class="n">val</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">prop</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="nb">property</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">val</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                <span class="k">continue</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Doh! no colon&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">value</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_families" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_families</span><span class="p">(</span><span class="n">declaration_block</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>returns a list of all font families in a declaration block</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_families</span><span class="p">(</span><span class="n">declaration_block</span><span class="p">:</span> <span class="n">DeclarationBlock</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;returns a list of all font families in a declaration block&quot;&quot;&quot;</span>
    <span class="n">families</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">declaration_block</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">ruleset</span> <span class="ow">in</span> <span class="n">declaration_block</span><span class="o">.</span><span class="n">declarations</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">ruleset</span><span class="o">.</span><span class="n">property</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;font&quot;</span><span class="p">,</span> <span class="s2">&quot;font-family&quot;</span><span class="p">):</span>
                <span class="n">families</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ruleset</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">families</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_font_families" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_font_families</span><span class="p">(</span><span class="n">sheet</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>returns a list of all font families targeted in a stylesheet</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>sheet</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Stylesheet (webcode_tk.css_tools.Stylesheet)" href="#webcode_tk.css_tools.Stylesheet">Stylesheet</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a stylesheet object, which could be a style tag or entire
stylesheet (*.css file)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>font_families</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of dictionary objects that contain all selectors
and their values (but only if the value is a font family)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_font_families</span><span class="p">(</span><span class="n">sheet</span><span class="p">:</span> <span class="n">Stylesheet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;returns a list of all font families targeted in a stylesheet</span>

<span class="sd">    Args:</span>
<span class="sd">        sheet: a stylesheet object, which could be a style tag or entire</span>
<span class="sd">            stylesheet (*.css file)</span>

<span class="sd">    Returns:</span>
<span class="sd">        font_families: a list of dictionary objects that contain all selectors</span>
<span class="sd">            and their values (but only if the value is a font family)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">font_families</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">ruleset</span> <span class="ow">in</span> <span class="n">sheet</span><span class="o">.</span><span class="n">rulesets</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">block</span> <span class="o">=</span> <span class="n">ruleset</span><span class="o">.</span><span class="n">declaration_block</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">families</span> <span class="o">=</span> <span class="n">get_families</span><span class="p">(</span><span class="n">block</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">families</span><span class="p">:</span>
            <span class="c1"># create dict of selector and family</span>
            <span class="n">selector</span> <span class="o">=</span> <span class="n">ruleset</span><span class="o">.</span><span class="n">selector</span>

            <span class="c1"># always take the last family as it would be an override in CSS</span>
            <span class="n">family</span> <span class="o">=</span> <span class="n">families</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">font_families</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;selector&quot;</span><span class="p">:</span> <span class="n">selector</span><span class="p">,</span> <span class="s2">&quot;family&quot;</span><span class="p">:</span> <span class="n">family</span><span class="p">})</span>
    <span class="k">return</span> <span class="n">font_families</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_global_color_details" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_global_color_details</span><span class="p">(</span><span class="n">rulesets</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>receives rulesets and returns data on global colors</p>
<p>Note: a global selector is any selector that targets all elements
in the DOM. Examples include <code>html</code>, <code>body</code>, <code>:root</code>, and
the universal selector: <code>*</code>.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>rulesets</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="list">list</span>, <span title="tuple">tuple</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list or tuple of Ruleset objects</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>global_rulesets</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of dictionary objects that each contain
a selector, a background color, a text color, contrast ratio,
whether it passes at various levels.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span>
<span class="normal">1389</span>
<span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_global_color_details</span><span class="p">(</span><span class="n">rulesets</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;receives rulesets and returns data on global colors</span>

<span class="sd">    Note: a global selector is any selector that targets all elements</span>
<span class="sd">    in the DOM. Examples include `html`, `body`, `:root`, and</span>
<span class="sd">    the universal selector: `*`.</span>

<span class="sd">    Args:</span>
<span class="sd">        rulesets: a list or tuple of Ruleset objects</span>

<span class="sd">    Returns:</span>
<span class="sd">        global_rulesets: a list of dictionary objects that each contain</span>
<span class="sd">            a selector, a background color, a text color, contrast ratio,</span>
<span class="sd">            whether it passes at various levels.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Are color and background color set on global selectors?</span>
    <span class="n">global_selectors</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;html&quot;</span><span class="p">,</span> <span class="s2">&quot;body&quot;</span><span class="p">,</span> <span class="s2">&quot;:root&quot;</span><span class="p">,</span> <span class="s2">&quot;*&quot;</span><span class="p">)</span>
    <span class="n">global_rulesets</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">ruleset</span> <span class="ow">in</span> <span class="n">rulesets</span><span class="p">:</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">ruleset</span><span class="o">.</span><span class="n">selector</span> <span class="ow">in</span> <span class="n">global_selectors</span>
            <span class="ow">or</span> <span class="s2">&quot;html&quot;</span> <span class="ow">in</span> <span class="n">ruleset</span><span class="o">.</span><span class="n">selector</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span>
            <span class="ow">or</span> <span class="s2">&quot;body&quot;</span> <span class="ow">in</span> <span class="n">ruleset</span><span class="o">.</span><span class="n">selector</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span>
        <span class="p">):</span>
            <span class="n">selector</span> <span class="o">=</span> <span class="n">ruleset</span><span class="o">.</span><span class="n">selector</span>
            <span class="n">background_color</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="k">for</span> <span class="n">declaration</span> <span class="ow">in</span> <span class="n">ruleset</span><span class="o">.</span><span class="n">declaration_block</span><span class="o">.</span><span class="n">declarations</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">declaration</span><span class="o">.</span><span class="n">property</span> <span class="o">==</span> <span class="s2">&quot;background-color&quot;</span><span class="p">:</span>
                    <span class="n">background_color</span> <span class="o">=</span> <span class="n">declaration</span><span class="o">.</span><span class="n">value</span>
                <span class="k">elif</span> <span class="n">declaration</span><span class="o">.</span><span class="n">property</span> <span class="o">==</span> <span class="s2">&quot;color&quot;</span><span class="p">:</span>
                    <span class="n">color</span> <span class="o">=</span> <span class="n">declaration</span><span class="o">.</span><span class="n">value</span>
                <span class="k">elif</span> <span class="n">declaration</span><span class="o">.</span><span class="n">property</span> <span class="o">==</span> <span class="s2">&quot;background&quot;</span><span class="p">:</span>
                    <span class="n">background_color</span> <span class="o">=</span> <span class="n">declaration</span><span class="o">.</span><span class="n">value</span>
                    <span class="k">if</span> <span class="n">is_gradient</span><span class="p">(</span><span class="n">background_color</span><span class="p">):</span>
                        <span class="n">bg_colors</span> <span class="o">=</span> <span class="n">process_gradient</span><span class="p">(</span><span class="n">background_color</span><span class="p">)</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;We have bg colors: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">bg_colors</span><span class="p">))</span>

            <span class="k">if</span> <span class="n">background_color</span> <span class="ow">or</span> <span class="n">color</span><span class="p">:</span>
                <span class="n">contrast_ratio</span> <span class="o">=</span> <span class="s2">&quot;NA&quot;</span>
                <span class="n">passes_normal_aaa</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="n">passes_normal_aa</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="n">passes_large_aaa</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="k">if</span> <span class="n">background_color</span> <span class="ow">and</span> <span class="n">color</span><span class="p">:</span>
                    <span class="n">bg_hex</span> <span class="o">=</span> <span class="n">color_tools</span><span class="o">.</span><span class="n">get_hex</span><span class="p">(</span><span class="n">background_color</span><span class="p">)</span>
                    <span class="n">color_hex</span> <span class="o">=</span> <span class="n">color_tools</span><span class="o">.</span><span class="n">get_hex</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
                    <span class="n">contrast_ratio</span> <span class="o">=</span> <span class="n">color_tools</span><span class="o">.</span><span class="n">contrast_ratio</span><span class="p">(</span>
                        <span class="n">bg_hex</span><span class="p">,</span> <span class="n">color_hex</span>
                    <span class="p">)</span>
                    <span class="n">passes_normal_aaa</span> <span class="o">=</span> <span class="n">color_tools</span><span class="o">.</span><span class="n">passes_color_contrast</span><span class="p">(</span>
                        <span class="s2">&quot;Normal AAA&quot;</span><span class="p">,</span> <span class="n">bg_hex</span><span class="p">,</span> <span class="n">color_hex</span>
                    <span class="p">)</span>
                    <span class="n">passes_normal_aa</span> <span class="o">=</span> <span class="n">color_tools</span><span class="o">.</span><span class="n">passes_color_contrast</span><span class="p">(</span>
                        <span class="s2">&quot;Normal AA&quot;</span><span class="p">,</span> <span class="n">bg_hex</span><span class="p">,</span> <span class="n">color_hex</span>
                    <span class="p">)</span>
                    <span class="n">passes_large_aaa</span> <span class="o">=</span> <span class="n">color_tools</span><span class="o">.</span><span class="n">passes_color_contrast</span><span class="p">(</span>
                        <span class="s2">&quot;Large AAA&quot;</span><span class="p">,</span> <span class="n">bg_hex</span><span class="p">,</span> <span class="n">color_hex</span>
                    <span class="p">)</span>
                <span class="n">global_rulesets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;selector&quot;</span><span class="p">:</span> <span class="n">selector</span><span class="p">,</span>
                        <span class="s2">&quot;background-color&quot;</span><span class="p">:</span> <span class="n">background_color</span><span class="p">,</span>
                        <span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="n">color</span><span class="p">,</span>
                        <span class="s2">&quot;contrast_ratio&quot;</span><span class="p">:</span> <span class="n">contrast_ratio</span><span class="p">,</span>
                        <span class="s2">&quot;passes_normal_aaa&quot;</span><span class="p">:</span> <span class="n">passes_normal_aaa</span><span class="p">,</span>
                        <span class="s2">&quot;passes_normal_aa&quot;</span><span class="p">:</span> <span class="n">passes_normal_aa</span><span class="p">,</span>
                        <span class="s2">&quot;passes_large_aaa&quot;</span><span class="p">:</span> <span class="n">passes_large_aaa</span><span class="p">,</span>
                    <span class="p">}</span>
                <span class="p">)</span>
    <span class="k">return</span> <span class="n">global_rulesets</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_global_color_report" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_global_color_report</span><span class="p">(</span><span class="n">project_dir</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;aaa&#39;</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Returns a report on which files in a project apply global colors</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>project_dir</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the project folder path.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>level</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether we are testing for Normal AAA or Normal AA</p>
              </div>
            </td>
            <td>
                  <code>&#39;aaa&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>report</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of files and a pass or fail message for each.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2441</span>
<span class="normal">2442</span>
<span class="normal">2443</span>
<span class="normal">2444</span>
<span class="normal">2445</span>
<span class="normal">2446</span>
<span class="normal">2447</span>
<span class="normal">2448</span>
<span class="normal">2449</span>
<span class="normal">2450</span>
<span class="normal">2451</span>
<span class="normal">2452</span>
<span class="normal">2453</span>
<span class="normal">2454</span>
<span class="normal">2455</span>
<span class="normal">2456</span>
<span class="normal">2457</span>
<span class="normal">2458</span>
<span class="normal">2459</span>
<span class="normal">2460</span>
<span class="normal">2461</span>
<span class="normal">2462</span>
<span class="normal">2463</span>
<span class="normal">2464</span>
<span class="normal">2465</span>
<span class="normal">2466</span>
<span class="normal">2467</span>
<span class="normal">2468</span>
<span class="normal">2469</span>
<span class="normal">2470</span>
<span class="normal">2471</span>
<span class="normal">2472</span>
<span class="normal">2473</span>
<span class="normal">2474</span>
<span class="normal">2475</span>
<span class="normal">2476</span>
<span class="normal">2477</span>
<span class="normal">2478</span>
<span class="normal">2479</span>
<span class="normal">2480</span>
<span class="normal">2481</span>
<span class="normal">2482</span>
<span class="normal">2483</span>
<span class="normal">2484</span>
<span class="normal">2485</span>
<span class="normal">2486</span>
<span class="normal">2487</span>
<span class="normal">2488</span>
<span class="normal">2489</span>
<span class="normal">2490</span>
<span class="normal">2491</span>
<span class="normal">2492</span>
<span class="normal">2493</span>
<span class="normal">2494</span>
<span class="normal">2495</span>
<span class="normal">2496</span>
<span class="normal">2497</span>
<span class="normal">2498</span>
<span class="normal">2499</span>
<span class="normal">2500</span>
<span class="normal">2501</span>
<span class="normal">2502</span>
<span class="normal">2503</span>
<span class="normal">2504</span>
<span class="normal">2505</span>
<span class="normal">2506</span>
<span class="normal">2507</span>
<span class="normal">2508</span>
<span class="normal">2509</span>
<span class="normal">2510</span>
<span class="normal">2511</span>
<span class="normal">2512</span>
<span class="normal">2513</span>
<span class="normal">2514</span>
<span class="normal">2515</span>
<span class="normal">2516</span>
<span class="normal">2517</span>
<span class="normal">2518</span>
<span class="normal">2519</span>
<span class="normal">2520</span>
<span class="normal">2521</span>
<span class="normal">2522</span>
<span class="normal">2523</span>
<span class="normal">2524</span>
<span class="normal">2525</span>
<span class="normal">2526</span>
<span class="normal">2527</span>
<span class="normal">2528</span>
<span class="normal">2529</span>
<span class="normal">2530</span>
<span class="normal">2531</span>
<span class="normal">2532</span>
<span class="normal">2533</span>
<span class="normal">2534</span>
<span class="normal">2535</span>
<span class="normal">2536</span>
<span class="normal">2537</span>
<span class="normal">2538</span>
<span class="normal">2539</span>
<span class="normal">2540</span>
<span class="normal">2541</span>
<span class="normal">2542</span>
<span class="normal">2543</span>
<span class="normal">2544</span>
<span class="normal">2545</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_global_color_report</span><span class="p">(</span><span class="n">project_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s2">&quot;aaa&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a report on which files in a project apply global colors</span>

<span class="sd">    Args:</span>
<span class="sd">        project_dir: the project folder path.</span>
<span class="sd">        level: whether we are testing for Normal AAA or Normal AA</span>

<span class="sd">    Returns:</span>
<span class="sd">        report: a list of files and a pass or fail message for each.&quot;&quot;&quot;</span>
    <span class="n">report</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">all_file_data</span> <span class="o">=</span> <span class="n">get_all_project_stylesheets</span><span class="p">(</span><span class="n">project_dir</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">all_file_data</span><span class="p">:</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">passes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">global_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;selector&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;specificity&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;bg_color&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;contrast_ratio&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
            <span class="s2">&quot;passes_normal&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;passes_large&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">for</span> <span class="n">sheet</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
            <span class="n">rules</span> <span class="o">=</span> <span class="n">sheet</span><span class="o">.</span><span class="n">rulesets</span>
            <span class="n">global_color_data</span> <span class="o">=</span> <span class="n">get_global_color_details</span><span class="p">(</span><span class="n">rules</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">global_color_data</span><span class="p">:</span>
                <span class="n">previous_selector</span> <span class="o">=</span> <span class="n">global_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;selector&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">previous_selector</span><span class="p">:</span>
                    <span class="n">previous_data</span> <span class="o">=</span> <span class="n">global_data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

                <span class="n">data</span> <span class="o">=</span> <span class="n">global_color_data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">current_selector</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;selector&quot;</span><span class="p">)</span>
                <span class="n">global_data</span><span class="p">[</span><span class="s2">&quot;selector&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">current_selector</span>

                <span class="n">current_specificity</span> <span class="o">=</span> <span class="n">get_specificity</span><span class="p">(</span><span class="n">current_selector</span><span class="p">)</span>
                <span class="n">global_data</span><span class="p">[</span><span class="s2">&quot;specificity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">current_specificity</span>

                <span class="n">bg_color</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;background-color&quot;</span><span class="p">)</span>
                <span class="n">global_data</span><span class="p">[</span><span class="s2">&quot;bg_color&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bg_color</span>

                <span class="n">color</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;color&quot;</span><span class="p">)</span>
                <span class="n">global_data</span><span class="p">[</span><span class="s2">&quot;color&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">color</span>

                <span class="n">ratio</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;contrast_ratio&quot;</span><span class="p">)</span>
                <span class="n">global_data</span><span class="p">[</span><span class="s2">&quot;contrast_ratio&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ratio</span>

                <span class="k">if</span> <span class="n">level</span> <span class="o">==</span> <span class="s2">&quot;aaa&quot;</span><span class="p">:</span>
                    <span class="n">passes_normal</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;passes_normal_aaa&quot;</span><span class="p">)</span>
                    <span class="n">passes_large</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;passes_large_aaa&quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">passes_normal</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;passes_normal_aa&quot;</span><span class="p">)</span>
                    <span class="n">passes_large</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;passes_large_aa&quot;</span><span class="p">)</span>

                <span class="n">global_data</span><span class="p">[</span><span class="s2">&quot;passes_normal&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">passes_normal</span>
                <span class="n">global_data</span><span class="p">[</span><span class="s2">&quot;passes_large&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">passes_large</span>

                <span class="c1"># If there was a previous selector</span>
                <span class="k">if</span> <span class="n">previous_selector</span><span class="p">:</span>
                    <span class="n">previous_specificity</span> <span class="o">=</span> <span class="n">previous_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;specificity&quot;</span><span class="p">)</span>

                    <span class="c1"># If previous specificity is higher, we need everything</span>
                    <span class="c1"># from previous</span>
                    <span class="k">if</span> <span class="n">previous_specificity</span> <span class="o">&gt;</span> <span class="n">current_specificity</span><span class="p">:</span>
                        <span class="c1"># Keep all from previous data</span>
                        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">previous_data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;bg_color&quot;</span><span class="p">,</span> <span class="s2">&quot;color&quot;</span><span class="p">]</span> <span class="ow">and</span> <span class="n">val</span><span class="p">:</span>
                                <span class="n">global_data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="c1"># we already overrode everything</span>
                        <span class="c1"># Anything missing? We need to pull from previous data</span>
                        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">global_data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                            <span class="k">if</span> <span class="ow">not</span> <span class="n">val</span><span class="p">:</span>
                                <span class="n">new_val</span> <span class="o">=</span> <span class="n">previous_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                                <span class="k">if</span> <span class="n">new_val</span><span class="p">:</span>
                                    <span class="n">global_data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_val</span>
        <span class="c1"># reassess color contrast for global_data</span>
        <span class="n">bg_color</span> <span class="o">=</span> <span class="n">global_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bg_color&quot;</span><span class="p">)</span>
        <span class="n">color</span> <span class="o">=</span> <span class="n">global_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;color&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">bg_color</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">color</span><span class="p">:</span>
            <span class="n">details</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;fail: </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2"> does not apply &quot;</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">bg_color</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">color</span><span class="p">:</span>
                <span class="n">details</span> <span class="o">+=</span> <span class="s2">&quot;neither background nor text color.&quot;</span>
            <span class="k">elif</span> <span class="ow">not</span> <span class="n">bg_color</span><span class="p">:</span>
                <span class="n">details</span> <span class="o">+=</span> <span class="s2">&quot;background color.&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">details</span> <span class="o">+=</span> <span class="s2">&quot;text color.&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">bg_hex</span> <span class="o">=</span> <span class="n">color_tools</span><span class="o">.</span><span class="n">get_hex</span><span class="p">(</span><span class="n">bg_color</span><span class="p">)</span>
            <span class="n">color_hex</span> <span class="o">=</span> <span class="n">color_tools</span><span class="o">.</span><span class="n">get_hex</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
            <span class="n">contrast_ratio</span> <span class="o">=</span> <span class="n">color_tools</span><span class="o">.</span><span class="n">contrast_ratio</span><span class="p">(</span><span class="n">bg_hex</span><span class="p">,</span> <span class="n">color_hex</span><span class="p">)</span>
            <span class="n">normal_level</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Normal </span><span class="si">{</span><span class="n">level</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="n">passes</span> <span class="o">=</span> <span class="n">color_tools</span><span class="o">.</span><span class="n">passes_color_contrast</span><span class="p">(</span>
                <span class="n">normal_level</span><span class="p">,</span> <span class="n">bg_hex</span><span class="p">,</span> <span class="n">color_hex</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">passes</span><span class="p">:</span>
                <span class="n">details</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;pass: </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2"> applies global colors and passes&quot;</span>
                <span class="n">details</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; Normal </span><span class="si">{</span><span class="n">level</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2"> at a ratio of &quot;</span>
                <span class="n">details</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">contrast_ratio</span><span class="si">}</span><span class="s2">:1.&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">details</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;fail: </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2"> does NOT apply global colors&quot;</span>
        <span class="n">report</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">details</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">report</span><span class="p">:</span>
        <span class="n">report</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;fail: no html files to apply color styles to&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">report</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_global_colors" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_global_colors</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Returns a dictionary of color rules applied the entire document.</p>
<p>Global colors (in this context) are colors that apply to an entire
document. Selectors that target the entire document are *, html,
and body.</p>
<p>Since it's possible that an author could accidentally override
a color or background color, this function will remove any
previous rules that are overridden in a file.</p>
<p>NOTE: This should not consider an override if the would-be
selector is in an @media ruleset, we won't treat it as an
override.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>file_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the path to the file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>global_color_rules</code></td>            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a dictionary of filenames and their global
rulesets.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span>
<span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span>
<span class="normal">1476</span>
<span class="normal">1477</span>
<span class="normal">1478</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_global_colors</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a dictionary of color rules applied the entire document.</span>

<span class="sd">    Global colors (in this context) are colors that apply to an entire</span>
<span class="sd">    document. Selectors that target the entire document are *, html,</span>
<span class="sd">    and body.</span>

<span class="sd">    Since it&#39;s possible that an author could accidentally override</span>
<span class="sd">    a color or background color, this function will remove any</span>
<span class="sd">    previous rules that are overridden in a file.</span>

<span class="sd">    NOTE: This should not consider an override if the would-be</span>
<span class="sd">    selector is in an @media ruleset, we won&#39;t treat it as an</span>
<span class="sd">    override.</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: the path to the file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        global_color_rules: a dictionary of filenames and their global</span>
<span class="sd">            rulesets.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">global_color_rules</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">sheets</span> <span class="o">=</span> <span class="n">get_all_stylesheets_by_file</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">sheets</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">sheet</span> <span class="ow">in</span> <span class="n">sheets</span><span class="p">:</span>
            <span class="n">rules</span> <span class="o">=</span> <span class="n">sheet</span><span class="o">.</span><span class="n">rulesets</span>
            <span class="n">global_colors</span> <span class="o">=</span> <span class="n">get_global_color_details</span><span class="p">(</span><span class="n">rules</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">global_colors</span><span class="p">:</span>
                <span class="c1"># Have we added the file to the global rules?</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">global_color_rules</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
                    <span class="n">global_color_rules</span><span class="p">[</span><span class="n">file_path</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">gc</span> <span class="ow">in</span> <span class="n">global_colors</span><span class="p">:</span>
                    <span class="n">global_color_rules</span><span class="p">[</span><span class="n">file_path</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">gc</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">sheets</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">global_color_rules</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">file_path</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="c1"># figure out the override</span>
            <span class="n">global_colors</span> <span class="o">=</span> <span class="n">adjust_overrides</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">global_color_rules</span><span class="p">)</span>
            <span class="n">adjusted_rule</span> <span class="o">=</span> <span class="n">global_colors</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
            <span class="n">global_color_rules</span><span class="p">[</span><span class="n">file_path</span><span class="p">]</span> <span class="o">=</span> <span class="n">adjusted_rule</span>
    <span class="k">return</span> <span class="n">global_color_rules</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_header_color_details" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_header_color_details</span><span class="p">(</span><span class="n">rulesets</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>receives rulesets and returns data on colors set by headers</p>
<p>This function will look through all rules in a ruleset and extracts
the rules that target color or background color for a heading (h1
-h6).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>rulesets</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="list">list</span>, <span title="tuple">tuple</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list or tuple of Ruleset objects.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>header_rulesets</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of dictionary objects that each contain
a selector, a background color, and a text color.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span>
<span class="normal">1496</span>
<span class="normal">1497</span>
<span class="normal">1498</span>
<span class="normal">1499</span>
<span class="normal">1500</span>
<span class="normal">1501</span>
<span class="normal">1502</span>
<span class="normal">1503</span>
<span class="normal">1504</span>
<span class="normal">1505</span>
<span class="normal">1506</span>
<span class="normal">1507</span>
<span class="normal">1508</span>
<span class="normal">1509</span>
<span class="normal">1510</span>
<span class="normal">1511</span>
<span class="normal">1512</span>
<span class="normal">1513</span>
<span class="normal">1514</span>
<span class="normal">1515</span>
<span class="normal">1516</span>
<span class="normal">1517</span>
<span class="normal">1518</span>
<span class="normal">1519</span>
<span class="normal">1520</span>
<span class="normal">1521</span>
<span class="normal">1522</span>
<span class="normal">1523</span>
<span class="normal">1524</span>
<span class="normal">1525</span>
<span class="normal">1526</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_header_color_details</span><span class="p">(</span><span class="n">rulesets</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;receives rulesets and returns data on colors set by headers</span>

<span class="sd">    This function will look through all rules in a ruleset and extracts</span>
<span class="sd">    the rules that target color or background color for a heading (h1</span>
<span class="sd">    -h6).</span>

<span class="sd">    Args:</span>
<span class="sd">        rulesets: a list or tuple of Ruleset objects.</span>

<span class="sd">    Returns:</span>
<span class="sd">        header_rulesets: a list of dictionary objects that each contain</span>
<span class="sd">            a selector, a background color, and a text color.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">header_rulesets</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">ruleset</span> <span class="ow">in</span> <span class="n">rulesets</span><span class="p">:</span>
        <span class="n">selector</span> <span class="o">=</span> <span class="n">ruleset</span><span class="o">.</span><span class="n">selector</span>
        <span class="c1"># check selector for having a header</span>
        <span class="n">heading_selectors</span> <span class="o">=</span> <span class="n">get_header_selectors</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">heading_selectors</span><span class="p">:</span>
            <span class="c1"># get color data</span>
            <span class="n">background_color</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="k">for</span> <span class="n">declaration</span> <span class="ow">in</span> <span class="n">ruleset</span><span class="o">.</span><span class="n">declaration_block</span><span class="o">.</span><span class="n">declarations</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">declaration</span><span class="o">.</span><span class="n">property</span> <span class="o">==</span> <span class="s2">&quot;background-color&quot;</span><span class="p">:</span>
                    <span class="n">background_color</span> <span class="o">=</span> <span class="n">declaration</span><span class="o">.</span><span class="n">value</span>
                <span class="k">elif</span> <span class="n">declaration</span><span class="o">.</span><span class="n">property</span> <span class="o">==</span> <span class="s2">&quot;color&quot;</span><span class="p">:</span>
                    <span class="n">color</span> <span class="o">=</span> <span class="n">declaration</span><span class="o">.</span><span class="n">value</span>
                <span class="k">elif</span> <span class="n">declaration</span><span class="o">.</span><span class="n">property</span> <span class="o">==</span> <span class="s2">&quot;background&quot;</span><span class="p">:</span>
                    <span class="c1"># check to see if the color value is present</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;it&#39;s time to figure out the background shorthand&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">background_color</span> <span class="ow">and</span> <span class="n">color</span><span class="p">:</span>
                    <span class="k">break</span>

            <span class="c1"># then apply color data to all others</span>
            <span class="k">if</span> <span class="n">background_color</span> <span class="ow">or</span> <span class="n">color</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">h_selector</span> <span class="ow">in</span> <span class="n">heading_selectors</span><span class="p">:</span>
                    <span class="n">header_rulesets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="p">{</span>
                            <span class="s2">&quot;selector&quot;</span><span class="p">:</span> <span class="n">h_selector</span><span class="p">,</span>
                            <span class="s2">&quot;background-color&quot;</span><span class="p">:</span> <span class="n">background_color</span><span class="p">,</span>
                            <span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="n">color</span><span class="p">,</span>
                        <span class="p">}</span>
                    <span class="p">)</span>

    <span class="k">return</span> <span class="n">header_rulesets</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_header_selectors" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_header_selectors</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>takes selector and returns any selector that selects an h1-h6</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>selector</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A CSS selector</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>header_selectors</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of selectors that target a heading.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1529</span>
<span class="normal">1530</span>
<span class="normal">1531</span>
<span class="normal">1532</span>
<span class="normal">1533</span>
<span class="normal">1534</span>
<span class="normal">1535</span>
<span class="normal">1536</span>
<span class="normal">1537</span>
<span class="normal">1538</span>
<span class="normal">1539</span>
<span class="normal">1540</span>
<span class="normal">1541</span>
<span class="normal">1542</span>
<span class="normal">1543</span>
<span class="normal">1544</span>
<span class="normal">1545</span>
<span class="normal">1546</span>
<span class="normal">1547</span>
<span class="normal">1548</span>
<span class="normal">1549</span>
<span class="normal">1550</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_header_selectors</span><span class="p">(</span><span class="n">selector</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;takes selector and returns any selector that selects an h1-h6</span>

<span class="sd">    Args:</span>
<span class="sd">        selector: A CSS selector</span>

<span class="sd">    Returns:</span>
<span class="sd">        header_selectors: a list of selectors that target a heading.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># NOTE the following:</span>
    <span class="c1"># a selector is only selecting a header if it&#39;s the last item</span>
    <span class="c1"># example: header h1 {} does but h1 a {} does not</span>
    <span class="n">header_selectors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">selectors</span> <span class="o">=</span> <span class="p">[</span><span class="n">sel</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">sel</span> <span class="ow">in</span> <span class="n">selector</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)]</span>
    <span class="k">if</span> <span class="n">selectors</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="k">for</span> <span class="n">selector</span> <span class="ow">in</span> <span class="n">selectors</span><span class="p">:</span>
            <span class="n">items</span> <span class="o">=</span> <span class="n">selector</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
            <span class="n">pattern</span> <span class="o">=</span> <span class="n">regex_patterns</span><span class="p">[</span><span class="s2">&quot;header_selector&quot;</span><span class="p">]</span>
            <span class="n">h_match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">items</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">h_match</span><span class="p">:</span>
                <span class="n">header_selectors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">header_selectors</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_heading_color_report" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_heading_color_report</span><span class="p">(</span><span class="n">project_dir</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Returns a report on which files in a project apply heading colors</p>
<p>For now, we just want to have at least a color or background color
applied.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>project_dir</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the project folder path.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>report</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of files and a pass or fail message for each.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2576</span>
<span class="normal">2577</span>
<span class="normal">2578</span>
<span class="normal">2579</span>
<span class="normal">2580</span>
<span class="normal">2581</span>
<span class="normal">2582</span>
<span class="normal">2583</span>
<span class="normal">2584</span>
<span class="normal">2585</span>
<span class="normal">2586</span>
<span class="normal">2587</span>
<span class="normal">2588</span>
<span class="normal">2589</span>
<span class="normal">2590</span>
<span class="normal">2591</span>
<span class="normal">2592</span>
<span class="normal">2593</span>
<span class="normal">2594</span>
<span class="normal">2595</span>
<span class="normal">2596</span>
<span class="normal">2597</span>
<span class="normal">2598</span>
<span class="normal">2599</span>
<span class="normal">2600</span>
<span class="normal">2601</span>
<span class="normal">2602</span>
<span class="normal">2603</span>
<span class="normal">2604</span>
<span class="normal">2605</span>
<span class="normal">2606</span>
<span class="normal">2607</span>
<span class="normal">2608</span>
<span class="normal">2609</span>
<span class="normal">2610</span>
<span class="normal">2611</span>
<span class="normal">2612</span>
<span class="normal">2613</span>
<span class="normal">2614</span>
<span class="normal">2615</span>
<span class="normal">2616</span>
<span class="normal">2617</span>
<span class="normal">2618</span>
<span class="normal">2619</span>
<span class="normal">2620</span>
<span class="normal">2621</span>
<span class="normal">2622</span>
<span class="normal">2623</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_heading_color_report</span><span class="p">(</span><span class="n">project_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a report on which files in a project apply heading colors</span>

<span class="sd">    For now, we just want to have at least a color or background color</span>
<span class="sd">    applied.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_dir: the project folder path.</span>

<span class="sd">    Returns:</span>
<span class="sd">        report: a list of files and a pass or fail message for each.&quot;&quot;&quot;</span>
    <span class="n">report</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">header_re</span> <span class="o">=</span> <span class="n">regex_patterns</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;header_selector&quot;</span><span class="p">)</span>

    <span class="c1"># make sure we have a trailing slash separator</span>
    <span class="k">if</span> <span class="n">project_dir</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;/&quot;</span><span class="p">:</span>
        <span class="n">project_dir</span> <span class="o">+=</span> <span class="s2">&quot;/&quot;</span>
    <span class="n">all_file_data</span> <span class="o">=</span> <span class="n">get_all_project_stylesheets</span><span class="p">(</span><span class="n">project_dir</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">all_file_data</span><span class="p">:</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="n">file</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">filepath</span> <span class="o">=</span> <span class="n">project_dir</span> <span class="o">+</span> <span class="n">filename</span>
        <span class="n">all_color_rules</span> <span class="o">=</span> <span class="n">get_all_color_rules</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
        <span class="n">header_selectors</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># Look through all selectors and their values</span>
        <span class="c1"># if selector is a header selector, then check color</span>
        <span class="k">for</span> <span class="n">sel</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">all_color_rules</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">is_header_selector</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">header_re</span><span class="p">,</span> <span class="n">sel</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">is_header_selector</span><span class="p">:</span>
                <span class="n">color_data</span> <span class="o">=</span> <span class="n">val</span>
                <span class="n">color_value</span> <span class="o">=</span> <span class="n">color_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;color&quot;</span><span class="p">)</span>
                <span class="n">bg_value</span> <span class="o">=</span> <span class="n">color_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;background-color&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">color_value</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">bg_value</span><span class="p">:</span>
                        <span class="n">header_selectors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                            <span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">color_value</span><span class="p">,</span> <span class="n">bg_value</span><span class="p">)</span>
                        <span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">header_selectors</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">filename</span><span class="p">,</span> <span class="n">color_value</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
                <span class="k">if</span> <span class="n">bg_value</span><span class="p">:</span>
                    <span class="n">header_selectors</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">filename</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">bg_value</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">header_selectors</span><span class="p">:</span>
            <span class="n">report</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;pass: </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2"> applies colors to headers&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">report</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;fail: </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2"> does NOT apply colors to headers&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">report</span><span class="p">:</span>
        <span class="n">report</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;fail: no html files to apply header colors to&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">report</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_id_score" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_id_score</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>receives a selector and returns # of ID selectors</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>selector</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the complete CSS selector</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>score</code></td>            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the number of ID selectors.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1553</span>
<span class="normal">1554</span>
<span class="normal">1555</span>
<span class="normal">1556</span>
<span class="normal">1557</span>
<span class="normal">1558</span>
<span class="normal">1559</span>
<span class="normal">1560</span>
<span class="normal">1561</span>
<span class="normal">1562</span>
<span class="normal">1563</span>
<span class="normal">1564</span>
<span class="normal">1565</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_id_score</span><span class="p">(</span><span class="n">selector</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;receives a selector and returns # of ID selectors</span>

<span class="sd">    Args:</span>
<span class="sd">        selector (str): the complete CSS selector</span>

<span class="sd">    Returns:</span>
<span class="sd">        score: the number of ID selectors.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pattern</span> <span class="o">=</span> <span class="n">regex_patterns</span><span class="p">[</span><span class="s2">&quot;id_selector&quot;</span><span class="p">]</span>
    <span class="n">id_selectors</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">selector</span><span class="p">)</span>
    <span class="n">score</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">id_selectors</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">score</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_link_color_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_link_color_data</span><span class="p">(</span><span class="n">project_path</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>returns all colors applied to links.</p>
<p>Identifies all selectors that target a link, and gets a
list of dictionaries that identify colors.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>project_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>path to project folder</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>link_styles</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of link color data applied to each
file that includes a link color data</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1568</span>
<span class="normal">1569</span>
<span class="normal">1570</span>
<span class="normal">1571</span>
<span class="normal">1572</span>
<span class="normal">1573</span>
<span class="normal">1574</span>
<span class="normal">1575</span>
<span class="normal">1576</span>
<span class="normal">1577</span>
<span class="normal">1578</span>
<span class="normal">1579</span>
<span class="normal">1580</span>
<span class="normal">1581</span>
<span class="normal">1582</span>
<span class="normal">1583</span>
<span class="normal">1584</span>
<span class="normal">1585</span>
<span class="normal">1586</span>
<span class="normal">1587</span>
<span class="normal">1588</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_link_color_data</span><span class="p">(</span><span class="n">project_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;returns all colors applied to links.</span>

<span class="sd">    Identifies all selectors that target a link, and gets a</span>
<span class="sd">    list of dictionaries that identify colors.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_path: path to project folder</span>

<span class="sd">    Returns:</span>
<span class="sd">        link_styles: a list of link color data applied to each</span>
<span class="sd">            file that includes a link color data&quot;&quot;&quot;</span>
    <span class="n">link_styles</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">color_contrast_data</span> <span class="o">=</span> <span class="n">get_project_color_contrast</span><span class="p">(</span><span class="n">project_path</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">color_contrast_data</span><span class="p">:</span>
        <span class="n">selector</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_link_selector</span><span class="p">(</span><span class="n">selector</span><span class="p">):</span>
            <span class="k">continue</span>
        <span class="c1"># it must be a link selector, let&#39;s get our data</span>
        <span class="n">link_styles</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">link_styles</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_number_required_selectors" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_number_required_selectors</span><span class="p">(</span><span class="n">selector_type</span><span class="p">,</span> <span class="n">sheet</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>returns # of a specific selector type in a stylesheet</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>selector_type</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>what kind of selector we're looking for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>sheet</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Stylesheet (webcode_tk.css_tools.Stylesheet)" href="#webcode_tk.css_tools.Stylesheet">Stylesheet</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the Stylesheet object we're inspecting.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>count</code></td>            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the number of occurrences of the selector.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1591</span>
<span class="normal">1592</span>
<span class="normal">1593</span>
<span class="normal">1594</span>
<span class="normal">1595</span>
<span class="normal">1596</span>
<span class="normal">1597</span>
<span class="normal">1598</span>
<span class="normal">1599</span>
<span class="normal">1600</span>
<span class="normal">1601</span>
<span class="normal">1602</span>
<span class="normal">1603</span>
<span class="normal">1604</span>
<span class="normal">1605</span>
<span class="normal">1606</span>
<span class="normal">1607</span>
<span class="normal">1608</span>
<span class="normal">1609</span>
<span class="normal">1610</span>
<span class="normal">1611</span>
<span class="normal">1612</span>
<span class="normal">1613</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_number_required_selectors</span><span class="p">(</span>
    <span class="n">selector_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">sheet</span><span class="p">:</span> <span class="n">Stylesheet</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;returns # of a specific selector type in a stylesheet</span>

<span class="sd">    Args:</span>
<span class="sd">        selector_type: what kind of selector we&#39;re looking for.</span>
<span class="sd">        sheet: the Stylesheet object we&#39;re inspecting.</span>

<span class="sd">    Returns:</span>
<span class="sd">        count: the number of occurrences of the selector.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">pattern</span> <span class="o">=</span> <span class="n">regex_patterns</span><span class="p">[</span><span class="n">selector_type</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">selector</span> <span class="ow">in</span> <span class="n">sheet</span><span class="o">.</span><span class="n">selectors</span><span class="p">:</span>
        <span class="n">matches</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">selector</span><span class="p">)</span>
        <span class="n">count</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">matches</span><span class="p">)</span>
    <span class="c1"># Loop through all nested @rules and count selectors</span>
    <span class="k">for</span> <span class="n">rules</span> <span class="ow">in</span> <span class="n">sheet</span><span class="o">.</span><span class="n">nested_at_rules</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">selector</span> <span class="ow">in</span> <span class="n">rules</span><span class="o">.</span><span class="n">selectors</span><span class="p">:</span>
            <span class="n">matches</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">selector</span><span class="p">)</span>
            <span class="n">count</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">matches</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">count</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_project_color_contrast" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_project_color_contrast</span><span class="p">(</span><span class="n">project_path</span><span class="p">,</span> <span class="n">normal_goal</span><span class="o">=</span><span class="s1">&#39;Normal AAA&#39;</span><span class="p">,</span> <span class="n">large_goal</span><span class="o">=</span><span class="s1">&#39;Large AAA&#39;</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>checks all color rules for each file in a project folder for contrast</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>project_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>path to project folder.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>normal_goal</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>color contrast goal for most text in document (all except
headers) - could be 'Normal AAA' or 'Normal AA' (default set to
'Normal AAA')</p>
              </div>
            </td>
            <td>
                  <code>&#39;Normal AAA&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>large_goal</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>color contrast goal for large (headings) text. May be
'Large AAA' or 'Large AA' (default is set to 'Large AAA')</p>
              </div>
            </td>
            <td>
                  <code>&#39;Large AAA&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>results</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of tuples. Each tuple contains a filename, selector,
goal, color, bg_color, computed contrast ratio, passes_color</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1616</span>
<span class="normal">1617</span>
<span class="normal">1618</span>
<span class="normal">1619</span>
<span class="normal">1620</span>
<span class="normal">1621</span>
<span class="normal">1622</span>
<span class="normal">1623</span>
<span class="normal">1624</span>
<span class="normal">1625</span>
<span class="normal">1626</span>
<span class="normal">1627</span>
<span class="normal">1628</span>
<span class="normal">1629</span>
<span class="normal">1630</span>
<span class="normal">1631</span>
<span class="normal">1632</span>
<span class="normal">1633</span>
<span class="normal">1634</span>
<span class="normal">1635</span>
<span class="normal">1636</span>
<span class="normal">1637</span>
<span class="normal">1638</span>
<span class="normal">1639</span>
<span class="normal">1640</span>
<span class="normal">1641</span>
<span class="normal">1642</span>
<span class="normal">1643</span>
<span class="normal">1644</span>
<span class="normal">1645</span>
<span class="normal">1646</span>
<span class="normal">1647</span>
<span class="normal">1648</span>
<span class="normal">1649</span>
<span class="normal">1650</span>
<span class="normal">1651</span>
<span class="normal">1652</span>
<span class="normal">1653</span>
<span class="normal">1654</span>
<span class="normal">1655</span>
<span class="normal">1656</span>
<span class="normal">1657</span>
<span class="normal">1658</span>
<span class="normal">1659</span>
<span class="normal">1660</span>
<span class="normal">1661</span>
<span class="normal">1662</span>
<span class="normal">1663</span>
<span class="normal">1664</span>
<span class="normal">1665</span>
<span class="normal">1666</span>
<span class="normal">1667</span>
<span class="normal">1668</span>
<span class="normal">1669</span>
<span class="normal">1670</span>
<span class="normal">1671</span>
<span class="normal">1672</span>
<span class="normal">1673</span>
<span class="normal">1674</span>
<span class="normal">1675</span>
<span class="normal">1676</span>
<span class="normal">1677</span>
<span class="normal">1678</span>
<span class="normal">1679</span>
<span class="normal">1680</span>
<span class="normal">1681</span>
<span class="normal">1682</span>
<span class="normal">1683</span>
<span class="normal">1684</span>
<span class="normal">1685</span>
<span class="normal">1686</span>
<span class="normal">1687</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_project_color_contrast</span><span class="p">(</span>
    <span class="n">project_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">normal_goal</span><span class="o">=</span><span class="s2">&quot;Normal AAA&quot;</span><span class="p">,</span> <span class="n">large_goal</span><span class="o">=</span><span class="s2">&quot;Large AAA&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;checks all color rules for each file in a project folder for contrast</span>

<span class="sd">    Args:</span>
<span class="sd">        project_path: path to project folder.</span>
<span class="sd">        normal_goal: color contrast goal for most text in document (all except</span>
<span class="sd">            headers) - could be &#39;Normal AAA&#39; or &#39;Normal AA&#39; (default set to</span>
<span class="sd">            &#39;Normal AAA&#39;)</span>
<span class="sd">        large_goal: color contrast goal for large (headings) text. May be</span>
<span class="sd">            &#39;Large AAA&#39; or &#39;Large AA&#39; (default is set to &#39;Large AAA&#39;)</span>

<span class="sd">    Returns:</span>
<span class="sd">        results: a list of tuples. Each tuple contains a filename, selector,</span>
<span class="sd">            goal, color, bg_color, computed contrast ratio, passes_color&quot;&quot;&quot;</span>

    <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">global_color_rules</span> <span class="o">=</span> <span class="n">get_project_global_colors</span><span class="p">(</span><span class="n">project_path</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">global_color_rules</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="n">global_details</span> <span class="o">=</span> <span class="n">global_color_rules</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
        <span class="n">all_color_rules</span> <span class="o">=</span> <span class="n">get_all_color_rules</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">global_details</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">global_details</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">global_details</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">global_details</span> <span class="o">=</span> <span class="n">global_details</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">global_color</span> <span class="o">=</span> <span class="n">global_details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;color&quot;</span><span class="p">)</span>
            <span class="n">global_bg</span> <span class="o">=</span> <span class="n">global_details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;background-color&quot;</span><span class="p">)</span>
        <span class="n">items</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">all_color_rules</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="n">heading_tag_re</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;h[1-6]&quot;</span>

        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
            <span class="c1"># skip first key and any key that is a global selector</span>
            <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;file&quot;</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">goal</span> <span class="o">=</span> <span class="n">normal_goal</span>
            <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">heading_tag_re</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
                <span class="n">goal</span> <span class="o">=</span> <span class="n">large_goal</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">goal</span> <span class="o">=</span> <span class="n">normal_goal</span>
            <span class="n">selector</span> <span class="o">=</span> <span class="n">key</span>
            <span class="n">details</span> <span class="o">=</span> <span class="n">all_color_rules</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span>
            <span class="n">color</span> <span class="o">=</span> <span class="n">details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;color&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">color</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">global_color</span><span class="p">:</span>
                    <span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;#000000&quot;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">color</span> <span class="o">=</span> <span class="n">global_color</span>
            <span class="n">color_hex</span> <span class="o">=</span> <span class="n">color_tools</span><span class="o">.</span><span class="n">get_hex</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
            <span class="n">bg_color</span> <span class="o">=</span> <span class="n">details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;background-color&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">bg_color</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">global_bg</span><span class="p">:</span>
                    <span class="n">bg_color</span> <span class="o">=</span> <span class="s2">&quot;#ffffff&quot;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">bg_color</span> <span class="o">=</span> <span class="n">global_bg</span>
            <span class="n">bg_hex</span> <span class="o">=</span> <span class="n">color_tools</span><span class="o">.</span><span class="n">get_hex</span><span class="p">(</span><span class="n">bg_color</span><span class="p">)</span>
            <span class="n">passes_color</span> <span class="o">=</span> <span class="n">color_tools</span><span class="o">.</span><span class="n">passes_color_contrast</span><span class="p">(</span>
                <span class="n">goal</span><span class="p">,</span> <span class="n">bg_hex</span><span class="p">,</span> <span class="n">color_hex</span>
            <span class="p">)</span>
            <span class="n">contrast_ratio</span> <span class="o">=</span> <span class="n">color_tools</span><span class="o">.</span><span class="n">contrast_ratio</span><span class="p">(</span><span class="n">color_hex</span><span class="p">,</span> <span class="n">bg_hex</span><span class="p">)</span>
            <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="p">(</span>
                    <span class="n">file</span><span class="p">,</span>
                    <span class="n">selector</span><span class="p">,</span>
                    <span class="n">goal</span><span class="p">,</span>
                    <span class="n">color</span><span class="p">,</span>
                    <span class="n">bg_color</span><span class="p">,</span>
                    <span class="n">contrast_ratio</span><span class="p">,</span>
                    <span class="n">passes_color</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">)</span>
    <span class="k">return</span> <span class="n">results</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_project_color_contrast_report" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_project_color_contrast_report</span><span class="p">(</span><span class="n">project_dir</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;AAA&#39;</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>returns a report of pass or fail for each element targetting color.</p>
<p>NOTE: We are replacing this report with the one in the cascade_tools for
two reasons: one, it more accurately targest a large or regular sized
font; and two, it only targets any element with direct text because it's
the text that is visible in the browser that we are concerned with.</p>
<p>See issue #28: Color Contrast issue with cascade
https://github.com/HundredVisionsGuy/webcode-tk/issues/28</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>project_dir</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the project folder where the html and css files are found.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>level</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the level for the report (AAA or AA)</p>
              </div>
            </td>
            <td>
                  <code>&#39;AAA&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:
    report: a report of every targetted color and whether it passes or
        fails.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2626</span>
<span class="normal">2627</span>
<span class="normal">2628</span>
<span class="normal">2629</span>
<span class="normal">2630</span>
<span class="normal">2631</span>
<span class="normal">2632</span>
<span class="normal">2633</span>
<span class="normal">2634</span>
<span class="normal">2635</span>
<span class="normal">2636</span>
<span class="normal">2637</span>
<span class="normal">2638</span>
<span class="normal">2639</span>
<span class="normal">2640</span>
<span class="normal">2641</span>
<span class="normal">2642</span>
<span class="normal">2643</span>
<span class="normal">2644</span>
<span class="normal">2645</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_project_color_contrast_report</span><span class="p">(</span><span class="n">project_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s2">&quot;AAA&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;returns a report of pass or fail for each element targetting color.</span>

<span class="sd">    NOTE: We are replacing this report with the one in the cascade_tools for</span>
<span class="sd">    two reasons: one, it more accurately targest a large or regular sized</span>
<span class="sd">    font; and two, it only targets any element with direct text because it&#39;s</span>
<span class="sd">    the text that is visible in the browser that we are concerned with.</span>

<span class="sd">    See issue #28: Color Contrast issue with cascade</span>
<span class="sd">    https://github.com/HundredVisionsGuy/webcode-tk/issues/28</span>

<span class="sd">    Args:</span>
<span class="sd">        project_dir: the project folder where the html and css files are found.</span>
<span class="sd">        level: the level for the report (AAA or AA)</span>
<span class="sd">    Returns:</span>
<span class="sd">        report: a report of every targetted color and whether it passes or</span>
<span class="sd">            fails.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">report</span> <span class="o">=</span> <span class="n">cascade_tools</span><span class="o">.</span><span class="n">get_color_contrast_report</span><span class="p">(</span><span class="n">project_dir</span><span class="p">,</span> <span class="n">level</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">report</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_project_global_colors" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_project_global_colors</span><span class="p">(</span><span class="n">project_path</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Returns a dictionary of color rules applied to all html files
in a project folder.</p>
<p>Global colors (in this context) are colors that apply to an entire
document. Selectors that target the entire document are *, html,
and body.</p>
<p>Since it's possible that an author could accidentally override
a color or background color, this function will remove any
previous rules that are overridden in a file.</p>
<p>NOTE: This should not consider an override if the would-be
selector is in an @media ruleset, we won't treat it as an
override.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>project_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the project folder path.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>global_color_rules</code></td>            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a dictionary of filenames and their global
rulesets.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1690</span>
<span class="normal">1691</span>
<span class="normal">1692</span>
<span class="normal">1693</span>
<span class="normal">1694</span>
<span class="normal">1695</span>
<span class="normal">1696</span>
<span class="normal">1697</span>
<span class="normal">1698</span>
<span class="normal">1699</span>
<span class="normal">1700</span>
<span class="normal">1701</span>
<span class="normal">1702</span>
<span class="normal">1703</span>
<span class="normal">1704</span>
<span class="normal">1705</span>
<span class="normal">1706</span>
<span class="normal">1707</span>
<span class="normal">1708</span>
<span class="normal">1709</span>
<span class="normal">1710</span>
<span class="normal">1711</span>
<span class="normal">1712</span>
<span class="normal">1713</span>
<span class="normal">1714</span>
<span class="normal">1715</span>
<span class="normal">1716</span>
<span class="normal">1717</span>
<span class="normal">1718</span>
<span class="normal">1719</span>
<span class="normal">1720</span>
<span class="normal">1721</span>
<span class="normal">1722</span>
<span class="normal">1723</span>
<span class="normal">1724</span>
<span class="normal">1725</span>
<span class="normal">1726</span>
<span class="normal">1727</span>
<span class="normal">1728</span>
<span class="normal">1729</span>
<span class="normal">1730</span>
<span class="normal">1731</span>
<span class="normal">1732</span>
<span class="normal">1733</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_project_global_colors</span><span class="p">(</span><span class="n">project_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a dictionary of color rules applied to all html files</span>
<span class="sd">    in a project folder.</span>

<span class="sd">    Global colors (in this context) are colors that apply to an entire</span>
<span class="sd">    document. Selectors that target the entire document are *, html,</span>
<span class="sd">    and body.</span>

<span class="sd">    Since it&#39;s possible that an author could accidentally override</span>
<span class="sd">    a color or background color, this function will remove any</span>
<span class="sd">    previous rules that are overridden in a file.</span>

<span class="sd">    NOTE: This should not consider an override if the would-be</span>
<span class="sd">    selector is in an @media ruleset, we won&#39;t treat it as an</span>
<span class="sd">    override.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_path: the project folder path.</span>

<span class="sd">    Returns:</span>
<span class="sd">        global_color_rules: a dictionary of filenames and their global</span>
<span class="sd">            rulesets.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">global_color_rules</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">styles_by_files</span> <span class="o">=</span> <span class="n">get_styles_by_html_files</span><span class="p">(</span><span class="n">project_path</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">styles_by_files</span><span class="p">:</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;file&quot;</span><span class="p">)</span>
        <span class="n">sheets</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;stylesheets&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">sheets</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">sheet</span> <span class="ow">in</span> <span class="n">sheets</span><span class="p">:</span>
                <span class="n">rules</span> <span class="o">=</span> <span class="n">sheet</span><span class="o">.</span><span class="n">rulesets</span>
                <span class="n">global_colors</span> <span class="o">=</span> <span class="n">get_global_color_details</span><span class="p">(</span><span class="n">rules</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">global_colors</span><span class="p">:</span>
                    <span class="c1"># Have we added the file to the global rules?</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">global_color_rules</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
                        <span class="n">global_color_rules</span><span class="p">[</span><span class="n">filename</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="k">for</span> <span class="n">gc</span> <span class="ow">in</span> <span class="n">global_colors</span><span class="p">:</span>
                        <span class="n">global_color_rules</span><span class="p">[</span><span class="n">filename</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">gc</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">sheets</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">global_color_rules</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">filename</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="c1"># figure out the override</span>
            <span class="n">global_colors</span> <span class="o">=</span> <span class="n">adjust_overrides</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">global_color_rules</span><span class="p">)</span>
            <span class="n">adjusted_rule</span> <span class="o">=</span> <span class="n">global_colors</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
            <span class="n">global_color_rules</span><span class="p">[</span><span class="n">filename</span><span class="p">]</span> <span class="o">=</span> <span class="n">adjusted_rule</span>
    <span class="k">return</span> <span class="n">global_color_rules</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_properties_applied_report" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_properties_applied_report</span><span class="p">(</span><span class="n">project_dir</span><span class="p">,</span> <span class="n">goals</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>returns a report on any elements that fail to have a property applied</p>
<p>goals should be a dictionary with a key for each element we are checking.
Each key has as it's value a dictionary with 1 to 3 possible keys...
  1. (required) properties (the properties that should be applied)
  2. (optional) min_required: If min_required is specified, then to pass
     it only requires the minimum number of properties to be present.</p>
<p>Sample goals might look like the following:
goals_simple = {
    "figure": {
        "properties": ("box-shadow", "border-radius", "animation"),
    }
}
goals_complex = {
    "figure": {
        "properties": ("box-shadow", "border-radius", "animation"),
        "min_required": 2,
    }
}</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>project_dir</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the path to the project folder</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>goals</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a dictionary of elements and the properties expected to be
present</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>report</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of pass or fail messages that indicates the file, the
element, and the missing property.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2671</span>
<span class="normal">2672</span>
<span class="normal">2673</span>
<span class="normal">2674</span>
<span class="normal">2675</span>
<span class="normal">2676</span>
<span class="normal">2677</span>
<span class="normal">2678</span>
<span class="normal">2679</span>
<span class="normal">2680</span>
<span class="normal">2681</span>
<span class="normal">2682</span>
<span class="normal">2683</span>
<span class="normal">2684</span>
<span class="normal">2685</span>
<span class="normal">2686</span>
<span class="normal">2687</span>
<span class="normal">2688</span>
<span class="normal">2689</span>
<span class="normal">2690</span>
<span class="normal">2691</span>
<span class="normal">2692</span>
<span class="normal">2693</span>
<span class="normal">2694</span>
<span class="normal">2695</span>
<span class="normal">2696</span>
<span class="normal">2697</span>
<span class="normal">2698</span>
<span class="normal">2699</span>
<span class="normal">2700</span>
<span class="normal">2701</span>
<span class="normal">2702</span>
<span class="normal">2703</span>
<span class="normal">2704</span>
<span class="normal">2705</span>
<span class="normal">2706</span>
<span class="normal">2707</span>
<span class="normal">2708</span>
<span class="normal">2709</span>
<span class="normal">2710</span>
<span class="normal">2711</span>
<span class="normal">2712</span>
<span class="normal">2713</span>
<span class="normal">2714</span>
<span class="normal">2715</span>
<span class="normal">2716</span>
<span class="normal">2717</span>
<span class="normal">2718</span>
<span class="normal">2719</span>
<span class="normal">2720</span>
<span class="normal">2721</span>
<span class="normal">2722</span>
<span class="normal">2723</span>
<span class="normal">2724</span>
<span class="normal">2725</span>
<span class="normal">2726</span>
<span class="normal">2727</span>
<span class="normal">2728</span>
<span class="normal">2729</span>
<span class="normal">2730</span>
<span class="normal">2731</span>
<span class="normal">2732</span>
<span class="normal">2733</span>
<span class="normal">2734</span>
<span class="normal">2735</span>
<span class="normal">2736</span>
<span class="normal">2737</span>
<span class="normal">2738</span>
<span class="normal">2739</span>
<span class="normal">2740</span>
<span class="normal">2741</span>
<span class="normal">2742</span>
<span class="normal">2743</span>
<span class="normal">2744</span>
<span class="normal">2745</span>
<span class="normal">2746</span>
<span class="normal">2747</span>
<span class="normal">2748</span>
<span class="normal">2749</span>
<span class="normal">2750</span>
<span class="normal">2751</span>
<span class="normal">2752</span>
<span class="normal">2753</span>
<span class="normal">2754</span>
<span class="normal">2755</span>
<span class="normal">2756</span>
<span class="normal">2757</span>
<span class="normal">2758</span>
<span class="normal">2759</span>
<span class="normal">2760</span>
<span class="normal">2761</span>
<span class="normal">2762</span>
<span class="normal">2763</span>
<span class="normal">2764</span>
<span class="normal">2765</span>
<span class="normal">2766</span>
<span class="normal">2767</span>
<span class="normal">2768</span>
<span class="normal">2769</span>
<span class="normal">2770</span>
<span class="normal">2771</span>
<span class="normal">2772</span>
<span class="normal">2773</span>
<span class="normal">2774</span>
<span class="normal">2775</span>
<span class="normal">2776</span>
<span class="normal">2777</span>
<span class="normal">2778</span>
<span class="normal">2779</span>
<span class="normal">2780</span>
<span class="normal">2781</span>
<span class="normal">2782</span>
<span class="normal">2783</span>
<span class="normal">2784</span>
<span class="normal">2785</span>
<span class="normal">2786</span>
<span class="normal">2787</span>
<span class="normal">2788</span>
<span class="normal">2789</span>
<span class="normal">2790</span>
<span class="normal">2791</span>
<span class="normal">2792</span>
<span class="normal">2793</span>
<span class="normal">2794</span>
<span class="normal">2795</span>
<span class="normal">2796</span>
<span class="normal">2797</span>
<span class="normal">2798</span>
<span class="normal">2799</span>
<span class="normal">2800</span>
<span class="normal">2801</span>
<span class="normal">2802</span>
<span class="normal">2803</span>
<span class="normal">2804</span>
<span class="normal">2805</span>
<span class="normal">2806</span>
<span class="normal">2807</span>
<span class="normal">2808</span>
<span class="normal">2809</span>
<span class="normal">2810</span>
<span class="normal">2811</span>
<span class="normal">2812</span>
<span class="normal">2813</span>
<span class="normal">2814</span>
<span class="normal">2815</span>
<span class="normal">2816</span>
<span class="normal">2817</span>
<span class="normal">2818</span>
<span class="normal">2819</span>
<span class="normal">2820</span>
<span class="normal">2821</span>
<span class="normal">2822</span>
<span class="normal">2823</span>
<span class="normal">2824</span>
<span class="normal">2825</span>
<span class="normal">2826</span>
<span class="normal">2827</span>
<span class="normal">2828</span>
<span class="normal">2829</span>
<span class="normal">2830</span>
<span class="normal">2831</span>
<span class="normal">2832</span>
<span class="normal">2833</span>
<span class="normal">2834</span>
<span class="normal">2835</span>
<span class="normal">2836</span>
<span class="normal">2837</span>
<span class="normal">2838</span>
<span class="normal">2839</span>
<span class="normal">2840</span>
<span class="normal">2841</span>
<span class="normal">2842</span>
<span class="normal">2843</span>
<span class="normal">2844</span>
<span class="normal">2845</span>
<span class="normal">2846</span>
<span class="normal">2847</span>
<span class="normal">2848</span>
<span class="normal">2849</span>
<span class="normal">2850</span>
<span class="normal">2851</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_properties_applied_report</span><span class="p">(</span><span class="n">project_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">goals</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;returns a report on any elements that fail to have a property applied</span>

<span class="sd">    goals should be a dictionary with a key for each element we are checking.</span>
<span class="sd">    Each key has as it&#39;s value a dictionary with 1 to 3 possible keys...</span>
<span class="sd">      1. (required) properties (the properties that should be applied)</span>
<span class="sd">      2. (optional) min_required: If min_required is specified, then to pass</span>
<span class="sd">         it only requires the minimum number of properties to be present.</span>

<span class="sd">    Sample goals might look like the following:</span>
<span class="sd">    goals_simple = {</span>
<span class="sd">        &quot;figure&quot;: {</span>
<span class="sd">            &quot;properties&quot;: (&quot;box-shadow&quot;, &quot;border-radius&quot;, &quot;animation&quot;),</span>
<span class="sd">        }</span>
<span class="sd">    }</span>
<span class="sd">    goals_complex = {</span>
<span class="sd">        &quot;figure&quot;: {</span>
<span class="sd">            &quot;properties&quot;: (&quot;box-shadow&quot;, &quot;border-radius&quot;, &quot;animation&quot;),</span>
<span class="sd">            &quot;min_required&quot;: 2,</span>
<span class="sd">        }</span>
<span class="sd">    }</span>

<span class="sd">    Args:</span>
<span class="sd">        project_dir: the path to the project folder</span>
<span class="sd">        goals: a dictionary of elements and the properties expected to be</span>
<span class="sd">            present</span>

<span class="sd">    Returns:</span>
<span class="sd">        report: a list of pass or fail messages that indicates the file, the</span>
<span class="sd">            element, and the missing property.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">report</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">elements</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">goals</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">:</span>
        <span class="n">details</span> <span class="o">=</span> <span class="n">goals</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="n">min_required</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="c1"># details might be a tuple or a dictionary</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">details</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="n">properties</span> <span class="o">=</span> <span class="n">details</span>
            <span class="n">min_required</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">properties</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">properties</span> <span class="o">=</span> <span class="n">details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;properties&quot;</span><span class="p">)</span>
            <span class="n">min_required</span> <span class="o">=</span> <span class="n">details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;min_required&quot;</span><span class="p">)</span>

        <span class="n">html_files</span> <span class="o">=</span> <span class="n">get_styles_by_html_files</span><span class="p">(</span><span class="n">project_dir</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">html_files</span><span class="p">:</span>
            <span class="n">properties_found</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">found_properties_remaining</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">properties</span><span class="p">)</span>
            <span class="n">file_path</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;file&quot;</span><span class="p">)</span>
            <span class="n">targetted_elements_in_file</span> <span class="o">=</span> <span class="n">html_tools</span><span class="o">.</span><span class="n">get_elements</span><span class="p">(</span>
                <span class="n">element</span><span class="p">,</span> <span class="n">file_path</span>
            <span class="p">)</span>
            <span class="c1"># check all selectors in all stylesheet objects</span>
            <span class="k">for</span> <span class="n">sheet</span> <span class="ow">in</span> <span class="n">file</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;stylesheets&quot;</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">rule</span> <span class="ow">in</span> <span class="n">sheet</span><span class="o">.</span><span class="n">rulesets</span><span class="p">:</span>
                    <span class="n">selector</span> <span class="o">=</span> <span class="n">rule</span><span class="o">.</span><span class="n">selector</span>
                    <span class="n">selector_type</span> <span class="o">=</span> <span class="n">get_selector_type</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">selector_type</span> <span class="o">==</span> <span class="s2">&quot;type_selector&quot;</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">selector</span> <span class="o">==</span> <span class="n">element</span><span class="p">:</span>
                            <span class="c1"># loop through all properties and take what we can</span>
                            <span class="n">take_targetted_properties</span><span class="p">(</span>
                                <span class="n">properties_found</span><span class="p">,</span>
                                <span class="n">properties</span><span class="p">,</span>
                                <span class="n">found_properties_remaining</span><span class="p">,</span>
                                <span class="n">rule</span><span class="p">,</span>
                            <span class="p">)</span>
                    <span class="k">if</span> <span class="n">selector_type</span> <span class="o">==</span> <span class="s2">&quot;descendant_selector&quot;</span><span class="p">:</span>
                        <span class="n">sel_split</span> <span class="o">=</span> <span class="n">selector</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
                        <span class="n">target</span> <span class="o">=</span> <span class="n">sel_split</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="k">if</span> <span class="n">element</span> <span class="o">==</span> <span class="n">target</span><span class="p">:</span>
                            <span class="n">take_targetted_properties</span><span class="p">(</span>
                                <span class="n">properties_found</span><span class="p">,</span>
                                <span class="n">properties</span><span class="p">,</span>
                                <span class="n">found_properties_remaining</span><span class="p">,</span>
                                <span class="n">rule</span><span class="p">,</span>
                            <span class="p">)</span>
                    <span class="k">if</span> <span class="n">selector_type</span> <span class="o">==</span> <span class="s2">&quot;grouped_selector&quot;</span><span class="p">:</span>
                        <span class="n">sel_split</span> <span class="o">=</span> <span class="n">selector</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
                        <span class="n">sel_split</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">sel_split</span><span class="p">]</span>
                        <span class="k">if</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">sel_split</span><span class="p">:</span>
                            <span class="n">take_targetted_properties</span><span class="p">(</span>
                                <span class="n">properties_found</span><span class="p">,</span>
                                <span class="n">properties</span><span class="p">,</span>
                                <span class="n">found_properties_remaining</span><span class="p">,</span>
                                <span class="n">rule</span><span class="p">,</span>
                            <span class="p">)</span>
                    <span class="k">if</span> <span class="n">selector_type</span> <span class="o">==</span> <span class="s2">&quot;pseudo_selector&quot;</span><span class="p">:</span>
                        <span class="n">sel_split</span> <span class="o">=</span> <span class="n">selector</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
                        <span class="n">target</span> <span class="o">=</span> <span class="n">sel_split</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                        <span class="k">if</span> <span class="n">target</span> <span class="o">==</span> <span class="n">element</span><span class="p">:</span>
                            <span class="n">take_targetted_properties</span><span class="p">(</span>
                                <span class="n">properties_found</span><span class="p">,</span>
                                <span class="n">properties</span><span class="p">,</span>
                                <span class="n">found_properties_remaining</span><span class="p">,</span>
                                <span class="n">rule</span><span class="p">,</span>
                            <span class="p">)</span>
                    <span class="k">if</span> <span class="n">selector_type</span> <span class="o">==</span> <span class="s2">&quot;id_selector&quot;</span><span class="p">:</span>
                        <span class="c1"># could be starting with # or have tag, then hash</span>
                        <span class="c1"># tag, then ID</span>
                        <span class="n">the_tag</span><span class="p">,</span> <span class="n">its_id</span> <span class="o">=</span> <span class="n">selector</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">target</span> <span class="ow">in</span> <span class="n">targetted_elements_in_file</span><span class="p">:</span>
                            <span class="c1"># our target must have an id attribute or no match</span>
                            <span class="k">if</span> <span class="n">target</span><span class="o">.</span><span class="n">attrs</span><span class="p">:</span>
                                <span class="n">target_id</span> <span class="o">=</span> <span class="n">target</span><span class="o">.</span><span class="n">attrs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span>
                                <span class="k">if</span> <span class="n">target_id</span><span class="p">:</span>
                                    <span class="n">a_match</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
                                    <span class="k">if</span> <span class="n">the_tag</span><span class="p">:</span>
                                        <span class="n">a_match</span> <span class="o">=</span> <span class="n">element</span> <span class="o">+</span> <span class="s2">&quot;#&quot;</span> <span class="o">+</span> <span class="n">target_id</span>
                                    <span class="k">else</span><span class="p">:</span>
                                        <span class="n">a_match</span> <span class="o">=</span> <span class="s2">&quot;#&quot;</span> <span class="o">+</span> <span class="n">target_id</span>
                                    <span class="k">if</span> <span class="n">selector</span> <span class="o">==</span> <span class="n">a_match</span><span class="p">:</span>
                                        <span class="n">take_targetted_properties</span><span class="p">(</span>
                                            <span class="n">properties_found</span><span class="p">,</span>
                                            <span class="n">properties</span><span class="p">,</span>
                                            <span class="n">found_properties_remaining</span><span class="p">,</span>
                                            <span class="n">rule</span><span class="p">,</span>
                                        <span class="p">)</span>
                    <span class="k">if</span> <span class="n">selector_type</span> <span class="o">==</span> <span class="s2">&quot;class_selector&quot;</span><span class="p">:</span>
                        <span class="c1"># is the first part the tag?</span>

                        <span class="n">selector_split</span> <span class="o">=</span> <span class="n">selector</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
                        <span class="n">selector_tag</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
                        <span class="k">if</span> <span class="n">selector</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;.&quot;</span><span class="p">:</span>
                            <span class="n">selector_tag</span> <span class="o">=</span> <span class="n">selector_split</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                        <span class="n">its_classes</span> <span class="o">=</span> <span class="n">selector_split</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
                        <span class="k">for</span> <span class="n">target</span> <span class="ow">in</span> <span class="n">targetted_elements_in_file</span><span class="p">:</span>
                            <span class="c1"># our target must have attributes</span>
                            <span class="k">if</span> <span class="n">target</span><span class="o">.</span><span class="n">attrs</span><span class="p">:</span>
                                <span class="n">target_classes</span> <span class="o">=</span> <span class="n">target</span><span class="o">.</span><span class="n">attrs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">)</span>
                                <span class="k">if</span> <span class="n">target_classes</span><span class="p">:</span>
                                    <span class="c1"># We need to sort both and compare</span>
                                    <span class="n">its_classes</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
                                    <span class="n">target_classes</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
                                    <span class="k">if</span> <span class="n">its_classes</span> <span class="o">==</span> <span class="n">target_classes</span><span class="p">:</span>
                                        <span class="c1"># could be a match</span>
                                        <span class="k">if</span> <span class="n">selector_tag</span><span class="p">:</span>
                                            <span class="c1"># but not if the selector</span>
                                            <span class="c1"># doesn&#39;t match</span>
                                            <span class="k">if</span> <span class="n">selector_tag</span> <span class="o">!=</span> <span class="n">element</span><span class="p">:</span>
                                                <span class="k">continue</span>
                                        <span class="c1"># It&#39;s a match</span>
                                        <span class="n">take_targetted_properties</span><span class="p">(</span>
                                            <span class="n">properties_found</span><span class="p">,</span>
                                            <span class="n">properties</span><span class="p">,</span>
                                            <span class="n">found_properties_remaining</span><span class="p">,</span>
                                            <span class="n">rule</span><span class="p">,</span>
                                        <span class="p">)</span>

            <span class="c1"># If there are any properties left, it&#39;s a fail</span>
            <span class="n">filename</span> <span class="o">=</span> <span class="n">clerk</span><span class="o">.</span><span class="n">get_file_name</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;file&quot;</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">found_properties_remaining</span><span class="p">:</span>
                <span class="n">count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">found_properties_remaining</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">min_required</span><span class="p">:</span>
                    <span class="n">applied</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">properties</span><span class="p">)</span> <span class="o">-</span> <span class="n">count</span>
                    <span class="k">if</span> <span class="n">applied</span> <span class="o">&gt;=</span> <span class="n">min_required</span><span class="p">:</span>
                        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;pass: in </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2"> the </span><span class="si">{</span><span class="n">element</span><span class="si">}</span><span class="s2"> tag applies&quot;</span>
                        <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot; minimum required properties (&quot;</span>
                        <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">min_required</span><span class="si">}</span><span class="s2">).&quot;</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;fail: in </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">, the </span><span class="si">{</span><span class="n">element</span><span class="si">}</span><span class="s2"> tag only &quot;</span>
                        <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; applied </span><span class="si">{</span><span class="n">applied</span><span class="si">}</span><span class="s2"> properties out of &quot;</span>
                        <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">min_required</span><span class="si">}</span><span class="s2"> required properties.&quot;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;fail: in </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">, the </span><span class="si">{</span><span class="n">element</span><span class="si">}</span><span class="s2"> tag does not &quot;</span>
                    <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;apply &quot;</span>
                    <span class="k">if</span> <span class="n">count</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;1 property: </span><span class="si">{</span><span class="n">found_properties_remaining</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">.&quot;</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">count</span><span class="si">}</span><span class="s2"> properties: &quot;</span>
                        <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">found_properties_remaining</span><span class="si">}</span><span class="s2">.&quot;</span>

            <span class="c1"># all properties were accounted for (none remaining)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;pass: in </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">, the </span><span class="si">{</span><span class="n">element</span><span class="si">}</span><span class="s2"> tag applies all &quot;</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;required properties.&quot;</span>
            <span class="n">report</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">report</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;fail: no file directly targetted the </span><span class="si">{</span><span class="n">element</span><span class="si">}</span><span class="s2"> tag&#39;s &quot;</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;properties: </span><span class="si">{</span><span class="n">properties</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="n">report</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">report</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_selector_type" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_selector_type</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>returns the type of selector it is.</p>
<p>Cycles through selector regexes to see which one it is. When it has a
match, it returns the key.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>selector</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the selector in question.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the key of the selector regex dictionary if there's a match.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1736</span>
<span class="normal">1737</span>
<span class="normal">1738</span>
<span class="normal">1739</span>
<span class="normal">1740</span>
<span class="normal">1741</span>
<span class="normal">1742</span>
<span class="normal">1743</span>
<span class="normal">1744</span>
<span class="normal">1745</span>
<span class="normal">1746</span>
<span class="normal">1747</span>
<span class="normal">1748</span>
<span class="normal">1749</span>
<span class="normal">1750</span>
<span class="normal">1751</span>
<span class="normal">1752</span>
<span class="normal">1753</span>
<span class="normal">1754</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_selector_type</span><span class="p">(</span><span class="n">selector</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;returns the type of selector it is.</span>

<span class="sd">    Cycles through selector regexes to see which one it is. When it has a</span>
<span class="sd">    match, it returns the key.</span>

<span class="sd">    Args:</span>
<span class="sd">        selector: the selector in question.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: the key of the selector regex dictionary if there&#39;s a match.&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="nb">type</span><span class="p">,</span> <span class="n">regex</span> <span class="ow">in</span> <span class="n">regex_patterns</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">regex</span><span class="p">,</span> <span class="n">selector</span><span class="p">)</span>
        <span class="k">if</span> <span class="s2">&quot;#&quot;</span> <span class="ow">in</span> <span class="n">selector</span> <span class="ow">and</span> <span class="n">selector</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;#&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;id_selector&quot;</span>
        <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">type</span> <span class="o">==</span> <span class="s2">&quot;single_type_selector&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="s2">&quot;type_selector&quot;</span>
            <span class="k">return</span> <span class="nb">type</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_shorthand" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_shorthand</span><span class="p">(</span><span class="n">sel</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>returns a shorthand version of a property if it could be a portion
of a shorthand property</p>
<p>It's more efficient if you check for a dash before passing it as an
argument.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>sel</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a CSS selector (should be one with a dash)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>shorthand</code></td>            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the shorthand version of a property if it is or an empty
string if not.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2854</span>
<span class="normal">2855</span>
<span class="normal">2856</span>
<span class="normal">2857</span>
<span class="normal">2858</span>
<span class="normal">2859</span>
<span class="normal">2860</span>
<span class="normal">2861</span>
<span class="normal">2862</span>
<span class="normal">2863</span>
<span class="normal">2864</span>
<span class="normal">2865</span>
<span class="normal">2866</span>
<span class="normal">2867</span>
<span class="normal">2868</span>
<span class="normal">2869</span>
<span class="normal">2870</span>
<span class="normal">2871</span>
<span class="normal">2872</span>
<span class="normal">2873</span>
<span class="normal">2874</span>
<span class="normal">2875</span>
<span class="normal">2876</span>
<span class="normal">2877</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_shorthand</span><span class="p">(</span><span class="n">sel</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;returns a shorthand version of a property if it could be a portion</span>
<span class="sd">    of a shorthand property</span>

<span class="sd">    It&#39;s more efficient if you check for a dash before passing it as an</span>
<span class="sd">    argument.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        sel: a CSS selector (should be one with a dash)</span>

<span class="sd">    Returns:</span>
<span class="sd">        shorthand: the shorthand version of a property if it is or an empty</span>
<span class="sd">            string if not.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">shorthand</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="c1"># if so, check if the part before the first dash is a shorthand</span>
    <span class="n">prefix</span> <span class="o">=</span> <span class="n">sel</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="n">shorthand_properties</span><span class="p">:</span>
        <span class="n">shorthand</span> <span class="o">=</span> <span class="n">prefix</span>

    <span class="c1"># if so, return the shorthand variant</span>

    <span class="k">return</span> <span class="n">shorthand</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_specificity" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_specificity</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Gets the specificity score on the selector.</p>
<p>According to MDN's article on Specificity, Specificity is the
algorithm used by browsers to determine the CSS declaration that
is the most relevant to an element, which in turn, determines
the property value to apply to the element.</p>
<p>The specificity algorithm calculates the weight of a CSS selector
to determine which rule from competing CSS declarations gets
applied to an element.</p>
<p>The specificity score is basically a number, and if two selectors
target the same element, the selector with the highest specificity
score wins. The number is like a 3-digit number, where the "ones"
place is the number of type selectors, the "tens" place is the
number of class selectors, and the "hundreds" place is the number
of id selectors.</p>
<p>For example, the selector: <code>h1, h2, h3</code> has a specificity of <code>003</code>
because there are neither id nor class selectors, but there are 3
type selectors.</p>
<p>The selector: <code>nav#main ul</code> has a specificity of <code>102</code> because
there is one id selector (<code>#main</code>) and two type selectors (<code>nav</code>
and <code>ul</code>).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>selector</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the CSS selector in question.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>specificity</code></td>            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the specificity score.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1757</span>
<span class="normal">1758</span>
<span class="normal">1759</span>
<span class="normal">1760</span>
<span class="normal">1761</span>
<span class="normal">1762</span>
<span class="normal">1763</span>
<span class="normal">1764</span>
<span class="normal">1765</span>
<span class="normal">1766</span>
<span class="normal">1767</span>
<span class="normal">1768</span>
<span class="normal">1769</span>
<span class="normal">1770</span>
<span class="normal">1771</span>
<span class="normal">1772</span>
<span class="normal">1773</span>
<span class="normal">1774</span>
<span class="normal">1775</span>
<span class="normal">1776</span>
<span class="normal">1777</span>
<span class="normal">1778</span>
<span class="normal">1779</span>
<span class="normal">1780</span>
<span class="normal">1781</span>
<span class="normal">1782</span>
<span class="normal">1783</span>
<span class="normal">1784</span>
<span class="normal">1785</span>
<span class="normal">1786</span>
<span class="normal">1787</span>
<span class="normal">1788</span>
<span class="normal">1789</span>
<span class="normal">1790</span>
<span class="normal">1791</span>
<span class="normal">1792</span>
<span class="normal">1793</span>
<span class="normal">1794</span>
<span class="normal">1795</span>
<span class="normal">1796</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_specificity</span><span class="p">(</span><span class="n">selector</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets the specificity score on the selector.</span>

<span class="sd">    According to MDN&#39;s article on Specificity, Specificity is the</span>
<span class="sd">    algorithm used by browsers to determine the CSS declaration that</span>
<span class="sd">    is the most relevant to an element, which in turn, determines</span>
<span class="sd">    the property value to apply to the element.</span>

<span class="sd">    The specificity algorithm calculates the weight of a CSS selector</span>
<span class="sd">    to determine which rule from competing CSS declarations gets</span>
<span class="sd">    applied to an element.</span>

<span class="sd">    The specificity score is basically a number, and if two selectors</span>
<span class="sd">    target the same element, the selector with the highest specificity</span>
<span class="sd">    score wins. The number is like a 3-digit number, where the &quot;ones&quot;</span>
<span class="sd">    place is the number of type selectors, the &quot;tens&quot; place is the</span>
<span class="sd">    number of class selectors, and the &quot;hundreds&quot; place is the number</span>
<span class="sd">    of id selectors.</span>

<span class="sd">    For example, the selector: `h1, h2, h3` has a specificity of `003`</span>
<span class="sd">    because there are neither id nor class selectors, but there are 3</span>
<span class="sd">    type selectors.</span>

<span class="sd">    The selector: `nav#main ul` has a specificity of `102` because</span>
<span class="sd">    there is one id selector (`#main`) and two type selectors (`nav`</span>
<span class="sd">    and `ul`).</span>

<span class="sd">    Args:</span>
<span class="sd">        selector (str): the CSS selector in question.</span>

<span class="sd">    Returns:</span>
<span class="sd">        specificity: the specificity score.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">id_selector</span> <span class="o">=</span> <span class="n">get_id_score</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span>
    <span class="n">class_selector</span> <span class="o">=</span> <span class="n">get_class_score</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span>
    <span class="n">pseudo_element_selector</span> <span class="o">=</span> <span class="n">get_psuedo_element_score</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span>
    <span class="n">type_selector</span> <span class="o">=</span> <span class="n">get_type_score</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span>
    <span class="n">type_count</span> <span class="o">=</span> <span class="n">type_selector</span> <span class="o">+</span> <span class="n">pseudo_element_selector</span>
    <span class="n">specificity</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}{}{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">id_selector</span><span class="p">,</span> <span class="n">class_selector</span><span class="p">,</span> <span class="n">type_count</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">specificity</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_styles_by_html_files" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_styles_by_html_files</span><span class="p">(</span><span class="n">project_path</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Returns a list of filenames with their stylesheets in order of
appearance.</p>
<p>This will identify all HTML documents in the project folder. For
each HTML document, it will create a dictionary with two keys:
filename for the HTML document and stylesheets for a list of the
css styles created through link tags or style tags.</p>
<p>As it uses get_all_stylesheets_by_files, you can be sure that no
external stylesheets (https://...) will be included in the list.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>project_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a string of the path to the project folder you
want to test.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>styles_by_html_files</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of dictionary objects indicating
each html document and its styles in order of appearance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1807</span>
<span class="normal">1808</span>
<span class="normal">1809</span>
<span class="normal">1810</span>
<span class="normal">1811</span>
<span class="normal">1812</span>
<span class="normal">1813</span>
<span class="normal">1814</span>
<span class="normal">1815</span>
<span class="normal">1816</span>
<span class="normal">1817</span>
<span class="normal">1818</span>
<span class="normal">1819</span>
<span class="normal">1820</span>
<span class="normal">1821</span>
<span class="normal">1822</span>
<span class="normal">1823</span>
<span class="normal">1824</span>
<span class="normal">1825</span>
<span class="normal">1826</span>
<span class="normal">1827</span>
<span class="normal">1828</span>
<span class="normal">1829</span>
<span class="normal">1830</span>
<span class="normal">1831</span>
<span class="normal">1832</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_styles_by_html_files</span><span class="p">(</span><span class="n">project_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a list of filenames with their stylesheets in order of</span>
<span class="sd">    appearance.</span>

<span class="sd">    This will identify all HTML documents in the project folder. For</span>
<span class="sd">    each HTML document, it will create a dictionary with two keys:</span>
<span class="sd">    filename for the HTML document and stylesheets for a list of the</span>
<span class="sd">    css styles created through link tags or style tags.</span>

<span class="sd">    As it uses get_all_stylesheets_by_files, you can be sure that no</span>
<span class="sd">    external stylesheets (https://...) will be included in the list.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_path: a string of the path to the project folder you</span>
<span class="sd">            want to test.</span>

<span class="sd">    Returns:</span>
<span class="sd">        styles_by_html_files: a list of dictionary objects indicating</span>
<span class="sd">            each html document and its styles in order of appearance.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">styles_by_html_files</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">html_files</span> <span class="o">=</span> <span class="n">html_tools</span><span class="o">.</span><span class="n">get_all_html_files</span><span class="p">(</span><span class="n">project_path</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">html_files</span><span class="p">:</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="n">get_all_stylesheets_by_file</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
        <span class="n">styles_by_html_files</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">file</span><span class="p">,</span> <span class="s2">&quot;stylesheets&quot;</span><span class="p">:</span> <span class="n">file_data</span><span class="p">})</span>
    <span class="k">return</span> <span class="n">styles_by_html_files</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_type_score" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_type_score</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>receives a selector and returns the number of type selectors</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>selector</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the complete CSS selector</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>score</code></td>            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the number of type selectors.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1835</span>
<span class="normal">1836</span>
<span class="normal">1837</span>
<span class="normal">1838</span>
<span class="normal">1839</span>
<span class="normal">1840</span>
<span class="normal">1841</span>
<span class="normal">1842</span>
<span class="normal">1843</span>
<span class="normal">1844</span>
<span class="normal">1845</span>
<span class="normal">1846</span>
<span class="normal">1847</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_type_score</span><span class="p">(</span><span class="n">selector</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;receives a selector and returns the number of type selectors</span>

<span class="sd">    Args:</span>
<span class="sd">        selector: the complete CSS selector</span>

<span class="sd">    Returns:</span>
<span class="sd">        score: the number of type selectors.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pattern</span> <span class="o">=</span> <span class="n">regex_patterns</span><span class="p">[</span><span class="s2">&quot;type_selector&quot;</span><span class="p">]</span>
    <span class="n">selectors</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">selector</span><span class="p">)</span>
    <span class="n">score</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">selectors</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">score</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_unique_font_rules" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_unique_font_rules</span><span class="p">(</span><span class="n">project_folder</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Returns list of files with only unique font rules applied.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>project_folder</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a string path to the project folder we are testing.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>project_font_data</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of dictionary objects that each store
the file where styles are applied and their unique font-related
rules.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1850</span>
<span class="normal">1851</span>
<span class="normal">1852</span>
<span class="normal">1853</span>
<span class="normal">1854</span>
<span class="normal">1855</span>
<span class="normal">1856</span>
<span class="normal">1857</span>
<span class="normal">1858</span>
<span class="normal">1859</span>
<span class="normal">1860</span>
<span class="normal">1861</span>
<span class="normal">1862</span>
<span class="normal">1863</span>
<span class="normal">1864</span>
<span class="normal">1865</span>
<span class="normal">1866</span>
<span class="normal">1867</span>
<span class="normal">1868</span>
<span class="normal">1869</span>
<span class="normal">1870</span>
<span class="normal">1871</span>
<span class="normal">1872</span>
<span class="normal">1873</span>
<span class="normal">1874</span>
<span class="normal">1875</span>
<span class="normal">1876</span>
<span class="normal">1877</span>
<span class="normal">1878</span>
<span class="normal">1879</span>
<span class="normal">1880</span>
<span class="normal">1881</span>
<span class="normal">1882</span>
<span class="normal">1883</span>
<span class="normal">1884</span>
<span class="normal">1885</span>
<span class="normal">1886</span>
<span class="normal">1887</span>
<span class="normal">1888</span>
<span class="normal">1889</span>
<span class="normal">1890</span>
<span class="normal">1891</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_unique_font_rules</span><span class="p">(</span><span class="n">project_folder</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns list of files with only unique font rules applied.</span>

<span class="sd">    Args:</span>
<span class="sd">        project_folder: a string path to the project folder we are testing.</span>

<span class="sd">    Returns:</span>
<span class="sd">        project_font_data: a list of dictionary objects that each store</span>
<span class="sd">            the file where styles are applied and their unique font-related</span>
<span class="sd">            rules.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">styles_by_html_files</span> <span class="o">=</span> <span class="n">get_styles_by_html_files</span><span class="p">(</span><span class="n">project_folder</span><span class="p">)</span>
    <span class="n">font_families_tests</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">styles_by_html_files</span><span class="p">:</span>
        <span class="n">style_sheets</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;stylesheets&quot;</span><span class="p">)</span>
        <span class="n">unique_rules</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">unique_font_values</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">unique_font_selectors</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">font_rules</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">sheet</span> <span class="ow">in</span> <span class="n">style_sheets</span><span class="p">:</span>
            <span class="n">font_families</span> <span class="o">=</span> <span class="n">get_font_families</span><span class="p">(</span><span class="n">sheet</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">font_families</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">family</span> <span class="ow">in</span> <span class="n">font_families</span><span class="p">:</span>
                    <span class="n">font_rules</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">family</span><span class="p">)</span>
        <span class="c1"># Let&#39;s build results for this page</span>
        <span class="k">for</span> <span class="n">rule</span> <span class="ow">in</span> <span class="n">font_rules</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">rule</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">rule</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">unique_rules</span><span class="p">:</span>
                    <span class="n">unique_rules</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rule</span><span class="p">)</span>
                    <span class="n">selector</span> <span class="o">=</span> <span class="n">rule</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;selector&quot;</span><span class="p">)</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="n">rule</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;family&quot;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">selector</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">unique_font_selectors</span><span class="p">:</span>
                        <span class="n">unique_font_selectors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">value</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">unique_font_values</span><span class="p">:</span>
                        <span class="n">unique_font_values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">()</span>
        <span class="c1"># apply the file, unique rules, unique selectors, and unique values</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;file&quot;</span><span class="p">)</span>
        <span class="n">file_data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;rules&quot;</span><span class="p">:</span> <span class="n">unique_rules</span><span class="p">}</span>
        <span class="n">font_families_tests</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">file_data</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">font_families_tests</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.get_variables" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_variables</span><span class="p">(</span><span class="n">text</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>returns a list of css variables and their values.</p>
<p>This will extract any variables if they exist, copy the
variable name and its value and create a dictionary object
and append to list.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>text</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>full text of css stylesheet</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>variables</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of variable dictionaries each with a
key for the variable and a value for its value.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1894</span>
<span class="normal">1895</span>
<span class="normal">1896</span>
<span class="normal">1897</span>
<span class="normal">1898</span>
<span class="normal">1899</span>
<span class="normal">1900</span>
<span class="normal">1901</span>
<span class="normal">1902</span>
<span class="normal">1903</span>
<span class="normal">1904</span>
<span class="normal">1905</span>
<span class="normal">1906</span>
<span class="normal">1907</span>
<span class="normal">1908</span>
<span class="normal">1909</span>
<span class="normal">1910</span>
<span class="normal">1911</span>
<span class="normal">1912</span>
<span class="normal">1913</span>
<span class="normal">1914</span>
<span class="normal">1915</span>
<span class="normal">1916</span>
<span class="normal">1917</span>
<span class="normal">1918</span>
<span class="normal">1919</span>
<span class="normal">1920</span>
<span class="normal">1921</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_variables</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;returns a list of css variables and their values.</span>

<span class="sd">    This will extract any variables if they exist, copy the</span>
<span class="sd">    variable name and its value and create a dictionary object</span>
<span class="sd">    and append to list.</span>

<span class="sd">    Args:</span>
<span class="sd">        text: full text of css stylesheet</span>

<span class="sd">    Returns:</span>
<span class="sd">        variables: a list of variable dictionaries each with a</span>
<span class="sd">            key for the variable and a value for its value.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">variables</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">variable_split</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:root {&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">variable_split</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="n">variable_text</span> <span class="o">=</span> <span class="n">variable_split</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="n">variables_list</span> <span class="o">=</span> <span class="n">variable_text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">variables_list</span><span class="p">:</span>
        <span class="n">var</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">if</span> <span class="s2">&quot;}&quot;</span> <span class="ow">in</span> <span class="n">var</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="n">variable</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">var</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
        <span class="n">var_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;variable&quot;</span><span class="p">:</span> <span class="n">variable</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="n">value</span><span class="p">}</span>
        <span class="n">variables</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">var_dict</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">variables</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.has_link_selector" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">has_link_selector</span><span class="p">(</span><span class="n">sheet</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>returns whether any style in a stylesheet targets a hyperlink</p>
<p>There could be one or more link selectors. This will check each possible
link selector (or psuedoselector). It only has to target a link and not
a descendant of a link.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>sheet</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Stylesheet (webcode_tk.css_tools.Stylesheet)" href="#webcode_tk.css_tools.Stylesheet">Stylesheet</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the stylesheet object.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>has_selector</code></td>            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether there is a selector that targets a link</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2247</span>
<span class="normal">2248</span>
<span class="normal">2249</span>
<span class="normal">2250</span>
<span class="normal">2251</span>
<span class="normal">2252</span>
<span class="normal">2253</span>
<span class="normal">2254</span>
<span class="normal">2255</span>
<span class="normal">2256</span>
<span class="normal">2257</span>
<span class="normal">2258</span>
<span class="normal">2259</span>
<span class="normal">2260</span>
<span class="normal">2261</span>
<span class="normal">2262</span>
<span class="normal">2263</span>
<span class="normal">2264</span>
<span class="normal">2265</span>
<span class="normal">2266</span>
<span class="normal">2267</span>
<span class="normal">2268</span>
<span class="normal">2269</span>
<span class="normal">2270</span>
<span class="normal">2271</span>
<span class="normal">2272</span>
<span class="normal">2273</span>
<span class="normal">2274</span>
<span class="normal">2275</span>
<span class="normal">2276</span>
<span class="normal">2277</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">has_link_selector</span><span class="p">(</span><span class="n">sheet</span><span class="p">:</span> <span class="n">Stylesheet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;returns whether any style in a stylesheet targets a hyperlink</span>

<span class="sd">    There could be one or more link selectors. This will check each possible</span>
<span class="sd">    link selector (or psuedoselector). It only has to target a link and not</span>
<span class="sd">    a descendant of a link.</span>

<span class="sd">    Args:</span>
<span class="sd">        sheet: the stylesheet object.</span>

<span class="sd">    Returns:</span>
<span class="sd">        has_selector: whether there is a selector that targets a link&quot;&quot;&quot;</span>
    <span class="n">has_selector</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">all_selectors</span> <span class="o">=</span> <span class="n">sheet</span><span class="o">.</span><span class="n">selectors</span>
    <span class="k">for</span> <span class="n">selector</span> <span class="ow">in</span> <span class="n">all_selectors</span><span class="p">:</span>
        <span class="n">selector_copy</span> <span class="o">=</span> <span class="n">selector</span>
        <span class="k">if</span> <span class="s2">&quot; &quot;</span> <span class="ow">in</span> <span class="n">selector</span><span class="p">:</span>
            <span class="c1"># we need to add a space at the end for the split to work</span>
            <span class="n">selector</span> <span class="o">=</span> <span class="n">selector</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span>
            <span class="n">selector_split</span> <span class="o">=</span> <span class="n">selector</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
            <span class="n">selector_copy</span> <span class="o">=</span> <span class="n">selector_split</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">selector_copy</span> <span class="o">==</span> <span class="s2">&quot;a&quot;</span><span class="p">:</span>
            <span class="n">has_selector</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">break</span>
        <span class="c1"># Check selector_copy to see if it&#39;s an anchor</span>
        <span class="n">regex_pattern</span> <span class="o">=</span> <span class="n">regex_patterns</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;advanced_link_selector&quot;</span><span class="p">)</span>
        <span class="n">selector_match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">regex_pattern</span><span class="p">,</span> <span class="n">selector_copy</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">selector_match</span><span class="p">:</span>
            <span class="n">has_selector</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">break</span>
    <span class="k">return</span> <span class="n">has_selector</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.has_required_property" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">has_required_property</span><span class="p">(</span><span class="nb">property</span><span class="p">,</span> <span class="n">sheet</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>checks stylesheet for a particular property</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>property</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the property we're looking for</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>sheet</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Stylesheet (webcode_tk.css_tools.Stylesheet)" href="#webcode_tk.css_tools.Stylesheet">Stylesheet</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the Stylesheet object we're inspecting</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>has_property</code></td>            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether the Stylesheet has the property or not.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2199</span>
<span class="normal">2200</span>
<span class="normal">2201</span>
<span class="normal">2202</span>
<span class="normal">2203</span>
<span class="normal">2204</span>
<span class="normal">2205</span>
<span class="normal">2206</span>
<span class="normal">2207</span>
<span class="normal">2208</span>
<span class="normal">2209</span>
<span class="normal">2210</span>
<span class="normal">2211</span>
<span class="normal">2212</span>
<span class="normal">2213</span>
<span class="normal">2214</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">has_required_property</span><span class="p">(</span><span class="nb">property</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">sheet</span><span class="p">:</span> <span class="n">Stylesheet</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;checks stylesheet for a particular property</span>

<span class="sd">    Args:</span>
<span class="sd">        property: the property we&#39;re looking for</span>
<span class="sd">        sheet (Stylesheet): the Stylesheet object we&#39;re inspecting</span>

<span class="sd">    Returns:</span>
<span class="sd">        has_property: whether the Stylesheet has the property or not.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">has_property</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">for</span> <span class="n">rule</span> <span class="ow">in</span> <span class="n">sheet</span><span class="o">.</span><span class="n">rulesets</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">declaration</span> <span class="ow">in</span> <span class="n">rule</span><span class="o">.</span><span class="n">declaration_block</span><span class="o">.</span><span class="n">declarations</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">declaration</span><span class="o">.</span><span class="n">property</span> <span class="o">==</span> <span class="nb">property</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="n">has_property</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.has_vendor_prefix" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">has_vendor_prefix</span><span class="p">(</span><span class="nb">property</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Checks a property to see if it uses a vendor prefix or not.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>property</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A CSS property in string format.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>has_prefix</code></td>            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether the property uses a vendor prefix or not.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1973</span>
<span class="normal">1974</span>
<span class="normal">1975</span>
<span class="normal">1976</span>
<span class="normal">1977</span>
<span class="normal">1978</span>
<span class="normal">1979</span>
<span class="normal">1980</span>
<span class="normal">1981</span>
<span class="normal">1982</span>
<span class="normal">1983</span>
<span class="normal">1984</span>
<span class="normal">1985</span>
<span class="normal">1986</span>
<span class="normal">1987</span>
<span class="normal">1988</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">has_vendor_prefix</span><span class="p">(</span><span class="nb">property</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Checks a property to see if it uses a vendor prefix or not.</span>

<span class="sd">    Args:</span>
<span class="sd">        property: A CSS property in string format.</span>

<span class="sd">    Returns:</span>
<span class="sd">        has_prefix: whether the property uses a vendor prefix or not.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">vendor_prefixes</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;-webkit-&quot;</span><span class="p">,</span> <span class="s2">&quot;-moz-&quot;</span><span class="p">,</span> <span class="s2">&quot;-o-&quot;</span><span class="p">,</span> <span class="s2">&quot;-ms-&quot;</span><span class="p">)</span>
    <span class="n">has_prefix</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">for</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="n">vendor_prefixes</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="nb">property</span><span class="p">:</span>
            <span class="n">has_prefix</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">break</span>
    <span class="k">return</span> <span class="n">has_prefix</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.is_gradient" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_gradient</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>checks a CSS value to see if it's using a gradient or not.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a CSS value.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>uses_gradient</code></td>            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether it uses a gradient or not.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1991</span>
<span class="normal">1992</span>
<span class="normal">1993</span>
<span class="normal">1994</span>
<span class="normal">1995</span>
<span class="normal">1996</span>
<span class="normal">1997</span>
<span class="normal">1998</span>
<span class="normal">1999</span>
<span class="normal">2000</span>
<span class="normal">2001</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_gradient</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;checks a CSS value to see if it&#39;s using a gradient or not.</span>

<span class="sd">    Args:</span>
<span class="sd">        value (str): a CSS value.</span>

<span class="sd">    Returns:</span>
<span class="sd">        uses_gradient: whether it uses a gradient or not.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">uses_gradient</span> <span class="o">=</span> <span class="s2">&quot;gradient&quot;</span> <span class="ow">in</span> <span class="n">value</span>
    <span class="k">return</span> <span class="n">uses_gradient</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.is_link_selector" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_link_selector</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>returns a true if selector targets a link</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>selector</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the selector in question</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2280</span>
<span class="normal">2281</span>
<span class="normal">2282</span>
<span class="normal">2283</span>
<span class="normal">2284</span>
<span class="normal">2285</span>
<span class="normal">2286</span>
<span class="normal">2287</span>
<span class="normal">2288</span>
<span class="normal">2289</span>
<span class="normal">2290</span>
<span class="normal">2291</span>
<span class="normal">2292</span>
<span class="normal">2293</span>
<span class="normal">2294</span>
<span class="normal">2295</span>
<span class="normal">2296</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_link_selector</span><span class="p">(</span><span class="n">selector</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;returns a true if selector targets a link</span>

<span class="sd">    Args:</span>
<span class="sd">        selector: the selector in question&quot;&quot;&quot;</span>
    <span class="n">selector_copy</span> <span class="o">=</span> <span class="n">selector</span>
    <span class="k">if</span> <span class="s2">&quot; &quot;</span> <span class="ow">in</span> <span class="n">selector</span><span class="p">:</span>
        <span class="c1"># we need to add a space at the end for the split to work</span>
        <span class="n">selector</span> <span class="o">=</span> <span class="n">selector</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span>
        <span class="n">selector_split</span> <span class="o">=</span> <span class="n">selector</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="n">selector_copy</span> <span class="o">=</span> <span class="n">selector_split</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">selector_copy</span> <span class="o">==</span> <span class="s2">&quot;a&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
        <span class="c1"># Check selector_copy to see if it&#39;s an anchor</span>
    <span class="n">regex_pattern</span> <span class="o">=</span> <span class="n">regex_patterns</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;advanced_link_selector&quot;</span><span class="p">)</span>
    <span class="n">selector_match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">regex_pattern</span><span class="p">,</span> <span class="n">selector_copy</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">selector_match</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.is_required_selector" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_required_selector</span><span class="p">(</span><span class="n">selector_type</span><span class="p">,</span> <span class="n">selector</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>checks selector to see if it's required type or not.</p>
<p>Example: you may wish to loop through selectors and see which
ones are class selectors, or id selectors, etc..</p>
<p>It makes use of the list of regex_patterns for selector type.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>selector_type</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the type of selector in question, such as
an id, class, type, etc.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>selector</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the selector we are checking.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>match</code></td>            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether the selector matches the type.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2178</span>
<span class="normal">2179</span>
<span class="normal">2180</span>
<span class="normal">2181</span>
<span class="normal">2182</span>
<span class="normal">2183</span>
<span class="normal">2184</span>
<span class="normal">2185</span>
<span class="normal">2186</span>
<span class="normal">2187</span>
<span class="normal">2188</span>
<span class="normal">2189</span>
<span class="normal">2190</span>
<span class="normal">2191</span>
<span class="normal">2192</span>
<span class="normal">2193</span>
<span class="normal">2194</span>
<span class="normal">2195</span>
<span class="normal">2196</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_required_selector</span><span class="p">(</span><span class="n">selector_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">selector</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;checks selector to see if it&#39;s required type or not.</span>

<span class="sd">    Example: you may wish to loop through selectors and see which</span>
<span class="sd">    ones are class selectors, or id selectors, etc..</span>

<span class="sd">    It makes use of the list of regex_patterns for selector type.</span>

<span class="sd">    Args:</span>
<span class="sd">        selector_type: the type of selector in question, such as</span>
<span class="sd">            an id, class, type, etc.</span>
<span class="sd">        selector: the selector we are checking.</span>

<span class="sd">    Returns:</span>
<span class="sd">        match: whether the selector matches the type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pattern</span> <span class="o">=</span> <span class="n">regex_patterns</span><span class="p">[</span><span class="n">selector_type</span><span class="p">]</span>
    <span class="n">match</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">selector</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">match</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.is_selector_at_end_of_descendant" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_selector_at_end_of_descendant</span><span class="p">(</span><span class="n">selector</span><span class="p">,</span> <span class="n">cur_selector</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>returns whether a selector is at the end of a descendant selector</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2236</span>
<span class="normal">2237</span>
<span class="normal">2238</span>
<span class="normal">2239</span>
<span class="normal">2240</span>
<span class="normal">2241</span>
<span class="normal">2242</span>
<span class="normal">2243</span>
<span class="normal">2244</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_selector_at_end_of_descendant</span><span class="p">(</span><span class="n">selector</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">cur_selector</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;returns whether a selector is at the end of a descendant selector&quot;&quot;&quot;</span>
    <span class="n">selector_at_end_of_descendant</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">selectors</span> <span class="o">=</span> <span class="n">cur_selector</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">selector</span> <span class="ow">in</span> <span class="n">selectors</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
        <span class="c1"># selector must be at the end of descendant selector</span>
        <span class="c1"># or it doesn&#39;t count</span>
        <span class="n">selector_at_end_of_descendant</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="n">selector_at_end_of_descendant</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.minify_code" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">minify_code</span><span class="p">(</span><span class="n">text</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>remove all new lines, tabs, and double spaces from text</p>
<p>This is a classic function for web developers to minify their code
by removing new lines, tabs, and any double spaces from text.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>text</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the code you want to minify.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>text</code></td>            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the code without all the additional whitespace.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1956</span>
<span class="normal">1957</span>
<span class="normal">1958</span>
<span class="normal">1959</span>
<span class="normal">1960</span>
<span class="normal">1961</span>
<span class="normal">1962</span>
<span class="normal">1963</span>
<span class="normal">1964</span>
<span class="normal">1965</span>
<span class="normal">1966</span>
<span class="normal">1967</span>
<span class="normal">1968</span>
<span class="normal">1969</span>
<span class="normal">1970</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">minify_code</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;remove all new lines, tabs, and double spaces from text</span>

<span class="sd">    This is a classic function for web developers to minify their code</span>
<span class="sd">    by removing new lines, tabs, and any double spaces from text.</span>

<span class="sd">    Args:</span>
<span class="sd">        text: the code you want to minify.</span>

<span class="sd">    Returns:</span>
<span class="sd">        text: the code without all the additional whitespace.&quot;&quot;&quot;</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;  &quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">text</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.no_style_attributes_allowed_report" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">no_style_attributes_allowed_report</span><span class="p">(</span><span class="n">project_dir</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>returns a report on whether HTML docs use style attributes or not.</p>
<p>Only call this report if you do not allow a style attribute in an
HTML doc</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>project_dir</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the relative link to the folder with the web docs.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>report</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of all HTML docs and a pass or fail message.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2320</span>
<span class="normal">2321</span>
<span class="normal">2322</span>
<span class="normal">2323</span>
<span class="normal">2324</span>
<span class="normal">2325</span>
<span class="normal">2326</span>
<span class="normal">2327</span>
<span class="normal">2328</span>
<span class="normal">2329</span>
<span class="normal">2330</span>
<span class="normal">2331</span>
<span class="normal">2332</span>
<span class="normal">2333</span>
<span class="normal">2334</span>
<span class="normal">2335</span>
<span class="normal">2336</span>
<span class="normal">2337</span>
<span class="normal">2338</span>
<span class="normal">2339</span>
<span class="normal">2340</span>
<span class="normal">2341</span>
<span class="normal">2342</span>
<span class="normal">2343</span>
<span class="normal">2344</span>
<span class="normal">2345</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">no_style_attributes_allowed_report</span><span class="p">(</span><span class="n">project_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;returns a report on whether HTML docs use style attributes or not.</span>

<span class="sd">    Only call this report if you do not allow a style attribute in an</span>
<span class="sd">    HTML doc</span>

<span class="sd">    Args:</span>
<span class="sd">        project_dir: the relative link to the folder with the web docs.</span>

<span class="sd">    Returns:</span>
<span class="sd">        report: a list of all HTML docs and a pass or fail message.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">report</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">html_files</span> <span class="o">=</span> <span class="n">clerk</span><span class="o">.</span><span class="n">get_all_files_of_type</span><span class="p">(</span><span class="n">project_dir</span><span class="p">,</span> <span class="s2">&quot;html&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">html_files</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">has_style_attr</span> <span class="o">=</span> <span class="n">html_tools</span><span class="o">.</span><span class="n">has_style_attribute_data</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="n">has_style_attr</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;fail: </span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s2"> uses style attributes&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;pass: </span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s2"> does not use style attributes&quot;</span>
        <span class="n">report</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">report</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.passes_global_color_contrast" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">passes_global_color_contrast</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">goal</span><span class="o">=</span><span class="s1">&#39;Normal AAA&#39;</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>determines whether a file passes global color contrast</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>file</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>path to file in question.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>goal</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>what's the color contrast goal - set to Normal AAA by
default.</p>
              </div>
            </td>
            <td>
                  <code>&#39;Normal AAA&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>meets</code></td>            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether it passes contrast goals or not</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2217</span>
<span class="normal">2218</span>
<span class="normal">2219</span>
<span class="normal">2220</span>
<span class="normal">2221</span>
<span class="normal">2222</span>
<span class="normal">2223</span>
<span class="normal">2224</span>
<span class="normal">2225</span>
<span class="normal">2226</span>
<span class="normal">2227</span>
<span class="normal">2228</span>
<span class="normal">2229</span>
<span class="normal">2230</span>
<span class="normal">2231</span>
<span class="normal">2232</span>
<span class="normal">2233</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">passes_global_color_contrast</span><span class="p">(</span><span class="n">file</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">goal</span><span class="o">=</span><span class="s2">&quot;Normal AAA&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;determines whether a file passes global color contrast</span>

<span class="sd">    Args:</span>
<span class="sd">        file: path to file in question.</span>

<span class="sd">        goal: what&#39;s the color contrast goal - set to Normal AAA by</span>
<span class="sd">            default.</span>

<span class="sd">    Returns:</span>
<span class="sd">        meets: whether it passes contrast goals or not</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">global_colors</span> <span class="o">=</span> <span class="n">get_global_colors</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
    <span class="n">details</span> <span class="o">=</span> <span class="n">global_colors</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
    <span class="n">goal_key</span> <span class="o">=</span> <span class="s2">&quot;passes_&quot;</span> <span class="o">+</span> <span class="n">goal</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="n">meets</span> <span class="o">=</span> <span class="n">details</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">goal_key</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">meets</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.process_gradient" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">process_gradient</span><span class="p">(</span><span class="n">code</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>returns list of all colors from gradient sorted light to dark</p>
<p>This function is a work in progress. The goal is to eventually use
it to determine whether a gradient meets color contrast
accessibility ratings when compared against another color or
color gradient.</p>
<p>In order to do this, the plan is to find
the lightest color and the darkest color, so we can check both
sides of the range. If the lightest or darkest color fails color
contrast, then it's a fail. If both pass, then all colors in
between will pass.</p>
<p>Note: we may be adding more to this and refactoring functionality.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>code</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the color gradient value</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>only_colors</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of just color codes sorted by luminance</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2004</span>
<span class="normal">2005</span>
<span class="normal">2006</span>
<span class="normal">2007</span>
<span class="normal">2008</span>
<span class="normal">2009</span>
<span class="normal">2010</span>
<span class="normal">2011</span>
<span class="normal">2012</span>
<span class="normal">2013</span>
<span class="normal">2014</span>
<span class="normal">2015</span>
<span class="normal">2016</span>
<span class="normal">2017</span>
<span class="normal">2018</span>
<span class="normal">2019</span>
<span class="normal">2020</span>
<span class="normal">2021</span>
<span class="normal">2022</span>
<span class="normal">2023</span>
<span class="normal">2024</span>
<span class="normal">2025</span>
<span class="normal">2026</span>
<span class="normal">2027</span>
<span class="normal">2028</span>
<span class="normal">2029</span>
<span class="normal">2030</span>
<span class="normal">2031</span>
<span class="normal">2032</span>
<span class="normal">2033</span>
<span class="normal">2034</span>
<span class="normal">2035</span>
<span class="normal">2036</span>
<span class="normal">2037</span>
<span class="normal">2038</span>
<span class="normal">2039</span>
<span class="normal">2040</span>
<span class="normal">2041</span>
<span class="normal">2042</span>
<span class="normal">2043</span>
<span class="normal">2044</span>
<span class="normal">2045</span>
<span class="normal">2046</span>
<span class="normal">2047</span>
<span class="normal">2048</span>
<span class="normal">2049</span>
<span class="normal">2050</span>
<span class="normal">2051</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">process_gradient</span><span class="p">(</span><span class="n">code</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;returns list of all colors from gradient sorted light to dark</span>

<span class="sd">    This function is a work in progress. The goal is to eventually use</span>
<span class="sd">    it to determine whether a gradient meets color contrast</span>
<span class="sd">    accessibility ratings when compared against another color or</span>
<span class="sd">    color gradient.</span>

<span class="sd">    In order to do this, the plan is to find</span>
<span class="sd">    the lightest color and the darkest color, so we can check both</span>
<span class="sd">    sides of the range. If the lightest or darkest color fails color</span>
<span class="sd">    contrast, then it&#39;s a fail. If both pass, then all colors in</span>
<span class="sd">    between will pass.</span>

<span class="sd">    Note: we may be adding more to this and refactoring functionality.</span>

<span class="sd">    Args:</span>
<span class="sd">        code: the color gradient value</span>

<span class="sd">    Returns:</span>
<span class="sd">        only_colors: a list of just color codes sorted by luminance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">colors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">code</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;),&quot;</span><span class="p">)</span>

    <span class="c1"># split the last datum in data into two</span>
    <span class="n">last_item</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="n">last_split</span> <span class="o">=</span> <span class="n">last_item</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">last_split</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">last_split</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

    <span class="c1"># remove all vendor prefixes</span>
    <span class="n">pattern</span> <span class="o">=</span> <span class="n">regex_patterns</span><span class="p">[</span><span class="s2">&quot;vendor_prefix&quot;</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">datum</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
        <span class="n">datum</span> <span class="o">=</span> <span class="n">datum</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">datum</span><span class="p">):</span>
            <span class="n">colors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">datum</span><span class="p">)</span>

    <span class="c1"># capture only color codes and append to colors</span>
    <span class="n">only_colors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">colors</span><span class="p">:</span>
        <span class="c1"># grab only color codes (Nothing else)</span>
        <span class="k">for</span> <span class="n">gradient</span> <span class="ow">in</span> <span class="n">colors</span><span class="p">:</span>
            <span class="n">color_codes</span> <span class="o">=</span> <span class="n">get_colors_from_gradient</span><span class="p">(</span><span class="n">gradient</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">color_codes</span><span class="p">:</span>
                <span class="n">only_colors</span> <span class="o">+=</span> <span class="n">color_codes</span>
    <span class="n">only_colors</span> <span class="o">=</span> <span class="n">sort_color_codes</span><span class="p">(</span><span class="n">only_colors</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">only_colors</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.remove_alpha" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">remove_alpha</span><span class="p">(</span><span class="n">color_code</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>removes the alpha channel from rgba or hsla</p>
<p>Honestly, I'm not sure if this is even needed. I am looking to
eventually move over to the APCA algorithm for testing color
contrast accessibility, but at this point, I cannot find the
algorithm. If and when I do, I will work to replace the current
algorithm (WCAG AA/AAA rating).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>color_code</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the color code (hex, rgb, or hsl) with an alpha
channel.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>color_code</code></td>            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the color code without the alpha channel.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2153</span>
<span class="normal">2154</span>
<span class="normal">2155</span>
<span class="normal">2156</span>
<span class="normal">2157</span>
<span class="normal">2158</span>
<span class="normal">2159</span>
<span class="normal">2160</span>
<span class="normal">2161</span>
<span class="normal">2162</span>
<span class="normal">2163</span>
<span class="normal">2164</span>
<span class="normal">2165</span>
<span class="normal">2166</span>
<span class="normal">2167</span>
<span class="normal">2168</span>
<span class="normal">2169</span>
<span class="normal">2170</span>
<span class="normal">2171</span>
<span class="normal">2172</span>
<span class="normal">2173</span>
<span class="normal">2174</span>
<span class="normal">2175</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">remove_alpha</span><span class="p">(</span><span class="n">color_code</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;removes the alpha channel from rgba or hsla</span>

<span class="sd">    Honestly, I&#39;m not sure if this is even needed. I am looking to</span>
<span class="sd">    eventually move over to the APCA algorithm for testing color</span>
<span class="sd">    contrast accessibility, but at this point, I cannot find the</span>
<span class="sd">    algorithm. If and when I do, I will work to replace the current</span>
<span class="sd">    algorithm (WCAG AA/AAA rating).</span>

<span class="sd">    Args:</span>
<span class="sd">        color_code: the color code (hex, rgb, or hsl) with an alpha</span>
<span class="sd">            channel.</span>

<span class="sd">    Returns:</span>
<span class="sd">        color_code: the color code without the alpha channel.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">color_code</span> <span class="o">=</span> <span class="n">color_code</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
    <span class="n">a</span> <span class="o">=</span> <span class="n">color_code</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
    <span class="n">color_code</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">color_code</span><span class="p">[</span><span class="mi">0</span><span class="p">][:</span><span class="n">a</span><span class="p">]</span> <span class="o">+</span> <span class="n">color_code</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">a</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]</span>
    <span class="n">color_code</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">color_code</span> <span class="o">=</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">color_code</span><span class="p">)</span>
    <span class="n">color_code</span> <span class="o">+=</span> <span class="s2">&quot;)&quot;</span>
    <span class="k">return</span> <span class="n">color_code</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.restore_braces" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">restore_braces</span><span class="p">(</span><span class="n">split</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>restore the missing braces removed by the .split() method</p>
<p>This is more of a helper function to make sure that after splitting
at-rule code by two curly braces, we restore it back.</p>
<p>In CSS, to find the end of a nested @rule, you can use the
following code: <code>css_code.split("}}")</code> This is because a nested
@rule ends with two closing curly braces: one for the last
declaration, and the other for the end of the nested @rule.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>split</code>
            </td>
            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list created by the split method on CSS code</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>list</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the list but with the double closing braces restored from
the split.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1924</span>
<span class="normal">1925</span>
<span class="normal">1926</span>
<span class="normal">1927</span>
<span class="normal">1928</span>
<span class="normal">1929</span>
<span class="normal">1930</span>
<span class="normal">1931</span>
<span class="normal">1932</span>
<span class="normal">1933</span>
<span class="normal">1934</span>
<span class="normal">1935</span>
<span class="normal">1936</span>
<span class="normal">1937</span>
<span class="normal">1938</span>
<span class="normal">1939</span>
<span class="normal">1940</span>
<span class="normal">1941</span>
<span class="normal">1942</span>
<span class="normal">1943</span>
<span class="normal">1944</span>
<span class="normal">1945</span>
<span class="normal">1946</span>
<span class="normal">1947</span>
<span class="normal">1948</span>
<span class="normal">1949</span>
<span class="normal">1950</span>
<span class="normal">1951</span>
<span class="normal">1952</span>
<span class="normal">1953</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">restore_braces</span><span class="p">(</span><span class="n">split</span><span class="p">:</span> <span class="nb">list</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;restore the missing braces removed by the .split() method</span>

<span class="sd">    This is more of a helper function to make sure that after splitting</span>
<span class="sd">    at-rule code by two curly braces, we restore it back.</span>

<span class="sd">    In CSS, to find the end of a nested @rule, you can use the</span>
<span class="sd">    following code: `css_code.split(&quot;}}&quot;)` This is because a nested</span>
<span class="sd">    @rule ends with two closing curly braces: one for the last</span>
<span class="sd">    declaration, and the other for the end of the nested @rule.</span>

<span class="sd">    Args:</span>
<span class="sd">        split (list): a list created by the split method on CSS code</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: the list but with the double closing braces restored from</span>
<span class="sd">            the split.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">split</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">split</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">split</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">split</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">split</span><span class="p">:</span>
        <span class="c1"># only restore braces if there is an at-rule</span>
        <span class="c1"># this is more of a precaution in case there we</span>
        <span class="c1"># two closing brackets on accident.</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="s2">&quot;@&quot;</span> <span class="ow">in</span> <span class="n">item</span><span class="p">:</span>
            <span class="n">item</span> <span class="o">=</span> <span class="n">item</span> <span class="o">+</span> <span class="s2">&quot;}}&quot;</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.separate_code" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">separate_code</span><span class="p">(</span><span class="n">code</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>splits code into two lists: code &amp; comments</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>code</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the stylesheet or style tag code</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>splitzky</code></td>            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a dictionary with two lists: a list of code snippets
without comments, and a list of comments.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if there is only one comment symbol: either /<em> or
</em>/ but not both (a syntax error)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2054</span>
<span class="normal">2055</span>
<span class="normal">2056</span>
<span class="normal">2057</span>
<span class="normal">2058</span>
<span class="normal">2059</span>
<span class="normal">2060</span>
<span class="normal">2061</span>
<span class="normal">2062</span>
<span class="normal">2063</span>
<span class="normal">2064</span>
<span class="normal">2065</span>
<span class="normal">2066</span>
<span class="normal">2067</span>
<span class="normal">2068</span>
<span class="normal">2069</span>
<span class="normal">2070</span>
<span class="normal">2071</span>
<span class="normal">2072</span>
<span class="normal">2073</span>
<span class="normal">2074</span>
<span class="normal">2075</span>
<span class="normal">2076</span>
<span class="normal">2077</span>
<span class="normal">2078</span>
<span class="normal">2079</span>
<span class="normal">2080</span>
<span class="normal">2081</span>
<span class="normal">2082</span>
<span class="normal">2083</span>
<span class="normal">2084</span>
<span class="normal">2085</span>
<span class="normal">2086</span>
<span class="normal">2087</span>
<span class="normal">2088</span>
<span class="normal">2089</span>
<span class="normal">2090</span>
<span class="normal">2091</span>
<span class="normal">2092</span>
<span class="normal">2093</span>
<span class="normal">2094</span>
<span class="normal">2095</span>
<span class="normal">2096</span>
<span class="normal">2097</span>
<span class="normal">2098</span>
<span class="normal">2099</span>
<span class="normal">2100</span>
<span class="normal">2101</span>
<span class="normal">2102</span>
<span class="normal">2103</span>
<span class="normal">2104</span>
<span class="normal">2105</span>
<span class="normal">2106</span>
<span class="normal">2107</span>
<span class="normal">2108</span>
<span class="normal">2109</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">separate_code</span><span class="p">(</span><span class="n">code</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;splits code into two lists: code &amp; comments</span>

<span class="sd">    Args:</span>
<span class="sd">        code (str): the stylesheet or style tag code</span>

<span class="sd">    Returns:</span>
<span class="sd">        splitzky: a dictionary with two lists: a list of code snippets</span>
<span class="sd">            without comments, and a list of comments.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: if there is only one comment symbol: either /* or</span>
<span class="sd">            */ but not both (a syntax error)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">code</span> <span class="o">=</span> <span class="n">code</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="n">splitzky</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="p">[],</span> <span class="s2">&quot;comments&quot;</span><span class="p">:</span> <span class="p">[]}</span>

    <span class="n">new_code</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">comments</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="c1"># Get positions of comments and place all code up to the comments</span>
    <span class="c1"># in code and comments in comments</span>
    <span class="c1"># do this till all code has been separated</span>
    <span class="k">while</span> <span class="n">code</span><span class="p">:</span>
        <span class="n">positions</span> <span class="o">=</span> <span class="n">get_comment_positions</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">positions</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">positions</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">positions</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">stop</span> <span class="o">=</span> <span class="n">positions</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">code</span><span class="p">[:</span><span class="n">start</span><span class="p">]:</span>
                <span class="n">new_code</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">code</span><span class="p">[:</span><span class="n">start</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">code</span><span class="p">[</span><span class="n">start</span> <span class="p">:</span> <span class="n">stop</span> <span class="o">+</span> <span class="mi">2</span><span class="p">]:</span>
                <span class="n">comments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">code</span><span class="p">[</span><span class="n">start</span> <span class="p">:</span> <span class="n">stop</span> <span class="o">+</span> <span class="mi">2</span><span class="p">])</span>
            <span class="n">code</span> <span class="o">=</span> <span class="n">code</span><span class="p">[</span><span class="n">stop</span> <span class="o">+</span> <span class="mi">2</span> <span class="p">:]</span>
            <span class="n">code</span> <span class="o">=</span> <span class="n">code</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="s2">&quot;/*&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">code</span> <span class="ow">and</span> <span class="s2">&quot;*/&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">code</span><span class="p">:</span>
                <span class="n">new_code</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
                <span class="n">code</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># we&#39;re here because we have only one valid comment</span>
                <span class="c1"># symbol</span>
                <span class="k">if</span> <span class="s2">&quot;/*&quot;</span> <span class="ow">in</span> <span class="n">code</span><span class="p">:</span>
                    <span class="n">has</span><span class="p">,</span> <span class="n">has_not</span> <span class="o">=</span> <span class="p">(</span>
                        <span class="s2">&quot;opening comment symbol: /*&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;closing comment symbol: */&quot;</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">has</span><span class="p">,</span> <span class="n">has_not</span> <span class="o">=</span> <span class="p">(</span>
                        <span class="s2">&quot;closing comment symbol: */&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;opening comment symbol: /*&quot;</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;There&#39;s a syntax issue with your code comments.&quot;</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot; You have a </span><span class="si">{0}</span><span class="s2"> but no </span><span class="si">{1}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">has</span><span class="p">,</span> <span class="n">has_not</span><span class="p">)</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="n">splitzky</span><span class="p">[</span><span class="s2">&quot;code&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_code</span>
    <span class="n">splitzky</span><span class="p">[</span><span class="s2">&quot;comments&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">comments</span>
    <span class="k">return</span> <span class="n">splitzky</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.sort_color_codes" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">sort_color_codes</span><span class="p">(</span><span class="n">codes</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>sorts color codes from light to dark (luminance)</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>codes</code>
            </td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="list">list</span>, <span title="tuple">tuple</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list or tuple of color values.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>sorted</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of initial color values but in order from
lightest to darkest (using luminance).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2112</span>
<span class="normal">2113</span>
<span class="normal">2114</span>
<span class="normal">2115</span>
<span class="normal">2116</span>
<span class="normal">2117</span>
<span class="normal">2118</span>
<span class="normal">2119</span>
<span class="normal">2120</span>
<span class="normal">2121</span>
<span class="normal">2122</span>
<span class="normal">2123</span>
<span class="normal">2124</span>
<span class="normal">2125</span>
<span class="normal">2126</span>
<span class="normal">2127</span>
<span class="normal">2128</span>
<span class="normal">2129</span>
<span class="normal">2130</span>
<span class="normal">2131</span>
<span class="normal">2132</span>
<span class="normal">2133</span>
<span class="normal">2134</span>
<span class="normal">2135</span>
<span class="normal">2136</span>
<span class="normal">2137</span>
<span class="normal">2138</span>
<span class="normal">2139</span>
<span class="normal">2140</span>
<span class="normal">2141</span>
<span class="normal">2142</span>
<span class="normal">2143</span>
<span class="normal">2144</span>
<span class="normal">2145</span>
<span class="normal">2146</span>
<span class="normal">2147</span>
<span class="normal">2148</span>
<span class="normal">2149</span>
<span class="normal">2150</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">sort_color_codes</span><span class="p">(</span><span class="n">codes</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;sorts color codes from light to dark (luminance)</span>

<span class="sd">    Args:</span>
<span class="sd">        codes: a list or tuple of color values.</span>

<span class="sd">    Returns:</span>
<span class="sd">        sorted: a list of initial color values but in order from</span>
<span class="sd">            lightest to darkest (using luminance).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># convert code to rgb then calculate luminance</span>
    <span class="n">colors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">codes</span><span class="p">:</span>
        <span class="c1"># get the color type and convert to hsl</span>
        <span class="n">temp_c</span> <span class="o">=</span> <span class="n">c</span>
        <span class="n">color_type</span> <span class="o">=</span> <span class="n">color_tools</span><span class="o">.</span><span class="n">get_color_type</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
        <span class="n">has_alpha</span> <span class="o">=</span> <span class="n">color_tools</span><span class="o">.</span><span class="n">has_alpha_channel</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
        <span class="n">is_hex</span> <span class="o">=</span> <span class="n">color_tools</span><span class="o">.</span><span class="n">is_hex</span><span class="p">(</span><span class="n">temp_c</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">has_alpha</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">is_hex</span><span class="p">:</span>
            <span class="n">temp_c</span> <span class="o">=</span> <span class="n">remove_alpha</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
        <span class="k">if</span> <span class="s2">&quot;hsl&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">color_type</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">is_hex</span><span class="p">:</span>
                <span class="n">rgb</span> <span class="o">=</span> <span class="n">color_tools</span><span class="o">.</span><span class="n">hex_to_rgb</span><span class="p">(</span><span class="n">temp_c</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">rgb</span> <span class="o">=</span> <span class="n">temp_c</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rgb</span> <span class="o">=</span> <span class="n">color_tools</span><span class="o">.</span><span class="n">hsl_to_rgb</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
        <span class="k">if</span> <span class="s2">&quot;&lt;class &#39;str&#39;&gt;&quot;</span> <span class="o">==</span> <span class="nb">str</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">rgb</span><span class="p">)):</span>
            <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">color_tools</span><span class="o">.</span><span class="n">extract_rgb_from_string</span><span class="p">(</span><span class="n">rgb</span><span class="p">)</span>
            <span class="n">light</span> <span class="o">=</span> <span class="n">color_tools</span><span class="o">.</span><span class="n">luminance</span><span class="p">((</span><span class="nb">int</span><span class="p">(</span><span class="n">r</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">g</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">b</span><span class="p">)))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">light</span> <span class="o">=</span> <span class="n">color_tools</span><span class="o">.</span><span class="n">luminance</span><span class="p">(</span><span class="n">rgb</span><span class="p">)</span>
        <span class="n">colors</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">light</span><span class="p">,</span> <span class="n">c</span><span class="p">])</span>
    <span class="n">colors</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
    <span class="n">colors</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
    <span class="nb">sorted</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">colors</span><span class="p">:</span>
        <span class="nb">sorted</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">return</span> <span class="nb">sorted</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="webcode_tk.css_tools.styles_applied_report" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">styles_applied_report</span><span class="p">(</span><span class="n">project_dir</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>returns a report of all files in a project folder that apply styles</p>
<p>This lets us know for each HTML doc if they apply styles (pass) or
if they do not apply styles (fail)</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>project_dir</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a relative path to the project folder.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>report</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a list of HTML docs and whether they pass or fail (pass) means
they did apply styles and fail is the opposite.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>webcode_tk/css_tools.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2348</span>
<span class="normal">2349</span>
<span class="normal">2350</span>
<span class="normal">2351</span>
<span class="normal">2352</span>
<span class="normal">2353</span>
<span class="normal">2354</span>
<span class="normal">2355</span>
<span class="normal">2356</span>
<span class="normal">2357</span>
<span class="normal">2358</span>
<span class="normal">2359</span>
<span class="normal">2360</span>
<span class="normal">2361</span>
<span class="normal">2362</span>
<span class="normal">2363</span>
<span class="normal">2364</span>
<span class="normal">2365</span>
<span class="normal">2366</span>
<span class="normal">2367</span>
<span class="normal">2368</span>
<span class="normal">2369</span>
<span class="normal">2370</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">styles_applied_report</span><span class="p">(</span><span class="n">project_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;returns a report of all files in a project folder that apply styles</span>

<span class="sd">    This lets us know for each HTML doc if they apply styles (pass) or</span>
<span class="sd">    if they do not apply styles (fail)</span>

<span class="sd">    Args:</span>
<span class="sd">        project_dir: a relative path to the project folder.</span>

<span class="sd">    Returns:</span>
<span class="sd">        report: a list of HTML docs and whether they pass or fail (pass) means</span>
<span class="sd">            they did apply styles and fail is the opposite.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">report</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">html_files</span> <span class="o">=</span> <span class="n">clerk</span><span class="o">.</span><span class="n">get_all_files_of_type</span><span class="p">(</span><span class="n">project_dir</span><span class="p">,</span> <span class="s2">&quot;html&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">html_files</span><span class="p">:</span>
        <span class="n">styles</span> <span class="o">=</span> <span class="n">get_all_stylesheets_by_file</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">styles</span><span class="p">:</span>
            <span class="n">results</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;fail: </span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s2"> does NOT apply CSS.&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">results</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;pass: </span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s2"> applies CSS.&quot;</span>
        <span class="n">report</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">report</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>